(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gu={exports:{}},Vo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function Yv(){if(dh)return Vo;dh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(a,r,f){var h=null;if(f!==void 0&&(h=""+f),r.key!==void 0&&(h=""+r.key),"key"in r){f={};for(var p in r)p!=="key"&&(f[p]=r[p])}else f=r;return r=f.ref,{$$typeof:n,type:a,key:h,ref:r!==void 0?r:null,props:f}}return Vo.Fragment=e,Vo.jsx=l,Vo.jsxs=l,Vo}var mh;function Fv(){return mh||(mh=1,Gu.exports=Yv()),Gu.exports}var A=Fv(),qu={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function Jv(){if(hh)return be;hh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,V={};function q(x,G,J){this.props=x,this.context=G,this.refs=V,this.updater=J||b}q.prototype.isReactComponent={},q.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ee(){}ee.prototype=q.prototype;function K(x,G,J){this.props=x,this.context=G,this.refs=V,this.updater=J||b}var X=K.prototype=new ee;X.constructor=K,I(X,q.prototype),X.isPureReactComponent=!0;var te=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function pe(x,G,J,L,ne,Oe){return J=Oe.ref,{$$typeof:n,type:x,key:G,ref:J!==void 0?J:null,props:Oe}}function oe(x,G){return pe(x.type,G,void 0,void 0,void 0,x.props)}function ae(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function Z(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return G[J]})}var Ce=/\/+/g;function Be(x,G){return typeof x=="object"&&x!==null&&x.key!=null?Z(""+x.key):G.toString(36)}function Ve(){}function Ee(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ve,Ve):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Re(x,G,J,L,ne){var Oe=typeof x;(Oe==="undefined"||Oe==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(Oe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case n:case e:ce=!0;break;case v:return ce=x._init,Re(ce(x._payload),G,J,L,ne)}}if(ce)return ne=ne(x),ce=L===""?"."+Be(x,0):L,te(ne)?(J="",ce!=null&&(J=ce.replace(Ce,"$&/")+"/"),Re(ne,G,J,"",function(Q){return Q})):ne!=null&&(ae(ne)&&(ne=oe(ne,J+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(Ce,"$&/")+"/")+ce)),G.push(ne)),1;ce=0;var He=L===""?".":L+":";if(te(x))for(var Me=0;Me<x.length;Me++)L=x[Me],Oe=He+Be(L,Me),ce+=Re(L,G,J,Oe,ne);else if(Me=E(x),typeof Me=="function")for(x=Me.call(x),Me=0;!(L=x.next()).done;)L=L.value,Oe=He+Be(L,Me++),ce+=Re(L,G,J,Oe,ne);else if(Oe==="object"){if(typeof x.then=="function")return Re(Ee(x),G,J,L,ne);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function U(x,G,J){if(x==null)return x;var L=[],ne=0;return Re(x,L,"","",function(Oe){return G.call(J,Oe,ne++)}),L}function $(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Le(){}return be.Children={map:U,forEach:function(x,G,J){U(x,function(){G.apply(this,arguments)},J)},count:function(x){var G=0;return U(x,function(){G++}),G},toArray:function(x){return U(x,function(G){return G})||[]},only:function(x){if(!ae(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},be.Component=q,be.Fragment=l,be.Profiler=r,be.PureComponent=K,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,be.__COMPILER_RUNTIME={__proto__:null,c:function(x){return z.H.useMemoCache(x)}},be.cache=function(x){return function(){return x.apply(null,arguments)}},be.cloneElement=function(x,G,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var L=I({},x.props),ne=x.key,Oe=void 0;if(G!=null)for(ce in G.ref!==void 0&&(Oe=void 0),G.key!==void 0&&(ne=""+G.key),G)!de.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(L[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)L.children=J;else if(1<ce){for(var He=Array(ce),Me=0;Me<ce;Me++)He[Me]=arguments[Me+2];L.children=He}return pe(x.type,ne,void 0,void 0,Oe,L)},be.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},be.createElement=function(x,G,J){var L,ne={},Oe=null;if(G!=null)for(L in G.key!==void 0&&(Oe=""+G.key),G)de.call(G,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(ne[L]=G[L]);var ce=arguments.length-2;if(ce===1)ne.children=J;else if(1<ce){for(var He=Array(ce),Me=0;Me<ce;Me++)He[Me]=arguments[Me+2];ne.children=He}if(x&&x.defaultProps)for(L in ce=x.defaultProps,ce)ne[L]===void 0&&(ne[L]=ce[L]);return pe(x,Oe,void 0,void 0,null,ne)},be.createRef=function(){return{current:null}},be.forwardRef=function(x){return{$$typeof:p,render:x}},be.isValidElement=ae,be.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:$}},be.memo=function(x,G){return{$$typeof:g,type:x,compare:G===void 0?null:G}},be.startTransition=function(x){var G=z.T,J={};z.T=J;try{var L=x(),ne=z.S;ne!==null&&ne(J,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(Le,me)}catch(Oe){me(Oe)}finally{z.T=G}},be.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},be.use=function(x){return z.H.use(x)},be.useActionState=function(x,G,J){return z.H.useActionState(x,G,J)},be.useCallback=function(x,G){return z.H.useCallback(x,G)},be.useContext=function(x){return z.H.useContext(x)},be.useDebugValue=function(){},be.useDeferredValue=function(x,G){return z.H.useDeferredValue(x,G)},be.useEffect=function(x,G,J){var L=z.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(x,G)},be.useId=function(){return z.H.useId()},be.useImperativeHandle=function(x,G,J){return z.H.useImperativeHandle(x,G,J)},be.useInsertionEffect=function(x,G){return z.H.useInsertionEffect(x,G)},be.useLayoutEffect=function(x,G){return z.H.useLayoutEffect(x,G)},be.useMemo=function(x,G){return z.H.useMemo(x,G)},be.useOptimistic=function(x,G){return z.H.useOptimistic(x,G)},be.useReducer=function(x,G,J){return z.H.useReducer(x,G,J)},be.useRef=function(x){return z.H.useRef(x)},be.useState=function(x){return z.H.useState(x)},be.useSyncExternalStore=function(x,G,J){return z.H.useSyncExternalStore(x,G,J)},be.useTransition=function(){return z.H.useTransition()},be.version="19.1.0",be}var ph;function pc(){return ph||(ph=1,qu.exports=Jv()),qu.exports}var Y=pc();const Zv=jp(Y);var zu={exports:{}},Po={},Hu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function $v(){return gh||(gh=1,function(n){function e(U,$){var me=U.length;U.push($);e:for(;0<me;){var Le=me-1>>>1,x=U[Le];if(0<r(x,$))U[Le]=$,U[me]=x,me=Le;else break e}}function l(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var $=U[0],me=U.pop();if(me!==$){U[0]=me;e:for(var Le=0,x=U.length,G=x>>>1;Le<G;){var J=2*(Le+1)-1,L=U[J],ne=J+1,Oe=U[ne];if(0>r(L,me))ne<x&&0>r(Oe,L)?(U[Le]=Oe,U[ne]=me,Le=ne):(U[Le]=L,U[J]=me,Le=J);else if(ne<x&&0>r(Oe,me))U[Le]=Oe,U[ne]=me,Le=ne;else break e}}return $}function r(U,$){var me=U.sortIndex-$.sortIndex;return me!==0?me:U.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var y=[],g=[],v=1,_=null,E=3,b=!1,I=!1,V=!1,q=!1,ee=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function te(U){for(var $=l(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=U)a(g),$.sortIndex=$.expirationTime,e(y,$);else break;$=l(g)}}function z(U){if(V=!1,te(U),!I)if(l(y)!==null)I=!0,de||(de=!0,Be());else{var $=l(g);$!==null&&Re(z,$.startTime-U)}}var de=!1,pe=-1,oe=5,ae=-1;function Z(){return q?!0:!(n.unstable_now()-ae<oe)}function Ce(){if(q=!1,de){var U=n.unstable_now();ae=U;var $=!0;try{e:{I=!1,V&&(V=!1,K(pe),pe=-1),b=!0;var me=E;try{t:{for(te(U),_=l(y);_!==null&&!(_.expirationTime>U&&Z());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,E=_.priorityLevel;var x=Le(_.expirationTime<=U);if(U=n.unstable_now(),typeof x=="function"){_.callback=x,te(U),$=!0;break t}_===l(y)&&a(y),te(U)}else a(y);_=l(y)}if(_!==null)$=!0;else{var G=l(g);G!==null&&Re(z,G.startTime-U),$=!1}}break e}finally{_=null,E=me,b=!1}$=void 0}}finally{$?Be():de=!1}}}var Be;if(typeof X=="function")Be=function(){X(Ce)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Ee=Ve.port2;Ve.port1.onmessage=Ce,Be=function(){Ee.postMessage(null)}}else Be=function(){ee(Ce,0)};function Re(U,$){pe=ee(function(){U(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(U){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var me=E;E=$;try{return U()}finally{E=me}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var me=E;E=U;try{return $()}finally{E=me}},n.unstable_scheduleCallback=function(U,$,me){var Le=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,U){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,U={id:v++,callback:$,priorityLevel:U,startTime:me,expirationTime:x,sortIndex:-1},me>Le?(U.sortIndex=me,e(g,U),l(y)===null&&U===l(g)&&(V?(K(pe),pe=-1):V=!0,Re(z,me-Le))):(U.sortIndex=x,e(y,U),I||b||(I=!0,de||(de=!0,Be()))),U},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(U){var $=E;return function(){var me=E;E=$;try{return U.apply(this,arguments)}finally{E=me}}}}(Yu)),Yu}var yh;function Xv(){return yh||(yh=1,Hu.exports=$v()),Hu.exports}var Fu={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function Kv(){if(vh)return Lt;vh=1;var n=pc();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Lt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return f(y,g,null,v)},Lt.flushSync=function(y){var g=h.T,v=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=g,a.p=v,a.d.f()}},Lt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Lt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:b}):v==="script"&&a.d.X(y,{crossOrigin:_,integrity:E,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Lt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Lt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=p(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Lt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Lt.requestFormReset=function(y){a.d.r(y)},Lt.unstable_batchedUpdates=function(y,g){return y(g)},Lt.useFormState=function(y,g,v){return h.H.useFormState(y,g,v)},Lt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Lt.version="19.1.0",Lt}var Th;function Qv(){if(Th)return Fu.exports;Th=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fu.exports=Kv(),Fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Wv(){if(Ch)return Po;Ch=1;var n=Xv(),e=pc(),l=Qv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,s=i;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return p(d),t;if(m===s)return p(d),i;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var T=!1,C=d.child;C;){if(C===o){T=!0,o=d,s=m;break}if(C===s){T=!0,s=d,o=m;break}C=C.sibling}if(!T){for(C=m.child;C;){if(C===o){T=!0,o=m,s=d;break}if(C===s){T=!0,s=m,o=d;break}C=C.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function Be(t){return t===null||typeof t!="object"?null:(t=Ce&&t[Ce]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case q:return"Profiler";case V:return"StrictMode";case z:return"Suspense";case de:return"SuspenseList";case ae:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case X:return(t.displayName||"Context")+".Provider";case K:return(t._context.displayName||"Context")+".Consumer";case te:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pe:return i=t.displayName||null,i!==null?i:Ee(t.type)||"Memo";case oe:i=t._payload,t=t._init;try{return Ee(t(i))}catch{}}return null}var Re=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],x=-1;function G(t){return{current:t}}function J(t){0>x||(t.current=Le[x],Le[x]=null,x--)}function L(t,i){x++,Le[x]=t.current,t.current=i}var ne=G(null),Oe=G(null),ce=G(null),He=G(null);function Me(t,i){switch(L(ce,i),L(Oe,t),L(ne,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Gm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Gm(i),t=qm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ne),L(ne,t)}function Q(){J(ne),J(Oe),J(ce)}function at(t){t.memoizedState!==null&&L(He,t);var i=ne.current,o=qm(i,t.type);i!==o&&(L(Oe,t),L(ne,o))}function lt(t){Oe.current===t&&(J(ne),J(Oe)),He.current===t&&(J(He),Oo._currentValue=me)}var Dt=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,Vt=n.unstable_cancelCallback,se=n.unstable_shouldYield,Se=n.unstable_requestPaint,Te=n.unstable_now,nt=n.unstable_getCurrentPriorityLevel,Ke=n.unstable_ImmediatePriority,Rt=n.unstable_UserBlockingPriority,ht=n.unstable_NormalPriority,Ye=n.unstable_LowPriority,rt=n.unstable_IdlePriority,en=n.log,Pt=n.unstable_setDisableYieldValue,Ot=null,We=null;function Tt(t){if(typeof en=="function"&&Pt(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ot,t)}catch{}}var Ae=Math.clz32?Math.clz32:ft,Rn=Math.log,pt=Math.LN2;function ft(t){return t>>>=0,t===0?32:31-(Rn(t)/pt|0)|0}var je=256,Fn=4194304;function Ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xo(t,i,o){var s=t.pendingLanes;if(s===0)return 0;var d=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=s&134217727;return C!==0?(s=C&~m,s!==0?d=Ci(s):(T&=C,T!==0?d=Ci(T):o||(o=C&~t,o!==0&&(d=Ci(o))))):(C=s&~m,C!==0?d=Ci(C):T!==0?d=Ci(T):o||(o=s&~t,o!==0&&(d=Ci(o)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:d}function Gl(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Dg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var t=je;return je<<=1,(je&4194048)===0&&(je=256),t}function Ec(){var t=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),t}function Ns(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function ql(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Og(t,i,o,s,d,m){var T=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var C=t.entanglements,S=t.expirationTimes,w=t.hiddenUpdates;for(o=T&~o;0<o;){var k=31-Ae(o),B=1<<k;C[k]=0,S[k]=-1;var D=w[k];if(D!==null)for(w[k]=null,k=0;k<D.length;k++){var O=D[k];O!==null&&(O.lane&=-536870913)}o&=~B}s!==0&&Sc(t,s,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~i))}function Sc(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var s=31-Ae(i);t.entangledLanes|=i,t.entanglements[s]=t.entanglements[s]|1073741824|o&4194090}function Ac(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var s=31-Ae(o),d=1<<s;d&i|t[s]&i&&(t[s]|=i),o&=~d}}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rc(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:ah(t.type))}function Ig(t,i){var o=$.p;try{return $.p=t,i()}finally{$.p=o}}var Jn=Math.random().toString(36).slice(2),It="__reactFiber$"+Jn,zt="__reactProps$"+Jn,zi="__reactContainer$"+Jn,Os="__reactEvents$"+Jn,Ug="__reactListeners$"+Jn,Lg="__reactHandles$"+Jn,Mc="__reactResources$"+Jn,zl="__reactMarker$"+Jn;function Is(t){delete t[It],delete t[zt],delete t[Os],delete t[Ug],delete t[Lg]}function Hi(t){var i=t[It];if(i)return i;for(var o=t.parentNode;o;){if(i=o[zi]||o[It]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Fm(t);t!==null;){if(o=t[It])return o;t=Fm(t)}return i}t=o,o=t.parentNode}return null}function Yi(t){if(t=t[It]||t[zi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Hl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Fi(t){var i=t[Mc];return i||(i=t[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[zl]=!0}var bc=new Set,Nc={};function _i(t,i){Ji(t,i),Ji(t+"Capture",i)}function Ji(t,i){for(Nc[t]=i,t=0;t<i.length;t++)bc.add(i[t])}var kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Dc={};function Vg(t){return Dt.call(Dc,t)?!0:Dt.call(wc,t)?!1:kg.test(t)?Dc[t]=!0:(wc[t]=!0,!1)}function Ko(t,i,o){if(Vg(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Qo(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Mn(t,i,o,s){if(s===null)t.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+s)}}var Us,Oc;function Zi(t){if(Us===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Us=i&&i[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+t+Oc}var Ls=!1;function ks(t,i){if(!t||Ls)return"";Ls=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(O){var D=O}Reflect.construct(t,[],B)}else{try{B.call()}catch(O){D=O}t.call(B.prototype)}}else{try{throw Error()}catch(O){D=O}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],C=m[1];if(T&&C){var S=T.split(`
`),w=C.split(`
`);for(d=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(s===S.length||d===w.length)for(s=S.length-1,d=w.length-1;1<=s&&0<=d&&S[s]!==w[d];)d--;for(;1<=s&&0<=d;s--,d--)if(S[s]!==w[d]){if(s!==1||d!==1)do if(s--,d--,0>d||S[s]!==w[d]){var k=`
`+S[s].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=s&&0<=d);break}}}finally{Ls=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Zi(o):""}function Pg(t){switch(t.tag){case 26:case 27:case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return ks(t.type,!1);case 11:return ks(t.type.render,!1);case 1:return ks(t.type,!0);case 31:return Zi("Activity");default:return""}}function Ic(t){try{var i="";do i+=Pg(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bg(t){var i=Uc(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),s=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){s=""+T,m.call(this,T)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Wo(t){t._valueTracker||(t._valueTracker=Bg(t))}function Lc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),s="";return t&&(s=Uc(t)?t.checked?"true":"false":t.value),t=s,t!==o?(i.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gg=/[\n"\\]/g;function nn(t){return t.replace(Gg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vs(t,i,o,s,d,m,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Ps(t,T,tn(i)):o!=null?Ps(t,T,tn(o)):s!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+tn(C):t.removeAttribute("name")}function kc(t,i,o,s,d,m,T,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+tn(o):"",i=i!=null?""+tn(i):o,C||i===t.value||(t.value=i),t.defaultValue=i}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=C?t.checked:!!s,t.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ps(t,i,o){i==="number"&&jo(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function $i(t,i,o,s){if(t=t.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=i.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&s&&(t[o].defaultSelected=!0)}else{for(o=""+tn(o),i=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Vc(t,i,o){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+tn(o):""}function Pc(t,i,o,s){if(i==null){if(s!=null){if(o!=null)throw Error(a(92));if(Re(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),i=o}o=tn(i),t.defaultValue=o,s=t.textContent,s===o&&s!==""&&s!==null&&(t.value=s)}function Xi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(t,i,o){var s=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":s?t.setProperty(i,o):typeof o!="number"||o===0||qg.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Gc(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var d in i)s=i[d],i.hasOwnProperty(d)&&o[d]!==s&&Bc(t,d,s)}else for(var m in i)i.hasOwnProperty(m)&&Bc(t,m,i[m])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(t){return Hg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gs=null;function qs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Qi=null;function qc(t){var i=Yi(t);if(i&&(t=i.stateNode)){var o=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Vs(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var s=o[i];if(s!==t&&s.form===t.form){var d=s[zt]||null;if(!d)throw Error(a(90));Vs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)s=o[i],s.form===t.form&&Lc(s)}break e;case"textarea":Vc(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&$i(t,!!o.multiple,i,!1)}}}var zs=!1;function zc(t,i,o){if(zs)return t(i,o);zs=!0;try{var s=t(i);return s}finally{if(zs=!1,(Ki!==null||Qi!==null)&&(Ba(),Ki&&(i=Ki,t=Qi,Qi=Ki=null,qc(i),t)))for(i=0;i<t.length;i++)qc(t[i])}}function Yl(t,i){var o=t.stateNode;if(o===null)return null;var s=o[zt]||null;if(s===null)return null;o=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(bn)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Hs=!1}var Zn=null,Ys=null,ta=null;function Hc(){if(ta)return ta;var t,i=Ys,o=i.length,s,d="value"in Zn?Zn.value:Zn.textContent,m=d.length;for(t=0;t<o&&i[t]===d[t];t++);var T=o-t;for(s=1;s<=T&&i[o-s]===d[m-s];s++);return ta=d.slice(t,1<s?1-s:void 0)}function na(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ia(){return!0}function Yc(){return!1}function Ht(t){function i(o,s,d,m,T){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ia:Yc,this.isPropagationStopped=Yc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Ht(xi),Jl=v({},xi,{view:0,detail:0}),Yg=Ht(Jl),Fs,Js,Zl,oa=v({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(Fs=t.screenX-Zl.screenX,Js=t.screenY-Zl.screenY):Js=Fs=0,Zl=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),Fc=Ht(oa),Fg=v({},oa,{dataTransfer:0}),Jg=Ht(Fg),Zg=v({},Jl,{relatedTarget:0}),Zs=Ht(Zg),$g=v({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=Ht($g),Kg=v({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qg=Ht(Kg),Wg=v({},xi,{data:0}),Jc=Ht(Wg),jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ty[t])?!!i[t]:!1}function $s(){return ny}var iy=v({},Jl,{key:function(t){if(t.key){var i=jg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ly=Ht(iy),oy=v({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=Ht(oy),ay=v({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),sy=Ht(ay),ry=v({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=Ht(ry),cy=v({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fy=Ht(cy),dy=v({},xi,{newState:0,oldState:0}),my=Ht(dy),hy=[9,13,27,32],Xs=bn&&"CompositionEvent"in window,$l=null;bn&&"documentMode"in document&&($l=document.documentMode);var py=bn&&"TextEvent"in window&&!$l,$c=bn&&(!Xs||$l&&8<$l&&11>=$l),Xc=" ",Kc=!1;function Qc(t,i){switch(t){case"keyup":return hy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function gy(t,i){switch(t){case"compositionend":return Wc(i);case"keypress":return i.which!==32?null:(Kc=!0,Xc);case"textInput":return t=i.data,t===Xc&&Kc?null:t;default:return null}}function yy(t,i){if(Wi)return t==="compositionend"||!Xs&&Qc(t,i)?(t=Hc(),ta=Ys=Zn=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $c&&i.locale!=="ko"?null:i.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!vy[t.type]:i==="textarea"}function ef(t,i,o,s){Ki?Qi?Qi.push(s):Qi=[s]:Ki=s,i=Fa(i,"onChange"),0<i.length&&(o=new la("onChange","change",null,o,s),t.push({event:o,listeners:i}))}var Xl=null,Kl=null;function Ty(t){Lm(t,0)}function aa(t){var i=Hl(t);if(Lc(i))return t}function tf(t,i){if(t==="change")return i}var nf=!1;if(bn){var Ks;if(bn){var Qs="oninput"in document;if(!Qs){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Qs=typeof lf.oninput=="function"}Ks=Qs}else Ks=!1;nf=Ks&&(!document.documentMode||9<document.documentMode)}function of(){Xl&&(Xl.detachEvent("onpropertychange",af),Kl=Xl=null)}function af(t){if(t.propertyName==="value"&&aa(Kl)){var i=[];ef(i,Kl,t,qs(t)),zc(Ty,i)}}function Cy(t,i,o){t==="focusin"?(of(),Xl=i,Kl=o,Xl.attachEvent("onpropertychange",af)):t==="focusout"&&of()}function _y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return aa(Kl)}function xy(t,i){if(t==="click")return aa(i)}function Ey(t,i){if(t==="input"||t==="change")return aa(i)}function Sy(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Zt=typeof Object.is=="function"?Object.is:Sy;function Ql(t,i){if(Zt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),s=Object.keys(i);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Dt.call(i,d)||!Zt(t[d],i[d]))return!1}return!0}function sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rf(t,i){var o=sf(t);t=0;for(var s;o;){if(o.nodeType===3){if(s=t+o.textContent.length,t<=i&&s>=i)return{node:o,offset:i-t};t=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sf(o)}}function uf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?uf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=jo(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=jo(t.document)}return i}function Ws(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ay=bn&&"documentMode"in document&&11>=document.documentMode,ji=null,js=null,Wl=null,er=!1;function ff(t,i,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;er||ji==null||ji!==jo(s)||(s=ji,"selectionStart"in s&&Ws(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wl&&Ql(Wl,s)||(Wl=s,s=Fa(js,"onSelect"),0<s.length&&(i=new la("onSelect","select",null,i,o),t.push({event:i,listeners:s}),i.target=ji)))}function Ei(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var el={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},tr={},df={};bn&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Si(t){if(tr[t])return tr[t];if(!el[t])return t;var i=el[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in df)return tr[t]=i[o];return t}var mf=Si("animationend"),hf=Si("animationiteration"),pf=Si("animationstart"),Ry=Si("transitionrun"),My=Si("transitionstart"),by=Si("transitioncancel"),gf=Si("transitionend"),yf=new Map,nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nr.push("scrollEnd");function dn(t,i){yf.set(t,i),_i(i,[t])}var vf=new WeakMap;function ln(t,i){if(typeof t=="object"&&t!==null){var o=vf.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Ic(i)},vf.set(t,i),i)}return{value:t,source:i,stack:Ic(i)}}var on=[],tl=0,ir=0;function sa(){for(var t=tl,i=ir=tl=0;i<t;){var o=on[i];on[i++]=null;var s=on[i];on[i++]=null;var d=on[i];on[i++]=null;var m=on[i];if(on[i++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Tf(o,d,m)}}function ra(t,i,o,s){on[tl++]=t,on[tl++]=i,on[tl++]=o,on[tl++]=s,ir|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function lr(t,i,o,s){return ra(t,i,o,s),ua(t)}function nl(t,i){return ra(t,null,null,i),ua(t)}function Tf(t,i,o){t.lanes|=o;var s=t.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=t.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&i!==null&&(d=31-Ae(o),t=m.hiddenUpdates,s=t[d],s===null?t[d]=[i]:s.push(i),i.lane=o|536870912),m):null}function ua(t){if(50<So)throw So=0,cu=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var il={};function Ny(t,i,o,s){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,i,o,s){return new Ny(t,i,o,s)}function or(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nn(t,i){var o=t.alternate;return o===null?(o=$t(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Cf(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ca(t,i,o,s,d,m){var T=0;if(s=t,typeof t=="function")or(t)&&(T=1);else if(typeof t=="string")T=Dv(t,o,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ae:return t=$t(31,o,i,d),t.elementType=ae,t.lanes=m,t;case I:return Ai(o.children,d,m,i);case V:T=8,d|=24;break;case q:return t=$t(12,o,i,d|2),t.elementType=q,t.lanes=m,t;case z:return t=$t(13,o,i,d),t.elementType=z,t.lanes=m,t;case de:return t=$t(19,o,i,d),t.elementType=de,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:case X:T=10;break e;case K:T=9;break e;case te:T=11;break e;case pe:T=14;break e;case oe:T=16,s=null;break e}T=29,o=Error(a(130,t===null?"null":typeof t,"")),s=null}return i=$t(T,o,i,d),i.elementType=t,i.type=s,i.lanes=m,i}function Ai(t,i,o,s){return t=$t(7,t,s,i),t.lanes=o,t}function ar(t,i,o){return t=$t(6,t,null,i),t.lanes=o,t}function sr(t,i,o){return i=$t(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ll=[],ol=0,fa=null,da=0,an=[],sn=0,Ri=null,wn=1,Dn="";function Mi(t,i){ll[ol++]=da,ll[ol++]=fa,fa=t,da=i}function _f(t,i,o){an[sn++]=wn,an[sn++]=Dn,an[sn++]=Ri,Ri=t;var s=wn;t=Dn;var d=32-Ae(s)-1;s&=~(1<<d),o+=1;var m=32-Ae(i)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,wn=1<<32-Ae(i)+d|o<<d|s,Dn=m+t}else wn=1<<m|o<<d|s,Dn=t}function rr(t){t.return!==null&&(Mi(t,1),_f(t,1,0))}function ur(t){for(;t===fa;)fa=ll[--ol],ll[ol]=null,da=ll[--ol],ll[ol]=null;for(;t===Ri;)Ri=an[--sn],an[sn]=null,Dn=an[--sn],an[sn]=null,wn=an[--sn],an[sn]=null}var Bt=null,ut=null,ze=!1,bi=null,yn=!1,cr=Error(a(519));function Ni(t){var i=Error(a(418,""));throw to(ln(i,t)),cr}function xf(t){var i=t.stateNode,o=t.type,s=t.memoizedProps;switch(i[It]=t,i[zt]=s,o){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Ue(Ro[o],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),kc(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Wo(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Pc(i,s.value,s.defaultValue,s.children),Wo(i)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||s.suppressHydrationWarning===!0||Bm(i.textContent,o)?(s.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),s.onScroll!=null&&Ue("scroll",i),s.onScrollEnd!=null&&Ue("scrollend",i),s.onClick!=null&&(i.onclick=Ja),i=!0):i=!1,i||Ni(t)}function Ef(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Bt=Bt.return}}function jl(t){if(t!==Bt)return!1;if(!ze)return Ef(t),ze=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Ru(t.type,t.memoizedProps)),o=!o),o&&ut&&Ni(t),Ef(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){ut=hn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,ui(t.type)?(t=wu,wu=null,ut=t):ut=i):ut=Bt?hn(t.stateNode.nextSibling):null;return!0}function eo(){ut=Bt=null,ze=!1}function Sf(){var t=bi;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),bi=null),t}function to(t){bi===null?bi=[t]:bi.push(t)}var fr=G(null),wi=null,On=null;function $n(t,i,o){L(fr,i._currentValue),i._currentValue=o}function In(t){t._currentValue=fr.current,J(fr)}function dr(t,i,o){for(;t!==null;){var s=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),t===o)break;t=t.return}}function mr(t,i,o,s){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=d;for(var S=0;S<i.length;S++)if(C.context===i[S]){m.lanes|=o,C=m.alternate,C!==null&&(C.lanes|=o),dr(m.return,o,t),s||(T=null);break e}m=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),dr(T,o,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function no(t,i,o,s){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=d.type;Zt(d.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(d===He.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}d=d.return}t!==null&&mr(i,t,o,s),i.flags|=262144}function ma(t){for(t=t.firstContext;t!==null;){if(!Zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Di(t){wi=t,On=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ut(t){return Af(wi,t)}function ha(t,i){return wi===null&&Di(t),Af(t,i)}function Af(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},On===null){if(t===null)throw Error(a(308));On=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else On=On.next=i;return o}var wy=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,s){t.push(s)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},Dy=n.unstable_scheduleCallback,Oy=n.unstable_NormalPriority,Ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hr(){return{controller:new wy,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&Dy(Oy,function(){t.controller.abort()})}var lo=null,pr=0,al=0,sl=null;function Iy(t,i){if(lo===null){var o=lo=[];pr=0,al=yu(),sl={status:"pending",value:void 0,then:function(s){o.push(s)}}}return pr++,i.then(Rf,Rf),i}function Rf(){if(--pr===0&&lo!==null){sl!==null&&(sl.status="fulfilled");var t=lo;lo=null,al=0,sl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Uy(t,i){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){s.status="fulfilled",s.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var Mf=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Iy(t,i),Mf!==null&&Mf(t,i)};var Oi=G(null);function gr(){var t=Oi.current;return t!==null?t:et.pooledCache}function pa(t,i){i===null?L(Oi,Oi.current):L(Oi,i.pool)}function bf(){var t=gr();return t===null?null:{parent:Ct._currentValue,pool:t}}var oo=Error(a(460)),Nf=Error(a(474)),ga=Error(a(542)),yr={then:function(){}};function wf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ya(){}function Df(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(ya,ya),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,If(t),t;default:if(typeof i.status=="string")i.then(ya,ya);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(s){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=s}},function(s){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,If(t),t}throw ao=i,oo}}var ao=null;function Of(){if(ao===null)throw Error(a(459));var t=ao;return ao=null,t}function If(t){if(t===oo||t===ga)throw Error(a(483))}var Xn=!1;function vr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(t,i,o){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var d=s.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i,i=ua(t),Tf(t,null,o),i}return ra(t,s,i,o),ua(t)}function so(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var s=i.lanes;s&=t.pendingLanes,o|=s,i.lanes=o,Ac(t,o)}}function Cr(t,i){var o=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?d=m=i:m=m.next=i}else d=m=i;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var _r=!1;function ro(){if(_r){var t=sl;if(t!==null)throw t}}function uo(t,i,o,s){_r=!1;var d=t.updateQueue;Xn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var S=C,w=S.next;S.next=null,T===null?m=w:T.next=w,T=S;var k=t.alternate;k!==null&&(k=k.updateQueue,C=k.lastBaseUpdate,C!==T&&(C===null?k.firstBaseUpdate=w:C.next=w,k.lastBaseUpdate=S))}if(m!==null){var B=d.baseState;T=0,k=w=S=null,C=m;do{var D=C.lane&-536870913,O=D!==C.lane;if(O?(Pe&D)===D:(s&D)===D){D!==0&&D===al&&(_r=!0),k!==null&&(k=k.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=t,he=C;D=i;var Xe=o;switch(he.tag){case 1:if(ye=he.payload,typeof ye=="function"){B=ye.call(Xe,B,D);break e}B=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=he.payload,D=typeof ye=="function"?ye.call(Xe,B,D):ye,D==null)break e;B=v({},B,D);break e;case 2:Xn=!0}}D=C.callback,D!==null&&(t.flags|=64,O&&(t.flags|=8192),O=d.callbacks,O===null?d.callbacks=[D]:O.push(D))}else O={lane:D,tag:C.tag,payload:C.payload,callback:C.callback,next:null},k===null?(w=k=O,S=B):k=k.next=O,T|=D;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;O=C,C=O.next,O.next=null,d.lastBaseUpdate=O,d.shared.pending=null}}while(!0);k===null&&(S=B),d.baseState=S,d.firstBaseUpdate=w,d.lastBaseUpdate=k,m===null&&(d.shared.lanes=0),oi|=T,t.lanes=T,t.memoizedState=B}}function Uf(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Lf(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Uf(o[t],i)}var rl=G(null),va=G(0);function kf(t,i){t=Gn,L(va,t),L(rl,i),Gn=t|i.baseLanes}function xr(){L(va,Gn),L(rl,rl.current)}function Er(){Gn=va.current,J(rl),J(va)}var Wn=0,we=null,Ze=null,gt=null,Ta=!1,ul=!1,Ii=!1,Ca=0,co=0,cl=null,Ly=0;function dt(){throw Error(a(321))}function Sr(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Zt(t[o],i[o]))return!1;return!0}function Ar(t,i,o,s,d,m){return Wn=m,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?Td:Cd,Ii=!1,m=o(s,d),Ii=!1,ul&&(m=Pf(i,o,s,d)),Vf(t),m}function Vf(t){U.H=Ra;var i=Ze!==null&&Ze.next!==null;if(Wn=0,gt=Ze=we=null,Ta=!1,co=0,cl=null,i)throw Error(a(300));t===null||Et||(t=t.dependencies,t!==null&&ma(t)&&(Et=!0))}function Pf(t,i,o,s){we=t;var d=0;do{if(ul&&(cl=null),co=0,ul=!1,25<=d)throw Error(a(301));if(d+=1,gt=Ze=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=zy,m=i(o,s)}while(ul);return m}function ky(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?fo(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(we.flags|=1024),i}function Rr(){var t=Ca!==0;return Ca=0,t}function Mr(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function br(t){if(Ta){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ta=!1}Wn=0,gt=Ze=we=null,ul=!1,co=Ca=0,cl=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?we.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ze===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=gt===null?we.memoizedState:gt.next;if(i!==null)gt=i,Ze=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},gt===null?we.memoizedState=gt=t:gt=gt.next=t}return gt}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var i=co;return co+=1,cl===null&&(cl=[]),t=Df(cl,t,i),i=we,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Td:Cd),t}function _a(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===X)return Ut(t)}throw Error(a(438,String(t)))}function wr(t){var i=null,o=we.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Nr(),we.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),s=0;s<t;s++)o[s]=Z;return i.index++,o}function Un(t,i){return typeof i=="function"?i(t):i}function xa(t){var i=yt();return Dr(i,Ze,t)}function Dr(t,i,o){var s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=t.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}i.baseQueue=d=m,s.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var C=T=null,S=null,w=i,k=!1;do{var B=w.lane&-536870913;if(B!==w.lane?(Pe&B)===B:(Wn&B)===B){var D=w.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),B===al&&(k=!0);else if((Wn&D)===D){w=w.next,D===al&&(k=!0);continue}else B={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},S===null?(C=S=B,T=m):S=S.next=B,we.lanes|=D,oi|=D;B=w.action,Ii&&o(m,B),m=w.hasEagerState?w.eagerState:o(m,B)}else D={lane:B,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},S===null?(C=S=D,T=m):S=S.next=D,we.lanes|=B,oi|=B;w=w.next}while(w!==null&&w!==i);if(S===null?T=m:S.next=C,!Zt(m,t.memoizedState)&&(Et=!0,k&&(o=sl,o!==null)))throw o;t.memoizedState=m,t.baseState=T,t.baseQueue=S,s.lastRenderedState=m}return d===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Or(t){var i=yt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var s=o.dispatch,d=o.pending,m=i.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do m=t(m,T.action),T=T.next;while(T!==d);Zt(m,i.memoizedState)||(Et=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,s]}function Bf(t,i,o){var s=we,d=yt(),m=ze;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!Zt((Ze||d).memoizedState,o);T&&(d.memoizedState=o,Et=!0),d=d.queue;var C=zf.bind(null,s,d,t);if(mo(2048,8,C,[t]),d.getSnapshot!==i||T||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,fl(9,Ea(),qf.bind(null,s,d,o,i),null),et===null)throw Error(a(349));m||(Wn&124)!==0||Gf(s,i,o)}return o}function Gf(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=we.updateQueue,i===null?(i=Nr(),we.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function qf(t,i,o,s){i.value=o,i.getSnapshot=s,Hf(i)&&Yf(t)}function zf(t,i,o){return o(function(){Hf(i)&&Yf(t)})}function Hf(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Zt(t,o)}catch{return!0}}function Yf(t){var i=nl(t,2);i!==null&&jt(i,t,2)}function Ir(t){var i=Yt();if(typeof t=="function"){var o=t;if(t=o(),Ii){Tt(!0);try{o()}finally{Tt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:t},i}function Ff(t,i,o,s){return t.baseState=o,Dr(t,Ze,typeof s=="function"?s:Un)}function Vy(t,i,o,s,d){if(Aa(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};U.T!==null?o(!0):m.isTransition=!1,s(m),o=i.pending,o===null?(m.next=i.pending=m,Jf(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Jf(t,i){var o=i.action,s=i.payload,d=t.state;if(i.isTransition){var m=U.T,T={};U.T=T;try{var C=o(d,s),S=U.S;S!==null&&S(T,C),Zf(t,i,C)}catch(w){Ur(t,i,w)}finally{U.T=m}}else try{m=o(d,s),Zf(t,i,m)}catch(w){Ur(t,i,w)}}function Zf(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){$f(t,i,s)},function(s){return Ur(t,i,s)}):$f(t,i,o)}function $f(t,i,o){i.status="fulfilled",i.value=o,Xf(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Jf(t,o)))}function Ur(t,i,o){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=o,Xf(i),i=i.next;while(i!==s)}t.action=null}function Xf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kf(t,i){return i}function Qf(t,i){if(ze){var o=et.formState;if(o!==null){e:{var s=we;if(ze){if(ut){t:{for(var d=ut,m=yn;d.nodeType!==8;){if(!m){d=null;break t}if(d=hn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ut=hn(d.nextSibling),s=d.data==="F!";break e}}Ni(s)}s=!1}s&&(i=o[0])}}return o=Yt(),o.memoizedState=o.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:i},o.queue=s,o=gd.bind(null,we,s),s.dispatch=o,s=Ir(!1),m=Br.bind(null,we,!1,s.queue),s=Yt(),d={state:i,dispatch:null,action:t,pending:null},s.queue=d,o=Vy.bind(null,we,d,m,o),d.dispatch=o,s.memoizedState=t,[i,o,!1]}function Wf(t){var i=yt();return jf(i,Ze,t)}function jf(t,i,o){if(i=Dr(t,i,Kf)[0],t=xa(Un)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=fo(i)}catch(T){throw T===oo?ga:T}else s=i;i=yt();var d=i.queue,m=d.dispatch;return o!==i.memoizedState&&(we.flags|=2048,fl(9,Ea(),Py.bind(null,d,o),null)),[s,m,t]}function Py(t,i){t.action=i}function ed(t){var i=yt(),o=Ze;if(o!==null)return jf(i,o,t);yt(),i=i.memoizedState,o=yt();var s=o.queue.dispatch;return o.memoizedState=t,[i,s,!1]}function fl(t,i,o,s){return t={tag:t,create:o,deps:s,inst:i,next:null},i=we.updateQueue,i===null&&(i=Nr(),we.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(s=o.next,o.next=t,t.next=s,i.lastEffect=t),t}function Ea(){return{destroy:void 0,resource:void 0}}function td(){return yt().memoizedState}function Sa(t,i,o,s){var d=Yt();s=s===void 0?null:s,we.flags|=t,d.memoizedState=fl(1|i,Ea(),o,s)}function mo(t,i,o,s){var d=yt();s=s===void 0?null:s;var m=d.memoizedState.inst;Ze!==null&&s!==null&&Sr(s,Ze.memoizedState.deps)?d.memoizedState=fl(i,m,o,s):(we.flags|=t,d.memoizedState=fl(1|i,m,o,s))}function nd(t,i){Sa(8390656,8,t,i)}function id(t,i){mo(2048,8,t,i)}function ld(t,i){return mo(4,2,t,i)}function od(t,i){return mo(4,4,t,i)}function ad(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sd(t,i,o){o=o!=null?o.concat([t]):null,mo(4,4,ad.bind(null,i,t),o)}function Lr(){}function rd(t,i){var o=yt();i=i===void 0?null:i;var s=o.memoizedState;return i!==null&&Sr(i,s[1])?s[0]:(o.memoizedState=[t,i],t)}function ud(t,i){var o=yt();i=i===void 0?null:i;var s=o.memoizedState;if(i!==null&&Sr(i,s[1]))return s[0];if(s=t(),Ii){Tt(!0);try{t()}finally{Tt(!1)}}return o.memoizedState=[s,i],s}function kr(t,i,o){return o===void 0||(Wn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=dm(),we.lanes|=t,oi|=t,o)}function cd(t,i,o,s){return Zt(o,i)?o:rl.current!==null?(t=kr(t,o,s),Zt(t,i)||(Et=!0),t):(Wn&42)===0?(Et=!0,t.memoizedState=o):(t=dm(),we.lanes|=t,oi|=t,i)}function fd(t,i,o,s,d){var m=$.p;$.p=m!==0&&8>m?m:8;var T=U.T,C={};U.T=C,Br(t,!1,i,o);try{var S=d(),w=U.S;if(w!==null&&w(C,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var k=Uy(S,s);ho(t,i,k,Wt(t))}else ho(t,i,s,Wt(t))}catch(B){ho(t,i,{then:function(){},status:"rejected",reason:B},Wt())}finally{$.p=m,U.T=T}}function By(){}function Vr(t,i,o,s){if(t.tag!==5)throw Error(a(476));var d=dd(t).queue;fd(t,d,i,me,o===null?By:function(){return md(t),o(s)})}function dd(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function md(t){var i=dd(t).next.queue;ho(t,i,{},Wt())}function Pr(){return Ut(Oo)}function hd(){return yt().memoizedState}function pd(){return yt().memoizedState}function Gy(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Wt();t=Kn(o);var s=Qn(i,t,o);s!==null&&(jt(s,i,o),so(s,i,o)),i={cache:hr()},t.payload=i;return}i=i.return}}function qy(t,i,o){var s=Wt();o={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Aa(t)?yd(i,o):(o=lr(t,i,o,s),o!==null&&(jt(o,t,s),vd(o,i,s)))}function gd(t,i,o){var s=Wt();ho(t,i,o,s)}function ho(t,i,o,s){var d={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Aa(t))yd(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,C=m(T,o);if(d.hasEagerState=!0,d.eagerState=C,Zt(C,T))return ra(t,i,d,0),et===null&&sa(),!1}catch{}finally{}if(o=lr(t,i,d,s),o!==null)return jt(o,t,s),vd(o,i,s),!0}return!1}function Br(t,i,o,s){if(s={lane:2,revertLane:yu(),action:s,hasEagerState:!1,eagerState:null,next:null},Aa(t)){if(i)throw Error(a(479))}else i=lr(t,o,s,2),i!==null&&jt(i,t,2)}function Aa(t){var i=t.alternate;return t===we||i!==null&&i===we}function yd(t,i){ul=Ta=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function vd(t,i,o){if((o&4194048)!==0){var s=i.lanes;s&=t.pendingLanes,o|=s,i.lanes=o,Ac(t,o)}}var Ra={readContext:Ut,use:_a,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Td={readContext:Ut,use:_a,useCallback:function(t,i){return Yt().memoizedState=[t,i===void 0?null:i],t},useContext:Ut,useEffect:nd,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Sa(4194308,4,ad.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Sa(4194308,4,t,i)},useInsertionEffect:function(t,i){Sa(4,2,t,i)},useMemo:function(t,i){var o=Yt();i=i===void 0?null:i;var s=t();if(Ii){Tt(!0);try{t()}finally{Tt(!1)}}return o.memoizedState=[s,i],s},useReducer:function(t,i,o){var s=Yt();if(o!==void 0){var d=o(i);if(Ii){Tt(!0);try{o(i)}finally{Tt(!1)}}}else d=i;return s.memoizedState=s.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},s.queue=t,t=t.dispatch=qy.bind(null,we,t),[s.memoizedState,t]},useRef:function(t){var i=Yt();return t={current:t},i.memoizedState=t},useState:function(t){t=Ir(t);var i=t.queue,o=gd.bind(null,we,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Lr,useDeferredValue:function(t,i){var o=Yt();return kr(o,t,i)},useTransition:function(){var t=Ir(!1);return t=fd.bind(null,we,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var s=we,d=Yt();if(ze){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),et===null)throw Error(a(349));(Pe&124)!==0||Gf(s,i,o)}d.memoizedState=o;var m={value:o,getSnapshot:i};return d.queue=m,nd(zf.bind(null,s,m,t),[t]),s.flags|=2048,fl(9,Ea(),qf.bind(null,s,m,o,i),null),o},useId:function(){var t=Yt(),i=et.identifierPrefix;if(ze){var o=Dn,s=wn;o=(s&~(1<<32-Ae(s)-1)).toString(32)+o,i="«"+i+"R"+o,o=Ca++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=Ly++,i="«"+i+"r"+o.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Pr,useFormState:Qf,useActionState:Qf,useOptimistic:function(t){var i=Yt();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Br.bind(null,we,!0,o),o.dispatch=i,[t,i]},useMemoCache:wr,useCacheRefresh:function(){return Yt().memoizedState=Gy.bind(null,we)}},Cd={readContext:Ut,use:_a,useCallback:rd,useContext:Ut,useEffect:id,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:od,useMemo:ud,useReducer:xa,useRef:td,useState:function(){return xa(Un)},useDebugValue:Lr,useDeferredValue:function(t,i){var o=yt();return cd(o,Ze.memoizedState,t,i)},useTransition:function(){var t=xa(Un)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Bf,useId:hd,useHostTransitionStatus:Pr,useFormState:Wf,useActionState:Wf,useOptimistic:function(t,i){var o=yt();return Ff(o,Ze,t,i)},useMemoCache:wr,useCacheRefresh:pd},zy={readContext:Ut,use:_a,useCallback:rd,useContext:Ut,useEffect:id,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:od,useMemo:ud,useReducer:Or,useRef:td,useState:function(){return Or(Un)},useDebugValue:Lr,useDeferredValue:function(t,i){var o=yt();return Ze===null?kr(o,t,i):cd(o,Ze.memoizedState,t,i)},useTransition:function(){var t=Or(Un)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Bf,useId:hd,useHostTransitionStatus:Pr,useFormState:ed,useActionState:ed,useOptimistic:function(t,i){var o=yt();return Ze!==null?Ff(o,Ze,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:wr,useCacheRefresh:pd},dl=null,po=0;function Ma(t){var i=po;return po+=1,dl===null&&(dl=[]),Df(dl,t,i)}function go(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ba(t,i){throw i.$$typeof===_?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _d(t){var i=t._init;return i(t._payload)}function xd(t){function i(M,R){if(t){var N=M.deletions;N===null?(M.deletions=[R],M.flags|=16):N.push(R)}}function o(M,R){if(!t)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function s(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function d(M,R){return M=Nn(M,R),M.index=0,M.sibling=null,M}function m(M,R,N){return M.index=N,t?(N=M.alternate,N!==null?(N=N.index,N<R?(M.flags|=67108866,R):N):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function T(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function C(M,R,N,P){return R===null||R.tag!==6?(R=ar(N,M.mode,P),R.return=M,R):(R=d(R,N),R.return=M,R)}function S(M,R,N,P){var ie=N.type;return ie===I?k(M,R,N.props.children,P,N.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===oe&&_d(ie)===R.type)?(R=d(R,N.props),go(R,N),R.return=M,R):(R=ca(N.type,N.key,N.props,null,M.mode,P),go(R,N),R.return=M,R)}function w(M,R,N,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=sr(N,M.mode,P),R.return=M,R):(R=d(R,N.children||[]),R.return=M,R)}function k(M,R,N,P,ie){return R===null||R.tag!==7?(R=Ai(N,M.mode,P,ie),R.return=M,R):(R=d(R,N),R.return=M,R)}function B(M,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ar(""+R,M.mode,N),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return N=ca(R.type,R.key,R.props,null,M.mode,N),go(N,R),N.return=M,N;case b:return R=sr(R,M.mode,N),R.return=M,R;case oe:var P=R._init;return R=P(R._payload),B(M,R,N)}if(Re(R)||Be(R))return R=Ai(R,M.mode,N,null),R.return=M,R;if(typeof R.then=="function")return B(M,Ma(R),N);if(R.$$typeof===X)return B(M,ha(M,R),N);ba(M,R)}return null}function D(M,R,N,P){var ie=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ie!==null?null:C(M,R,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return N.key===ie?S(M,R,N,P):null;case b:return N.key===ie?w(M,R,N,P):null;case oe:return ie=N._init,N=ie(N._payload),D(M,R,N,P)}if(Re(N)||Be(N))return ie!==null?null:k(M,R,N,P,null);if(typeof N.then=="function")return D(M,R,Ma(N),P);if(N.$$typeof===X)return D(M,R,ha(M,N),P);ba(M,N)}return null}function O(M,R,N,P,ie){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return M=M.get(N)||null,C(R,M,""+P,ie);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return M=M.get(P.key===null?N:P.key)||null,S(R,M,P,ie);case b:return M=M.get(P.key===null?N:P.key)||null,w(R,M,P,ie);case oe:var De=P._init;return P=De(P._payload),O(M,R,N,P,ie)}if(Re(P)||Be(P))return M=M.get(N)||null,k(R,M,P,ie,null);if(typeof P.then=="function")return O(M,R,N,Ma(P),ie);if(P.$$typeof===X)return O(M,R,N,ha(R,P),ie);ba(R,P)}return null}function ye(M,R,N,P){for(var ie=null,De=null,fe=R,ge=R=0,At=null;fe!==null&&ge<N.length;ge++){fe.index>ge?(At=fe,fe=null):At=fe.sibling;var Ge=D(M,fe,N[ge],P);if(Ge===null){fe===null&&(fe=At);break}t&&fe&&Ge.alternate===null&&i(M,fe),R=m(Ge,R,ge),De===null?ie=Ge:De.sibling=Ge,De=Ge,fe=At}if(ge===N.length)return o(M,fe),ze&&Mi(M,ge),ie;if(fe===null){for(;ge<N.length;ge++)fe=B(M,N[ge],P),fe!==null&&(R=m(fe,R,ge),De===null?ie=fe:De.sibling=fe,De=fe);return ze&&Mi(M,ge),ie}for(fe=s(fe);ge<N.length;ge++)At=O(fe,M,ge,N[ge],P),At!==null&&(t&&At.alternate!==null&&fe.delete(At.key===null?ge:At.key),R=m(At,R,ge),De===null?ie=At:De.sibling=At,De=At);return t&&fe.forEach(function(hi){return i(M,hi)}),ze&&Mi(M,ge),ie}function he(M,R,N,P){if(N==null)throw Error(a(151));for(var ie=null,De=null,fe=R,ge=R=0,At=null,Ge=N.next();fe!==null&&!Ge.done;ge++,Ge=N.next()){fe.index>ge?(At=fe,fe=null):At=fe.sibling;var hi=D(M,fe,Ge.value,P);if(hi===null){fe===null&&(fe=At);break}t&&fe&&hi.alternate===null&&i(M,fe),R=m(hi,R,ge),De===null?ie=hi:De.sibling=hi,De=hi,fe=At}if(Ge.done)return o(M,fe),ze&&Mi(M,ge),ie;if(fe===null){for(;!Ge.done;ge++,Ge=N.next())Ge=B(M,Ge.value,P),Ge!==null&&(R=m(Ge,R,ge),De===null?ie=Ge:De.sibling=Ge,De=Ge);return ze&&Mi(M,ge),ie}for(fe=s(fe);!Ge.done;ge++,Ge=N.next())Ge=O(fe,M,ge,Ge.value,P),Ge!==null&&(t&&Ge.alternate!==null&&fe.delete(Ge.key===null?ge:Ge.key),R=m(Ge,R,ge),De===null?ie=Ge:De.sibling=Ge,De=Ge);return t&&fe.forEach(function(Hv){return i(M,Hv)}),ze&&Mi(M,ge),ie}function Xe(M,R,N,P){if(typeof N=="object"&&N!==null&&N.type===I&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case E:e:{for(var ie=N.key;R!==null;){if(R.key===ie){if(ie=N.type,ie===I){if(R.tag===7){o(M,R.sibling),P=d(R,N.props.children),P.return=M,M=P;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===oe&&_d(ie)===R.type){o(M,R.sibling),P=d(R,N.props),go(P,N),P.return=M,M=P;break e}o(M,R);break}else i(M,R);R=R.sibling}N.type===I?(P=Ai(N.props.children,M.mode,P,N.key),P.return=M,M=P):(P=ca(N.type,N.key,N.props,null,M.mode,P),go(P,N),P.return=M,M=P)}return T(M);case b:e:{for(ie=N.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){o(M,R.sibling),P=d(R,N.children||[]),P.return=M,M=P;break e}else{o(M,R);break}else i(M,R);R=R.sibling}P=sr(N,M.mode,P),P.return=M,M=P}return T(M);case oe:return ie=N._init,N=ie(N._payload),Xe(M,R,N,P)}if(Re(N))return ye(M,R,N,P);if(Be(N)){if(ie=Be(N),typeof ie!="function")throw Error(a(150));return N=ie.call(N),he(M,R,N,P)}if(typeof N.then=="function")return Xe(M,R,Ma(N),P);if(N.$$typeof===X)return Xe(M,R,ha(M,N),P);ba(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(o(M,R.sibling),P=d(R,N),P.return=M,M=P):(o(M,R),P=ar(N,M.mode,P),P.return=M,M=P),T(M)):o(M,R)}return function(M,R,N,P){try{po=0;var ie=Xe(M,R,N,P);return dl=null,ie}catch(fe){if(fe===oo||fe===ga)throw fe;var De=$t(29,fe,null,M.mode);return De.lanes=P,De.return=M,De}finally{}}}var ml=xd(!0),Ed=xd(!1),rn=G(null),vn=null;function jn(t){var i=t.alternate;L(_t,_t.current&1),L(rn,t),vn===null&&(i===null||rl.current!==null||i.memoizedState!==null)&&(vn=t)}function Sd(t){if(t.tag===22){if(L(_t,_t.current),L(rn,t),vn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vn=t)}}else ei()}function ei(){L(_t,_t.current),L(rn,rn.current)}function Ln(t){J(rn),vn===t&&(vn=null),J(_t)}var _t=G(0);function Na(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Nu(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gr(t,i,o,s){i=t.memoizedState,o=o(s,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var qr={enqueueSetState:function(t,i,o){t=t._reactInternals;var s=Wt(),d=Kn(s);d.payload=i,o!=null&&(d.callback=o),i=Qn(t,d,s),i!==null&&(jt(i,t,s),so(i,t,s))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var s=Wt(),d=Kn(s);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Qn(t,d,s),i!==null&&(jt(i,t,s),so(i,t,s))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Wt(),s=Kn(o);s.tag=2,i!=null&&(s.callback=i),i=Qn(t,s,o),i!==null&&(jt(i,t,o),so(i,t,o))}};function Ad(t,i,o,s,d,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,m,T):i.prototype&&i.prototype.isPureReactComponent?!Ql(o,s)||!Ql(d,m):!0}function Rd(t,i,o,s){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,s),i.state!==t&&qr.enqueueReplaceState(i,i.state,null)}function Ui(t,i){var o=i;if("ref"in i){o={};for(var s in i)s!=="ref"&&(o[s]=i[s])}if(t=t.defaultProps){o===i&&(o=v({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}var wa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Md(t){wa(t)}function bd(t){console.error(t)}function Nd(t){wa(t)}function Da(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function wd(t,i,o){try{var s=t.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function zr(t,i,o){return o=Kn(o),o.tag=3,o.payload={element:null},o.callback=function(){Da(t,i)},o}function Dd(t){return t=Kn(t),t.tag=3,t}function Od(t,i,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;t.payload=function(){return d(m)},t.callback=function(){wd(i,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){wd(i,o,s),typeof d!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function Hy(t,i,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=o.alternate,i!==null&&no(i,o,d,!0),o=rn.current,o!==null){switch(o.tag){case 13:return vn===null?du():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===yr?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([s]):i.add(s),hu(t,s,d)),!1;case 22:return o.flags|=65536,s===yr?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([s]):o.add(s)),hu(t,s,d)),!1}throw Error(a(435,o.tag))}return hu(t,s,d),du(),!1}if(ze)return i=rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,s!==cr&&(t=Error(a(422),{cause:s}),to(ln(t,o)))):(s!==cr&&(i=Error(a(423),{cause:s}),to(ln(i,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,s=ln(s,o),d=zr(t.stateNode,s,d),Cr(t,d),ct!==4&&(ct=2)),!1;var m=Error(a(520),{cause:s});if(m=ln(m,o),Eo===null?Eo=[m]:Eo.push(m),ct!==4&&(ct=2),i===null)return!0;s=ln(s,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=zr(o.stateNode,s,t),Cr(o,t),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ai===null||!ai.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Dd(d),Od(d,t,o,s),Cr(o,d),!1}o=o.return}while(o!==null);return!1}var Id=Error(a(461)),Et=!1;function Mt(t,i,o,s){i.child=t===null?Ed(i,null,o,s):ml(i,t.child,o,s)}function Ud(t,i,o,s,d){o=o.render;var m=i.ref;if("ref"in s){var T={};for(var C in s)C!=="ref"&&(T[C]=s[C])}else T=s;return Di(i),s=Ar(t,i,o,T,m,d),C=Rr(),t!==null&&!Et?(Mr(t,i,d),kn(t,i,d)):(ze&&C&&rr(i),i.flags|=1,Mt(t,i,s,d),i.child)}function Ld(t,i,o,s,d){if(t===null){var m=o.type;return typeof m=="function"&&!or(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,kd(t,i,m,s,d)):(t=ca(o.type,null,s,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Kr(t,d)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(T,s)&&t.ref===i.ref)return kn(t,i,d)}return i.flags|=1,t=Nn(m,s),t.ref=i.ref,t.return=i,i.child=t}function kd(t,i,o,s,d){if(t!==null){var m=t.memoizedProps;if(Ql(m,s)&&t.ref===i.ref)if(Et=!1,i.pendingProps=s=m,Kr(t,d))(t.flags&131072)!==0&&(Et=!0);else return i.lanes=t.lanes,kn(t,i,d)}return Hr(t,i,o,s,d)}function Vd(t,i,o){var s=i.pendingProps,d=s.children,m=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((i.flags&128)!==0){if(s=m!==null?m.baseLanes|o:o,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~s}else i.childLanes=0,i.child=null;return Pd(t,i,s,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&pa(i,m!==null?m.cachePool:null),m!==null?kf(i,m):xr(),Sd(i);else return i.lanes=i.childLanes=536870912,Pd(t,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(pa(i,m.cachePool),kf(i,m),ei(),i.memoizedState=null):(t!==null&&pa(i,null),xr(),ei());return Mt(t,i,d,o),i.child}function Pd(t,i,o,s){var d=gr();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},t!==null&&pa(i,null),xr(),Sd(i),t!==null&&no(t,i,s,!0),null}function Oa(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Hr(t,i,o,s,d){return Di(i),o=Ar(t,i,o,s,void 0,d),s=Rr(),t!==null&&!Et?(Mr(t,i,d),kn(t,i,d)):(ze&&s&&rr(i),i.flags|=1,Mt(t,i,o,d),i.child)}function Bd(t,i,o,s,d,m){return Di(i),i.updateQueue=null,o=Pf(i,s,o,d),Vf(t),s=Rr(),t!==null&&!Et?(Mr(t,i,m),kn(t,i,m)):(ze&&s&&rr(i),i.flags|=1,Mt(t,i,o,m),i.child)}function Gd(t,i,o,s,d){if(Di(i),i.stateNode===null){var m=il,T=o.contextType;typeof T=="object"&&T!==null&&(m=Ut(T)),m=new o(s,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qr,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=s,m.state=i.memoizedState,m.refs={},vr(i),T=o.contextType,m.context=typeof T=="object"&&T!==null?Ut(T):il,m.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Gr(i,o,T,s),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&qr.enqueueReplaceState(m,m.state,null),uo(i,s,m,d),ro(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(t===null){m=i.stateNode;var C=i.memoizedProps,S=Ui(o,C);m.props=S;var w=m.context,k=o.contextType;T=il,typeof k=="object"&&k!==null&&(T=Ut(k));var B=o.getDerivedStateFromProps;k=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,k||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||w!==T)&&Rd(i,m,s,T),Xn=!1;var D=i.memoizedState;m.state=D,uo(i,s,m,d),ro(),w=i.memoizedState,C||D!==w||Xn?(typeof B=="function"&&(Gr(i,o,B,s),w=i.memoizedState),(S=Xn||Ad(i,o,S,s,D,w,T))?(k||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=w),m.props=s,m.state=w,m.context=T,s=S):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{m=i.stateNode,Tr(t,i),T=i.memoizedProps,k=Ui(o,T),m.props=k,B=i.pendingProps,D=m.context,w=o.contextType,S=il,typeof w=="object"&&w!==null&&(S=Ut(w)),C=o.getDerivedStateFromProps,(w=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||D!==S)&&Rd(i,m,s,S),Xn=!1,D=i.memoizedState,m.state=D,uo(i,s,m,d),ro();var O=i.memoizedState;T!==B||D!==O||Xn||t!==null&&t.dependencies!==null&&ma(t.dependencies)?(typeof C=="function"&&(Gr(i,o,C,s),O=i.memoizedState),(k=Xn||Ad(i,o,k,s,D,O,S)||t!==null&&t.dependencies!==null&&ma(t.dependencies))?(w||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,O,S),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,O,S)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=O),m.props=s,m.state=O,m.context=S,s=k):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&D===t.memoizedState||(i.flags|=1024),s=!1)}return m=s,Oa(t,i),s=(i.flags&128)!==0,m||s?(m=i.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&s?(i.child=ml(i,t.child,null,d),i.child=ml(i,null,o,d)):Mt(t,i,o,d),i.memoizedState=m.state,t=i.child):t=kn(t,i,d),t}function qd(t,i,o,s){return eo(),i.flags|=256,Mt(t,i,o,s),i.child}var Yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fr(t){return{baseLanes:t,cachePool:bf()}}function Jr(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=un),t}function zd(t,i,o){var s=i.pendingProps,d=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(d?jn(i):ei(),ze){var C=ut,S;if(S=C){e:{for(S=C,C=yn;S.nodeType!==8;){if(!C){C=null;break e}if(S=hn(S.nextSibling),S===null){C=null;break e}}C=S}C!==null?(i.memoizedState={dehydrated:C,treeContext:Ri!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},S=$t(18,null,null,0),S.stateNode=C,S.return=i,i.child=S,Bt=i,ut=null,S=!0):S=!1}S||Ni(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Nu(C)?i.lanes=32:i.lanes=536870912,null;Ln(i)}return C=s.children,s=s.fallback,d?(ei(),d=i.mode,C=Ia({mode:"hidden",children:C},d),s=Ai(s,d,o,null),C.return=i,s.return=i,C.sibling=s,i.child=C,d=i.child,d.memoizedState=Fr(o),d.childLanes=Jr(t,T,o),i.memoizedState=Yr,s):(jn(i),Zr(i,C))}if(S=t.memoizedState,S!==null&&(C=S.dehydrated,C!==null)){if(m)i.flags&256?(jn(i),i.flags&=-257,i=$r(t,i,o)):i.memoizedState!==null?(ei(),i.child=t.child,i.flags|=128,i=null):(ei(),d=s.fallback,C=i.mode,s=Ia({mode:"visible",children:s.children},C),d=Ai(d,C,o,null),d.flags|=2,s.return=i,d.return=i,s.sibling=d,i.child=s,ml(i,t.child,null,o),s=i.child,s.memoizedState=Fr(o),s.childLanes=Jr(t,T,o),i.memoizedState=Yr,i=d);else if(jn(i),Nu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var w=T.dgst;T=w,s=Error(a(419)),s.stack="",s.digest=T,to({value:s,source:null,stack:null}),i=$r(t,i,o)}else if(Et||no(t,i,o,!1),T=(o&t.childLanes)!==0,Et||T){if(T=et,T!==null&&(s=o&-o,s=(s&42)!==0?1:ws(s),s=(s&(T.suspendedLanes|o))!==0?0:s,s!==0&&s!==S.retryLane))throw S.retryLane=s,nl(t,s),jt(T,t,s),Id;C.data==="$?"||du(),i=$r(t,i,o)}else C.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=S.treeContext,ut=hn(C.nextSibling),Bt=i,ze=!0,bi=null,yn=!1,t!==null&&(an[sn++]=wn,an[sn++]=Dn,an[sn++]=Ri,wn=t.id,Dn=t.overflow,Ri=i),i=Zr(i,s.children),i.flags|=4096);return i}return d?(ei(),d=s.fallback,C=i.mode,S=t.child,w=S.sibling,s=Nn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,w!==null?d=Nn(w,d):(d=Ai(d,C,o,null),d.flags|=2),d.return=i,s.return=i,s.sibling=d,i.child=s,s=d,d=i.child,C=t.child.memoizedState,C===null?C=Fr(o):(S=C.cachePool,S!==null?(w=Ct._currentValue,S=S.parent!==w?{parent:w,pool:w}:S):S=bf(),C={baseLanes:C.baseLanes|o,cachePool:S}),d.memoizedState=C,d.childLanes=Jr(t,T,o),i.memoizedState=Yr,s):(jn(i),o=t.child,t=o.sibling,o=Nn(o,{mode:"visible",children:s.children}),o.return=i,o.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=o,i.memoizedState=null,o)}function Zr(t,i){return i=Ia({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ia(t,i){return t=$t(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $r(t,i,o){return ml(i,t.child,null,o),t=Zr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hd(t,i,o){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i),dr(t.return,i,o)}function Xr(t,i,o,s,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=o,m.tailMode=d)}function Yd(t,i,o){var s=i.pendingProps,d=s.revealOrder,m=s.tail;if(Mt(t,i,s.children,o),s=_t.current,(s&2)!==0)s=s&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hd(t,o,i);else if(t.tag===19)Hd(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(L(_t,s),d){case"forwards":for(o=i.child,d=null;o!==null;)t=o.alternate,t!==null&&Na(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Xr(i,!1,d,o,m);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Na(t)===null){i.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Xr(i,!0,o,null,m);break;case"together":Xr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function kn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),oi|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(no(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Nn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Nn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Kr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ma(t)))}function Yy(t,i,o){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),$n(i,Ct,t.memoizedState.cache),eo();break;case 27:case 5:at(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:$n(i,i.type,i.memoizedProps.value);break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(jn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?zd(t,i,o):(jn(i),t=kn(t,i,o),t!==null?t.sibling:null);jn(i);break;case 19:var d=(t.flags&128)!==0;if(s=(o&i.childLanes)!==0,s||(no(t,i,o,!1),s=(o&i.childLanes)!==0),d){if(s)return Yd(t,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),L(_t,_t.current),s)break;return null;case 22:case 23:return i.lanes=0,Vd(t,i,o);case 24:$n(i,Ct,t.memoizedState.cache)}return kn(t,i,o)}function Fd(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)Et=!0;else{if(!Kr(t,o)&&(i.flags&128)===0)return Et=!1,Yy(t,i,o);Et=(t.flags&131072)!==0}else Et=!1,ze&&(i.flags&1048576)!==0&&_f(i,da,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var s=i.elementType,d=s._init;if(s=d(s._payload),i.type=s,typeof s=="function")or(s)?(t=Ui(s,t),i.tag=1,i=Gd(null,i,s,t,o)):(i.tag=0,i=Hr(null,i,s,t,o));else{if(s!=null){if(d=s.$$typeof,d===te){i.tag=11,i=Ud(null,i,s,t,o);break e}else if(d===pe){i.tag=14,i=Ld(null,i,s,t,o);break e}}throw i=Ee(s)||s,Error(a(306,i,""))}}return i;case 0:return Hr(t,i,i.type,i.pendingProps,o);case 1:return s=i.type,d=Ui(s,i.pendingProps),Gd(t,i,s,d,o);case 3:e:{if(Me(i,i.stateNode.containerInfo),t===null)throw Error(a(387));s=i.pendingProps;var m=i.memoizedState;d=m.element,Tr(t,i),uo(i,s,null,o);var T=i.memoizedState;if(s=T.cache,$n(i,Ct,s),s!==m.cache&&mr(i,[Ct],o,!0),ro(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=qd(t,i,s,o);break e}else if(s!==d){d=ln(Error(a(424)),i),to(d),i=qd(t,i,s,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=hn(t.firstChild),Bt=i,ze=!0,bi=null,yn=!0,o=Ed(i,null,s,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(eo(),s===d){i=kn(t,i,o);break e}Mt(t,i,s,o)}i=i.child}return i;case 26:return Oa(t,i),t===null?(o=Xm(i.type,null,i.pendingProps,null))?i.memoizedState=o:ze||(o=i.type,t=i.pendingProps,s=Za(ce.current).createElement(o),s[It]=i,s[zt]=t,Nt(s,o,t),xt(s),i.stateNode=s):i.memoizedState=Xm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return at(i),t===null&&ze&&(s=i.stateNode=Jm(i.type,i.pendingProps,ce.current),Bt=i,yn=!0,d=ut,ui(i.type)?(wu=d,ut=hn(s.firstChild)):ut=d),Mt(t,i,i.pendingProps.children,o),Oa(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((d=s=ut)&&(s=vv(s,i.type,i.pendingProps,yn),s!==null?(i.stateNode=s,Bt=i,ut=hn(s.firstChild),yn=!1,d=!0):d=!1),d||Ni(i)),at(i),d=i.type,m=i.pendingProps,T=t!==null?t.memoizedProps:null,s=m.children,Ru(d,m)?s=null:T!==null&&Ru(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Ar(t,i,ky,null,null,o),Oo._currentValue=d),Oa(t,i),Mt(t,i,s,o),i.child;case 6:return t===null&&ze&&((t=o=ut)&&(o=Tv(o,i.pendingProps,yn),o!==null?(i.stateNode=o,Bt=i,ut=null,t=!0):t=!1),t||Ni(i)),null;case 13:return zd(t,i,o);case 4:return Me(i,i.stateNode.containerInfo),s=i.pendingProps,t===null?i.child=ml(i,null,s,o):Mt(t,i,s,o),i.child;case 11:return Ud(t,i,i.type,i.pendingProps,o);case 7:return Mt(t,i,i.pendingProps,o),i.child;case 8:return Mt(t,i,i.pendingProps.children,o),i.child;case 12:return Mt(t,i,i.pendingProps.children,o),i.child;case 10:return s=i.pendingProps,$n(i,i.type,s.value),Mt(t,i,s.children,o),i.child;case 9:return d=i.type._context,s=i.pendingProps.children,Di(i),d=Ut(d),s=s(d),i.flags|=1,Mt(t,i,s,o),i.child;case 14:return Ld(t,i,i.type,i.pendingProps,o);case 15:return kd(t,i,i.type,i.pendingProps,o);case 19:return Yd(t,i,o);case 31:return s=i.pendingProps,o=i.mode,s={mode:s.mode,children:s.children},t===null?(o=Ia(s,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Nn(t.child,s),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Vd(t,i,o);case 24:return Di(i),s=Ut(Ct),t===null?(d=gr(),d===null&&(d=et,m=hr(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),i.memoizedState={parent:s,cache:d},vr(i),$n(i,Ct,d)):((t.lanes&o)!==0&&(Tr(t,i),uo(i,null,null,o),ro()),d=t.memoizedState,m=i.memoizedState,d.parent!==s?(d={parent:s,cache:s},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),$n(i,Ct,s)):(s=m.cache,$n(i,Ct,s),s!==d.cache&&mr(i,[Ct],o,!0))),Mt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Vn(t){t.flags|=4}function Jd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!eh(i)){if(i=rn.current,i!==null&&((Pe&4194048)===Pe?vn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||i!==vn))throw ao=yr,Nf;t.flags|=8192}}function Ua(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ec():536870912,t.lanes|=i,yl|=i)}function yo(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,s=0;if(i)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=o,i}function Fy(t,i,o){var s=i.pendingProps;switch(ur(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return o=i.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),In(Ct),Q(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(jl(i)?Vn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sf())),st(i),null;case 26:return o=i.memoizedState,t===null?(Vn(i),o!==null?(st(i),Jd(i,o)):(st(i),i.flags&=-16777217)):o?o!==t.memoizedState?(Vn(i),st(i),Jd(i,o)):(st(i),i.flags&=-16777217):(t.memoizedProps!==s&&Vn(i),st(i),i.flags&=-16777217),null;case 27:lt(i),o=ce.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==s&&Vn(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return st(i),null}t=ne.current,jl(i)?xf(i):(t=Jm(d,s,o),i.stateNode=t,Vn(i))}return st(i),null;case 5:if(lt(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==s&&Vn(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return st(i),null}if(t=ne.current,jl(i))xf(i);else{switch(d=Za(ce.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?d.createElement(o,{is:s.is}):d.createElement(o)}}t[It]=i,t[zt]=s;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(Nt(t,o,s),o){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vn(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==s&&Vn(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(a(166));if(t=ce.current,jl(i)){if(t=i.stateNode,o=i.memoizedProps,s=null,d=Bt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}t[It]=i,t=!!(t.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Bm(t.nodeValue,o)),t||Ni(i)}else t=Za(t).createTextNode(s),t[It]=i,i.stateNode=t}return st(i),null;case 13:if(s=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=jl(i),s!==null&&s.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[It]=i}else eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else d=Sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ln(i),i):(Ln(i),null)}if(Ln(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=s!==null,t=t!==null&&t.memoizedState!==null,o){s=i.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var m=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),Ua(i,i.updateQueue),st(i),null;case 4:return Q(),t===null&&_u(i.stateNode.containerInfo),st(i),null;case 10:return In(i.type),st(i),null;case 19:if(J(_t),d=i.memoizedState,d===null)return st(i),null;if(s=(i.flags&128)!==0,m=d.rendering,m===null)if(s)yo(d,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Na(t),m!==null){for(i.flags|=128,yo(d,!1),t=m.updateQueue,i.updateQueue=t,Ua(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Cf(o,t),o=o.sibling;return L(_t,_t.current&1|2),i.child}t=t.sibling}d.tail!==null&&Te()>Va&&(i.flags|=128,s=!0,yo(d,!1),i.lanes=4194304)}else{if(!s)if(t=Na(m),t!==null){if(i.flags|=128,s=!0,t=t.updateQueue,i.updateQueue=t,Ua(i,t),yo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!ze)return st(i),null}else 2*Te()-d.renderingStartTime>Va&&o!==536870912&&(i.flags|=128,s=!0,yo(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Te(),i.sibling=null,t=_t.current,L(_t,s?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Ln(i),Er(),s=i.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(o&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),o=i.updateQueue,o!==null&&Ua(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048),t!==null&&J(Oi),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),In(Ct),st(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Jy(t,i){switch(ur(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return In(Ct),Q(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return lt(i),null;case 13:if(Ln(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));eo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(_t),null;case 4:return Q(),null;case 10:return In(i.type),null;case 22:case 23:return Ln(i),Er(),t!==null&&J(Oi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return In(Ct),null;case 25:return null;default:return null}}function Zd(t,i){switch(ur(i),i.tag){case 3:In(Ct),Q();break;case 26:case 27:case 5:lt(i);break;case 4:Q();break;case 13:Ln(i);break;case 19:J(_t);break;case 10:In(i.type);break;case 22:case 23:Ln(i),Er(),t!==null&&J(Oi);break;case 24:In(Ct)}}function vo(t,i){try{var o=i.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&t)===t){s=void 0;var m=o.create,T=o.inst;s=m(),T.destroy=s}o=o.next}while(o!==d)}}catch(C){Qe(i,i.return,C)}}function ti(t,i,o){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&t)===t){var T=s.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=i;var S=o,w=C;try{w()}catch(k){Qe(d,S,k)}}}s=s.next}while(s!==m)}}catch(k){Qe(i,i.return,k)}}function $d(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Lf(i,o)}catch(s){Qe(t,t.return,s)}}}function Xd(t,i,o){o.props=Ui(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(s){Qe(t,i,s)}}function To(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof o=="function"?t.refCleanup=o(s):o.current=s}}catch(d){Qe(t,i,d)}}function Tn(t,i){var o=t.ref,s=t.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Qe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Qe(t,i,d)}else o.current=null}function Kd(t){var i=t.type,o=t.memoizedProps,s=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Qe(t,t.return,d)}}function Qr(t,i,o){try{var s=t.stateNode;mv(s,t.type,o,i),s[zt]=i}catch(d){Qe(t,t.return,d)}}function Qd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ui(t.type)||t.tag===4}function Wr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jr(t,i,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ja));else if(s!==4&&(s===27&&ui(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(jr(t,i,o),t=t.sibling;t!==null;)jr(t,i,o),t=t.sibling}function La(t,i,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(s!==4&&(s===27&&ui(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(La(t,i,o),t=t.sibling;t!==null;)La(t,i,o),t=t.sibling}function Wd(t){var i=t.stateNode,o=t.memoizedProps;try{for(var s=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Nt(i,s,o),i[It]=t,i[zt]=o}catch(m){Qe(t,t.return,m)}}var Pn=!1,mt=!1,eu=!1,jd=typeof WeakSet=="function"?WeakSet:Set,St=null;function Zy(t,i){if(t=t.containerInfo,Su=ja,t=cf(t),Ws(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,C=-1,S=-1,w=0,k=0,B=t,D=null;t:for(;;){for(var O;B!==o||d!==0&&B.nodeType!==3||(C=T+d),B!==m||s!==0&&B.nodeType!==3||(S=T+s),B.nodeType===3&&(T+=B.nodeValue.length),(O=B.firstChild)!==null;)D=B,B=O;for(;;){if(B===t)break t;if(D===o&&++w===d&&(C=T),D===m&&++k===s&&(S=T),(O=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=O}o=C===-1||S===-1?null:{start:C,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(Au={focusedElem:t,selectionRange:o},ja=!1,St=i;St!==null;)if(i=St,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,St=t;else for(;St!==null;){switch(i=St,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=i,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var ye=Ui(o.type,d,o.elementType===o.type);t=s.getSnapshotBeforeUpdate(ye,m),s.__reactInternalSnapshotBeforeUpdate=t}catch(he){Qe(o,o.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)bu(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,St=t;break}St=i.return}}function em(t,i,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:ni(t,o),s&4&&vo(5,o);break;case 1:if(ni(t,o),s&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(T){Qe(o,o.return,T)}else{var d=Ui(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Qe(o,o.return,T)}}s&64&&$d(o),s&512&&To(o,o.return);break;case 3:if(ni(t,o),s&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Lf(t,i)}catch(T){Qe(o,o.return,T)}}break;case 27:i===null&&s&4&&Wd(o);case 26:case 5:ni(t,o),i===null&&s&4&&Kd(o),s&512&&To(o,o.return);break;case 12:ni(t,o);break;case 13:ni(t,o),s&4&&im(t,o),s&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=nv.bind(null,o),Cv(t,o))));break;case 22:if(s=o.memoizedState!==null||Pn,!s){i=i!==null&&i.memoizedState!==null||mt,d=Pn;var m=mt;Pn=s,(mt=i)&&!m?ii(t,o,(o.subtreeFlags&8772)!==0):ni(t,o),Pn=d,mt=m}break;case 30:break;default:ni(t,o)}}function tm(t){var i=t.alternate;i!==null&&(t.alternate=null,tm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Is(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,Ft=!1;function Bn(t,i,o){for(o=o.child;o!==null;)nm(t,i,o),o=o.sibling}function nm(t,i,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ot,o)}catch{}switch(o.tag){case 26:mt||Tn(o,i),Bn(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||Tn(o,i);var s=ot,d=Ft;ui(o.type)&&(ot=o.stateNode,Ft=!1),Bn(t,i,o),bo(o.stateNode),ot=s,Ft=d;break;case 5:mt||Tn(o,i);case 6:if(s=ot,d=Ft,ot=null,Bn(t,i,o),ot=s,Ft=d,ot!==null)if(Ft)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(m){Qe(o,i,m)}else try{ot.removeChild(o.stateNode)}catch(m){Qe(o,i,m)}break;case 18:ot!==null&&(Ft?(t=ot,Ym(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),ko(t)):Ym(ot,o.stateNode));break;case 4:s=ot,d=Ft,ot=o.stateNode.containerInfo,Ft=!0,Bn(t,i,o),ot=s,Ft=d;break;case 0:case 11:case 14:case 15:mt||ti(2,o,i),mt||ti(4,o,i),Bn(t,i,o);break;case 1:mt||(Tn(o,i),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Xd(o,i,s)),Bn(t,i,o);break;case 21:Bn(t,i,o);break;case 22:mt=(s=mt)||o.memoizedState!==null,Bn(t,i,o),mt=s;break;default:Bn(t,i,o)}}function im(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ko(t)}catch(o){Qe(i,i.return,o)}}function $y(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jd),i;default:throw Error(a(435,t.tag))}}function tu(t,i){var o=$y(t);i.forEach(function(s){var d=iv.bind(null,t,s);o.has(s)||(o.add(s),s.then(d,d))})}function Xt(t,i){var o=i.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=t,T=i,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(ui(C.type)){ot=C.stateNode,Ft=!1;break e}break;case 5:ot=C.stateNode,Ft=!1;break e;case 3:case 4:ot=C.stateNode.containerInfo,Ft=!0;break e}C=C.return}if(ot===null)throw Error(a(160));nm(m,T,d),ot=null,Ft=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)lm(i,t),i=i.sibling}var mn=null;function lm(t,i){var o=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(i,t),Kt(t),s&4&&(ti(3,t,t.return),vo(3,t),ti(5,t,t.return));break;case 1:Xt(i,t),Kt(t),s&512&&(mt||o===null||Tn(o,o.return)),s&64&&Pn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=mn;if(Xt(i,t),Kt(t),s&512&&(mt||o===null||Tn(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=t.memoizedState,o===null)if(s===null)if(t.stateNode===null){e:{s=t.type,o=t.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[zl]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),Nt(m,s,o),m[It]=t,xt(m),s=m;break e;case"link":var T=Wm("link","href",d).get(s+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(m=T[C],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}m=d.createElement(s),Nt(m,s,o),d.head.appendChild(m);break;case"meta":if(T=Wm("meta","content",d).get(s+(o.content||""))){for(C=0;C<T.length;C++)if(m=T[C],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}m=d.createElement(s),Nt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[It]=t,xt(m),s=m}t.stateNode=s}else jm(d,t.type,t.stateNode);else t.stateNode=Qm(d,s,t.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?jm(d,t.type,t.stateNode):Qm(d,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Qr(t,t.memoizedProps,o.memoizedProps)}break;case 27:Xt(i,t),Kt(t),s&512&&(mt||o===null||Tn(o,o.return)),o!==null&&s&4&&Qr(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Xt(i,t),Kt(t),s&512&&(mt||o===null||Tn(o,o.return)),t.flags&32){d=t.stateNode;try{Xi(d,"")}catch(O){Qe(t,t.return,O)}}s&4&&t.stateNode!=null&&(d=t.memoizedProps,Qr(t,d,o!==null?o.memoizedProps:d)),s&1024&&(eu=!0);break;case 6:if(Xt(i,t),Kt(t),s&4){if(t.stateNode===null)throw Error(a(162));s=t.memoizedProps,o=t.stateNode;try{o.nodeValue=s}catch(O){Qe(t,t.return,O)}}break;case 3:if(Ka=null,d=mn,mn=$a(i.containerInfo),Xt(i,t),mn=d,Kt(t),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ko(i.containerInfo)}catch(O){Qe(t,t.return,O)}eu&&(eu=!1,om(t));break;case 4:s=mn,mn=$a(t.stateNode.containerInfo),Xt(i,t),Kt(t),mn=s;break;case 12:Xt(i,t),Kt(t);break;case 13:Xt(i,t),Kt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(su=Te()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,tu(t,s)));break;case 22:d=t.memoizedState!==null;var S=o!==null&&o.memoizedState!==null,w=Pn,k=mt;if(Pn=w||d,mt=k||S,Xt(i,t),mt=k,Pn=w,Kt(t),s&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||S||Pn||mt||Li(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){S=o=i;try{if(m=S.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=S.stateNode;var B=S.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(O){Qe(S,S.return,O)}}}else if(i.tag===6){if(o===null){S=i;try{S.stateNode.nodeValue=d?"":S.memoizedProps}catch(O){Qe(S,S.return,O)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=t.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,tu(t,o))));break;case 19:Xt(i,t),Kt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,tu(t,s)));break;case 30:break;case 21:break;default:Xt(i,t),Kt(t)}}function Kt(t){var i=t.flags;if(i&2){try{for(var o,s=t.return;s!==null;){if(Qd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=Wr(t);La(t,m,d);break;case 5:var T=o.stateNode;o.flags&32&&(Xi(T,""),o.flags&=-33);var C=Wr(t);La(t,C,T);break;case 3:case 4:var S=o.stateNode.containerInfo,w=Wr(t);jr(t,w,S);break;default:throw Error(a(161))}}catch(k){Qe(t,t.return,k)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function om(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;om(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ni(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)em(t,i.alternate,i),i=i.sibling}function Li(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ti(4,i,i.return),Li(i);break;case 1:Tn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Xd(i,i.return,o),Li(i);break;case 27:bo(i.stateNode);case 26:case 5:Tn(i,i.return),Li(i);break;case 22:i.memoizedState===null&&Li(i);break;case 30:Li(i);break;default:Li(i)}t=t.sibling}}function ii(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,d=t,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:ii(d,m,o),vo(4,m);break;case 1:if(ii(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){Qe(s,s.return,w)}if(s=m,d=s.updateQueue,d!==null){var C=s.stateNode;try{var S=d.shared.hiddenCallbacks;if(S!==null)for(d.shared.hiddenCallbacks=null,d=0;d<S.length;d++)Uf(S[d],C)}catch(w){Qe(s,s.return,w)}}o&&T&64&&$d(m),To(m,m.return);break;case 27:Wd(m);case 26:case 5:ii(d,m,o),o&&s===null&&T&4&&Kd(m),To(m,m.return);break;case 12:ii(d,m,o);break;case 13:ii(d,m,o),o&&T&4&&im(d,m);break;case 22:m.memoizedState===null&&ii(d,m,o),To(m,m.return);break;case 30:break;default:ii(d,m,o)}i=i.sibling}}function nu(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&io(o))}function iu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&io(t))}function Cn(t,i,o,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)am(t,i,o,s),i=i.sibling}function am(t,i,o,s){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(t,i,o,s),d&2048&&vo(9,i);break;case 1:Cn(t,i,o,s);break;case 3:Cn(t,i,o,s),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&io(t)));break;case 12:if(d&2048){Cn(t,i,o,s),t=i.stateNode;try{var m=i.memoizedProps,T=m.id,C=m.onPostCommit;typeof C=="function"&&C(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Qe(i,i.return,S)}}else Cn(t,i,o,s);break;case 13:Cn(t,i,o,s);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?Cn(t,i,o,s):Co(t,i):m._visibility&2?Cn(t,i,o,s):(m._visibility|=2,hl(t,i,o,s,(i.subtreeFlags&10256)!==0)),d&2048&&nu(T,i);break;case 24:Cn(t,i,o,s),d&2048&&iu(i.alternate,i);break;default:Cn(t,i,o,s)}}function hl(t,i,o,s,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,T=i,C=o,S=s,w=T.flags;switch(T.tag){case 0:case 11:case 15:hl(m,T,C,S,d),vo(8,T);break;case 23:break;case 22:var k=T.stateNode;T.memoizedState!==null?k._visibility&2?hl(m,T,C,S,d):Co(m,T):(k._visibility|=2,hl(m,T,C,S,d)),d&&w&2048&&nu(T.alternate,T);break;case 24:hl(m,T,C,S,d),d&&w&2048&&iu(T.alternate,T);break;default:hl(m,T,C,S,d)}i=i.sibling}}function Co(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,s=i,d=s.flags;switch(s.tag){case 22:Co(o,s),d&2048&&nu(s.alternate,s);break;case 24:Co(o,s),d&2048&&iu(s.alternate,s);break;default:Co(o,s)}i=i.sibling}}var _o=8192;function pl(t){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)sm(t),t=t.sibling}function sm(t){switch(t.tag){case 26:pl(t),t.flags&_o&&t.memoizedState!==null&&Iv(mn,t.memoizedState,t.memoizedProps);break;case 5:pl(t);break;case 3:case 4:var i=mn;mn=$a(t.stateNode.containerInfo),pl(t),mn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_o,_o=16777216,pl(t),_o=i):pl(t));break;default:pl(t)}}function rm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];St=s,cm(s,t)}rm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)um(t),t=t.sibling}function um(t){switch(t.tag){case 0:case 11:case 15:xo(t),t.flags&2048&&ti(9,t,t.return);break;case 3:xo(t);break;case 12:xo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ka(t)):xo(t);break;default:xo(t)}}function ka(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];St=s,cm(s,t)}rm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ti(8,i,i.return),ka(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,ka(i));break;default:ka(i)}t=t.sibling}}function cm(t,i){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:ti(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:io(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,St=s;else e:for(o=t;St!==null;){s=St;var d=s.sibling,m=s.return;if(tm(s),s===o){St=null;break e}if(d!==null){d.return=m,St=d;break e}St=m}}}var Xy={getCacheForType:function(t){var i=Ut(Ct),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},Ky=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ie=null,Pe=0,Je=0,Qt=null,li=!1,gl=!1,lu=!1,Gn=0,ct=0,oi=0,ki=0,ou=0,un=0,yl=0,Eo=null,Jt=null,au=!1,su=0,Va=1/0,Pa=null,ai=null,bt=0,si=null,vl=null,Tl=0,ru=0,uu=null,fm=null,So=0,cu=null;function Wt(){if((Fe&2)!==0&&Pe!==0)return Pe&-Pe;if(U.T!==null){var t=al;return t!==0?t:yu()}return Rc()}function dm(){un===0&&(un=(Pe&536870912)===0||ze?xc():536870912);var t=rn.current;return t!==null&&(t.flags|=32),un}function jt(t,i,o){(t===et&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Cl(t,0),ri(t,Pe,un,!1)),ql(t,o),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(ki|=o),ct===4&&ri(t,Pe,un,!1)),_n(t))}function mm(t,i,o){if((Fe&6)!==0)throw Error(a(327));var s=!o&&(i&124)===0&&(i&t.expiredLanes)===0||Gl(t,i),d=s?jy(t,i):mu(t,i,!0),m=s;do{if(d===0){gl&&!s&&ri(t,i,0,!1);break}else{if(o=t.current.alternate,m&&!Qy(o)){d=mu(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var C=t;d=Eo;var S=C.current.memoizedState.isDehydrated;if(S&&(Cl(C,T).flags|=256),T=mu(C,T,!1),T!==2){if(lu&&!S){C.errorRecoveryDisabledLanes|=m,ki|=m,d=4;break e}m=Jt,Jt=d,m!==null&&(Jt===null?Jt=m:Jt.push.apply(Jt,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){Cl(t,0),ri(t,i,0,!0);break}e:{switch(s=t,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ri(s,i,un,!li);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=su+300-Te(),10<d)){if(ri(s,i,un,!li),Xo(s,0,!0)!==0)break e;s.timeoutHandle=zm(hm.bind(null,s,o,Jt,Pa,au,i,un,ki,yl,li,m,2,-0,0),d);break e}hm(s,o,Jt,Pa,au,i,un,ki,yl,li,m,0,-0,0)}}break}while(!0);_n(t)}function hm(t,i,o,s,d,m,T,C,S,w,k,B,D,O){if(t.timeoutHandle=-1,B=i.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:Ov},sm(i),B=Uv(),B!==null)){t.cancelPendingCommit=B(_m.bind(null,t,i,m,o,s,d,T,C,S,k,1,D,O)),ri(t,m,T,!w);return}_m(t,i,m,o,s,d,T,C,S)}function Qy(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!Zt(m(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(t,i,o,s){i&=~ou,i&=~ki,t.suspendedLanes|=i,t.pingedLanes&=~i,s&&(t.warmLanes|=i),s=t.expirationTimes;for(var d=i;0<d;){var m=31-Ae(d),T=1<<m;s[m]=-1,d&=~T}o!==0&&Sc(t,o,i)}function Ba(){return(Fe&6)===0?(Ao(0),!1):!0}function fu(){if(Ie!==null){if(Je===0)var t=Ie.return;else t=Ie,On=wi=null,br(t),dl=null,po=0,t=Ie;for(;t!==null;)Zd(t.alternate,t),t=t.return;Ie=null}}function Cl(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,pv(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),fu(),et=t,Ie=o=Nn(t.current,null),Pe=i,Je=0,Qt=null,li=!1,gl=Gl(t,i),lu=!1,yl=un=ou=ki=oi=ct=0,Jt=Eo=null,au=!1,(i&8)!==0&&(i|=i&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=i;0<s;){var d=31-Ae(s),m=1<<d;i|=t[d],s&=~m}return Gn=i,sa(),o}function pm(t,i){we=null,U.H=Ra,i===oo||i===ga?(i=Of(),Je=3):i===Nf?(i=Of(),Je=4):Je=i===Id?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qt=i,Ie===null&&(ct=1,Da(t,ln(i,t.current)))}function gm(){var t=U.H;return U.H=Ra,t===null?Ra:t}function ym(){var t=U.A;return U.A=Xy,t}function du(){ct=4,li||(Pe&4194048)!==Pe&&rn.current!==null||(gl=!0),(oi&134217727)===0&&(ki&134217727)===0||et===null||ri(et,Pe,un,!1)}function mu(t,i,o){var s=Fe;Fe|=2;var d=gm(),m=ym();(et!==t||Pe!==i)&&(Pa=null,Cl(t,i)),i=!1;var T=ct;e:do try{if(Je!==0&&Ie!==null){var C=Ie,S=Qt;switch(Je){case 8:fu(),T=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(i=!0);var w=Je;if(Je=0,Qt=null,_l(t,C,S,w),o&&gl){T=0;break e}break;default:w=Je,Je=0,Qt=null,_l(t,C,S,w)}}Wy(),T=ct;break}catch(k){pm(t,k)}while(!0);return i&&t.shellSuspendCounter++,On=wi=null,Fe=s,U.H=d,U.A=m,Ie===null&&(et=null,Pe=0,sa()),T}function Wy(){for(;Ie!==null;)vm(Ie)}function jy(t,i){var o=Fe;Fe|=2;var s=gm(),d=ym();et!==t||Pe!==i?(Pa=null,Va=Te()+500,Cl(t,i)):gl=Gl(t,i);e:do try{if(Je!==0&&Ie!==null){i=Ie;var m=Qt;t:switch(Je){case 1:Je=0,Qt=null,_l(t,i,m,1);break;case 2:case 9:if(wf(m)){Je=0,Qt=null,Tm(i);break}i=function(){Je!==2&&Je!==9||et!==t||(Je=7),_n(t)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:wf(m)?(Je=0,Qt=null,Tm(i)):(Je=0,Qt=null,_l(t,i,m,7));break;case 5:var T=null;switch(Ie.tag){case 26:T=Ie.memoizedState;case 5:case 27:var C=Ie;if(!T||eh(T)){Je=0,Qt=null;var S=C.sibling;if(S!==null)Ie=S;else{var w=C.return;w!==null?(Ie=w,Ga(w)):Ie=null}break t}}Je=0,Qt=null,_l(t,i,m,5);break;case 6:Je=0,Qt=null,_l(t,i,m,6);break;case 8:fu(),ct=6;break e;default:throw Error(a(462))}}ev();break}catch(k){pm(t,k)}while(!0);return On=wi=null,U.H=s,U.A=d,Fe=o,Ie!==null?0:(et=null,Pe=0,sa(),ct)}function ev(){for(;Ie!==null&&!se();)vm(Ie)}function vm(t){var i=Fd(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,i===null?Ga(t):Ie=i}function Tm(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Bd(o,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Bd(o,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:br(i);default:Zd(o,i),i=Ie=Cf(i,Gn),i=Fd(o,i,Gn)}t.memoizedProps=t.pendingProps,i===null?Ga(t):Ie=i}function _l(t,i,o,s){On=wi=null,br(i),dl=null,po=0;var d=i.return;try{if(Hy(t,d,i,o,Pe)){ct=1,Da(t,ln(o,t.current)),Ie=null;return}}catch(m){if(d!==null)throw Ie=d,m;ct=1,Da(t,ln(o,t.current)),Ie=null;return}i.flags&32768?(ze||s===1?t=!0:gl||(Pe&536870912)!==0?t=!1:(li=t=!0,(s===2||s===9||s===3||s===6)&&(s=rn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Cm(i,t)):Ga(i)}function Ga(t){var i=t;do{if((i.flags&32768)!==0){Cm(i,li);return}t=i.return;var o=Fy(i.alternate,i,Gn);if(o!==null){Ie=o;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ct===0&&(ct=5)}function Cm(t,i){do{var o=Jy(t.alternate,t);if(o!==null){o.flags&=32767,Ie=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=o}while(t!==null);ct=6,Ie=null}function _m(t,i,o,s,d,m,T,C,S){t.cancelPendingCommit=null;do qa();while(bt!==0);if((Fe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=ir,Og(t,o,m,T,C,S),t===et&&(Ie=et=null,Pe=0),vl=i,si=t,Tl=o,ru=m,uu=d,fm=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lv(ht,function(){return Rm(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,d=$.p,$.p=2,T=Fe,Fe|=4;try{Zy(t,i,o)}finally{Fe=T,$.p=d,U.T=s}}bt=1,xm(),Em(),Sm()}}function xm(){if(bt===1){bt=0;var t=si,i=vl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var s=$.p;$.p=2;var d=Fe;Fe|=4;try{lm(i,t);var m=Au,T=cf(t.containerInfo),C=m.focusedElem,S=m.selectionRange;if(T!==C&&C&&C.ownerDocument&&uf(C.ownerDocument.documentElement,C)){if(S!==null&&Ws(C)){var w=S.start,k=S.end;if(k===void 0&&(k=w),"selectionStart"in C)C.selectionStart=w,C.selectionEnd=Math.min(k,C.value.length);else{var B=C.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var O=D.getSelection(),ye=C.textContent.length,he=Math.min(S.start,ye),Xe=S.end===void 0?he:Math.min(S.end,ye);!O.extend&&he>Xe&&(T=Xe,Xe=he,he=T);var M=rf(C,he),R=rf(C,Xe);if(M&&R&&(O.rangeCount!==1||O.anchorNode!==M.node||O.anchorOffset!==M.offset||O.focusNode!==R.node||O.focusOffset!==R.offset)){var N=B.createRange();N.setStart(M.node,M.offset),O.removeAllRanges(),he>Xe?(O.addRange(N),O.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),O.addRange(N))}}}}for(B=[],O=C;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var P=B[C];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ja=!!Su,Au=Su=null}finally{Fe=d,$.p=s,U.T=o}}t.current=i,bt=2}}function Em(){if(bt===2){bt=0;var t=si,i=vl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var s=$.p;$.p=2;var d=Fe;Fe|=4;try{em(t,i.alternate,i)}finally{Fe=d,$.p=s,U.T=o}}bt=3}}function Sm(){if(bt===4||bt===3){bt=0,Se();var t=si,i=vl,o=Tl,s=fm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?bt=5:(bt=0,vl=si=null,Am(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ai=null),Ds(o),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ot,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=U.T,d=$.p,$.p=2,U.T=null;try{for(var m=t.onRecoverableError,T=0;T<s.length;T++){var C=s[T];m(C.value,{componentStack:C.stack})}}finally{U.T=i,$.p=d}}(Tl&3)!==0&&qa(),_n(t),d=t.pendingLanes,(o&4194090)!==0&&(d&42)!==0?t===cu?So++:(So=0,cu=t):So=0,Ao(0)}}function Am(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,io(i)))}function qa(t){return xm(),Em(),Sm(),Rm()}function Rm(){if(bt!==5)return!1;var t=si,i=ru;ru=0;var o=Ds(Tl),s=U.T,d=$.p;try{$.p=32>o?32:o,U.T=null,o=uu,uu=null;var m=si,T=Tl;if(bt=0,vl=si=null,Tl=0,(Fe&6)!==0)throw Error(a(331));var C=Fe;if(Fe|=4,um(m.current),am(m,m.current,T,o),Fe=C,Ao(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ot,m)}catch{}return!0}finally{$.p=d,U.T=s,Am(t,i)}}function Mm(t,i,o){i=ln(o,i),i=zr(t.stateNode,i,2),t=Qn(t,i,2),t!==null&&(ql(t,2),_n(t))}function Qe(t,i,o){if(t.tag===3)Mm(t,t,o);else for(;i!==null;){if(i.tag===3){Mm(i,t,o);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ai===null||!ai.has(s))){t=ln(o,t),o=Dd(2),s=Qn(i,o,2),s!==null&&(Od(o,s,i,t),ql(s,2),_n(s));break}}i=i.return}}function hu(t,i,o){var s=t.pingCache;if(s===null){s=t.pingCache=new Ky;var d=new Set;s.set(i,d)}else d=s.get(i),d===void 0&&(d=new Set,s.set(i,d));d.has(o)||(lu=!0,d.add(o),t=tv.bind(null,t,i,o),i.then(t,t))}function tv(t,i,o){var s=t.pingCache;s!==null&&s.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,et===t&&(Pe&o)===o&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>Te()-su?(Fe&2)===0&&Cl(t,0):ou|=o,yl===Pe&&(yl=0)),_n(t)}function bm(t,i){i===0&&(i=Ec()),t=nl(t,i),t!==null&&(ql(t,i),_n(t))}function nv(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),bm(t,o)}function iv(t,i){var o=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(i),bm(t,o)}function lv(t,i){return kt(t,i)}var za=null,xl=null,pu=!1,Ha=!1,gu=!1,Vi=0;function _n(t){t!==xl&&t.next===null&&(xl===null?za=xl=t:xl=xl.next=t),Ha=!0,pu||(pu=!0,av())}function Ao(t,i){if(!gu&&Ha){gu=!0;do for(var o=!1,s=za;s!==null;){if(t!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,C=s.pingedLanes;m=(1<<31-Ae(42|t)+1)-1,m&=d&~(T&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Om(s,m))}else m=Pe,m=Xo(s,s===et?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||Gl(s,m)||(o=!0,Om(s,m));s=s.next}while(o);gu=!1}}function ov(){Nm()}function Nm(){Ha=pu=!1;var t=0;Vi!==0&&(hv()&&(t=Vi),Vi=0);for(var i=Te(),o=null,s=za;s!==null;){var d=s.next,m=wm(s,i);m===0?(s.next=null,o===null?za=d:o.next=d,d===null&&(xl=o)):(o=s,(t!==0||(m&3)!==0)&&(Ha=!0)),s=d}Ao(t)}function wm(t,i){for(var o=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-Ae(m),C=1<<T,S=d[T];S===-1?((C&o)===0||(C&s)!==0)&&(d[T]=Dg(C,i)):S<=i&&(t.expiredLanes|=C),m&=~C}if(i=et,o=Pe,o=Xo(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,o===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Vt(s),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Gl(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(s!==null&&Vt(s),Ds(o)){case 2:case 8:o=Rt;break;case 32:o=ht;break;case 268435456:o=rt;break;default:o=ht}return s=Dm.bind(null,t),o=kt(o,s),t.callbackPriority=i,t.callbackNode=o,i}return s!==null&&s!==null&&Vt(s),t.callbackPriority=2,t.callbackNode=null,2}function Dm(t,i){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(qa()&&t.callbackNode!==o)return null;var s=Pe;return s=Xo(t,t===et?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(mm(t,s,i),wm(t,Te()),t.callbackNode!=null&&t.callbackNode===o?Dm.bind(null,t):null)}function Om(t,i){if(qa())return null;mm(t,i,!0)}function av(){gv(function(){(Fe&6)!==0?kt(Ke,ov):Nm()})}function yu(){return Vi===0&&(Vi=xc()),Vi}function Im(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ea(""+t)}function Um(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function sv(t,i,o,s,d){if(i==="submit"&&o&&o.stateNode===d){var m=Im((d[zt]||null).action),T=s.submitter;T&&(i=(i=T[zt]||null)?Im(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var C=new la("action","action",null,s,d);t.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vi!==0){var S=T?Um(d,T):new FormData(d);Vr(o,{pending:!0,data:S,method:d.method,action:m},null,S)}}else typeof m=="function"&&(C.preventDefault(),S=T?Um(d,T):new FormData(d),Vr(o,{pending:!0,data:S,method:d.method,action:m},m,S))},currentTarget:d}]})}}for(var vu=0;vu<nr.length;vu++){var Tu=nr[vu],rv=Tu.toLowerCase(),uv=Tu[0].toUpperCase()+Tu.slice(1);dn(rv,"on"+uv)}dn(mf,"onAnimationEnd"),dn(hf,"onAnimationIteration"),dn(pf,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Ry,"onTransitionRun"),dn(My,"onTransitionStart"),dn(by,"onTransitionCancel"),dn(gf,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Lm(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var s=t[o],d=s.event;s=s.listeners;e:{var m=void 0;if(i)for(var T=s.length-1;0<=T;T--){var C=s[T],S=C.instance,w=C.currentTarget;if(C=C.listener,S!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=w;try{m(d)}catch(k){wa(k)}d.currentTarget=null,m=S}else for(T=0;T<s.length;T++){if(C=s[T],S=C.instance,w=C.currentTarget,C=C.listener,S!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=w;try{m(d)}catch(k){wa(k)}d.currentTarget=null,m=S}}}}function Ue(t,i){var o=i[Os];o===void 0&&(o=i[Os]=new Set);var s=t+"__bubble";o.has(s)||(km(i,t,2,!1),o.add(s))}function Cu(t,i,o){var s=0;i&&(s|=4),km(o,t,s,i)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[Ya]){t[Ya]=!0,bc.forEach(function(o){o!=="selectionchange"&&(cv.has(o)||Cu(o,!1,t),Cu(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ya]||(i[Ya]=!0,Cu("selectionchange",!1,i))}}function km(t,i,o,s){switch(ah(i)){case 2:var d=Vv;break;case 8:d=Pv;break;default:d=Lu}o=d.bind(null,i,o,t),d=void 0,!Hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(i,o,{capture:!0,passive:d}):t.addEventListener(i,o,!0):d!==void 0?t.addEventListener(i,o,{passive:d}):t.addEventListener(i,o,!1)}function xu(t,i,o,s,d){var m=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var C=s.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=s.return;T!==null;){var S=T.tag;if((S===3||S===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=Hi(C),T===null)return;if(S=T.tag,S===5||S===6||S===26||S===27){s=m=T;continue e}C=C.parentNode}}s=s.return}zc(function(){var w=m,k=qs(o),B=[];e:{var D=yf.get(t);if(D!==void 0){var O=la,ye=t;switch(t){case"keypress":if(na(o)===0)break e;case"keydown":case"keyup":O=ly;break;case"focusin":ye="focus",O=Zs;break;case"focusout":ye="blur",O=Zs;break;case"beforeblur":case"afterblur":O=Zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=sy;break;case mf:case hf:case pf:O=Xg;break;case gf:O=uy;break;case"scroll":case"scrollend":O=Yg;break;case"wheel":O=fy;break;case"copy":case"cut":case"paste":O=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Zc;break;case"toggle":case"beforetoggle":O=my}var he=(i&4)!==0,Xe=!he&&(t==="scroll"||t==="scrollend"),M=he?D!==null?D+"Capture":null:D;he=[];for(var R=w,N;R!==null;){var P=R;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||M===null||(P=Yl(R,M),P!=null&&he.push(Mo(R,P,N))),Xe)break;R=R.return}0<he.length&&(D=new O(D,ye,null,o,k),B.push({event:D,listeners:he}))}}if((i&7)===0){e:{if(D=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",D&&o!==Gs&&(ye=o.relatedTarget||o.fromElement)&&(Hi(ye)||ye[zi]))break e;if((O||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,O?(ye=o.relatedTarget||o.toElement,O=w,ye=ye?Hi(ye):null,ye!==null&&(Xe=f(ye),he=ye.tag,ye!==Xe||he!==5&&he!==27&&he!==6)&&(ye=null)):(O=null,ye=w),O!==ye)){if(he=Fc,P="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(he=Zc,P="onPointerLeave",M="onPointerEnter",R="pointer"),Xe=O==null?D:Hl(O),N=ye==null?D:Hl(ye),D=new he(P,R+"leave",O,o,k),D.target=Xe,D.relatedTarget=N,P=null,Hi(k)===w&&(he=new he(M,R+"enter",ye,o,k),he.target=N,he.relatedTarget=Xe,P=he),Xe=P,O&&ye)t:{for(he=O,M=ye,R=0,N=he;N;N=El(N))R++;for(N=0,P=M;P;P=El(P))N++;for(;0<R-N;)he=El(he),R--;for(;0<N-R;)M=El(M),N--;for(;R--;){if(he===M||M!==null&&he===M.alternate)break t;he=El(he),M=El(M)}he=null}else he=null;O!==null&&Vm(B,D,O,he,!1),ye!==null&&Xe!==null&&Vm(B,Xe,ye,he,!0)}}e:{if(D=w?Hl(w):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var ie=tf;else if(jc(D))if(nf)ie=Ey;else{ie=_y;var De=Cy}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?w&&Bs(w.elementType)&&(ie=tf):ie=xy;if(ie&&(ie=ie(t,w))){ef(B,ie,o,k);break e}De&&De(t,D,w),t==="focusout"&&w&&D.type==="number"&&w.memoizedProps.value!=null&&Ps(D,"number",D.value)}switch(De=w?Hl(w):window,t){case"focusin":(jc(De)||De.contentEditable==="true")&&(ji=De,js=w,Wl=null);break;case"focusout":Wl=js=ji=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":er=!1,ff(B,o,k);break;case"selectionchange":if(Ay)break;case"keydown":case"keyup":ff(B,o,k)}var fe;if(Xs)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Wi?Qc(t,o)&&(ge="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&($c&&o.locale!=="ko"&&(Wi||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Wi&&(fe=Hc()):(Zn=k,Ys="value"in Zn?Zn.value:Zn.textContent,Wi=!0)),De=Fa(w,ge),0<De.length&&(ge=new Jc(ge,t,null,o,k),B.push({event:ge,listeners:De}),fe?ge.data=fe:(fe=Wc(o),fe!==null&&(ge.data=fe)))),(fe=py?gy(t,o):yy(t,o))&&(ge=Fa(w,"onBeforeInput"),0<ge.length&&(De=new Jc("onBeforeInput","beforeinput",null,o,k),B.push({event:De,listeners:ge}),De.data=fe)),sv(B,t,w,o,k)}Lm(B,i)})}function Mo(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Fa(t,i){for(var o=i+"Capture",s=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Yl(t,o),d!=null&&s.unshift(Mo(t,d,m)),d=Yl(t,i),d!=null&&s.push(Mo(t,d,m))),t.tag===3)return s;t=t.return}return[]}function El(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vm(t,i,o,s,d){for(var m=i._reactName,T=[];o!==null&&o!==s;){var C=o,S=C.alternate,w=C.stateNode;if(C=C.tag,S!==null&&S===s)break;C!==5&&C!==26&&C!==27||w===null||(S=w,d?(w=Yl(o,m),w!=null&&T.unshift(Mo(o,w,S))):d||(w=Yl(o,m),w!=null&&T.push(Mo(o,w,S)))),o=o.return}T.length!==0&&t.push({event:i,listeners:T})}var fv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function Pm(t){return(typeof t=="string"?t:""+t).replace(fv,`
`).replace(dv,"")}function Bm(t,i){return i=Pm(i),Pm(t)===i}function Ja(){}function $e(t,i,o,s,d,m){switch(o){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||Xi(t,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&Xi(t,""+s);break;case"className":Qo(t,"class",s);break;case"tabIndex":Qo(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Qo(t,o,s);break;case"style":Gc(t,s,m);break;case"data":if(i!=="object"){Qo(t,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(o);break}s=ea(""+s),t.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&$e(t,i,"name",d.name,d,null),$e(t,i,"formEncType",d.formEncType,d,null),$e(t,i,"formMethod",d.formMethod,d,null),$e(t,i,"formTarget",d.formTarget,d,null)):($e(t,i,"encType",d.encType,d,null),$e(t,i,"method",d.method,d,null),$e(t,i,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(o);break}s=ea(""+s),t.setAttribute(o,s);break;case"onClick":s!=null&&(t.onclick=Ja);break;case"onScroll":s!=null&&Ue("scroll",t);break;case"onScrollEnd":s!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}o=ea(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,""+s):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":s===!0?t.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(o,s):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(o,s):t.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(o):t.setAttribute(o,s);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ko(t,"popover",s);break;case"xlinkActuate":Mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Mn(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Mn(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Mn(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Mn(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ko(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zg.get(o)||o,Ko(t,o,s))}}function Eu(t,i,o,s,d,m){switch(o){case"style":Gc(t,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof s=="string"?Xi(t,s):(typeof s=="number"||typeof s=="bigint")&&Xi(t,""+s);break;case"onScroll":s!=null&&Ue("scroll",t);break;case"onScrollEnd":s!=null&&Ue("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),m=t[zt]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,s,d);break e}o in t?t[o]=s:s===!0?t.setAttribute(o,""):Ko(t,o,s)}}}function Nt(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$e(t,i,m,T,o,null)}}d&&$e(t,i,"srcSet",o.srcSet,o,null),s&&$e(t,i,"src",o.src,o,null);return;case"input":Ue("invalid",t);var C=m=T=d=null,S=null,w=null;for(s in o)if(o.hasOwnProperty(s)){var k=o[s];if(k!=null)switch(s){case"name":d=k;break;case"type":T=k;break;case"checked":S=k;break;case"defaultChecked":w=k;break;case"value":m=k;break;case"defaultValue":C=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:$e(t,i,s,k,o,null)}}kc(t,m,C,S,w,T,d,!1),Wo(t);return;case"select":Ue("invalid",t),s=T=m=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":m=C;break;case"defaultValue":T=C;break;case"multiple":s=C;default:$e(t,i,d,C,o,null)}i=m,o=T,t.multiple=!!s,i!=null?$i(t,!!s,i,!1):o!=null&&$i(t,!!s,o,!0);return;case"textarea":Ue("invalid",t),m=d=s=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":s=C;break;case"defaultValue":d=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:$e(t,i,T,C,o,null)}Pc(t,s,d,m),Wo(t);return;case"option":for(S in o)if(o.hasOwnProperty(S)&&(s=o[S],s!=null))switch(S){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(t,i,S,s,o,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Ue(Ro[s],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in o)if(o.hasOwnProperty(w)&&(s=o[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$e(t,i,w,s,o,null)}return;default:if(Bs(i)){for(k in o)o.hasOwnProperty(k)&&(s=o[k],s!==void 0&&Eu(t,i,k,s,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(s=o[C],s!=null&&$e(t,i,C,s,o,null))}function mv(t,i,o,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,C=null,S=null,w=null,k=null;for(O in o){var B=o[O];if(o.hasOwnProperty(O)&&B!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":S=B;default:s.hasOwnProperty(O)||$e(t,i,O,null,s,B)}}for(var D in s){var O=s[D];if(B=o[D],s.hasOwnProperty(D)&&(O!=null||B!=null))switch(D){case"type":m=O;break;case"name":d=O;break;case"checked":w=O;break;case"defaultChecked":k=O;break;case"value":T=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,i));break;default:O!==B&&$e(t,i,D,O,s,B)}}Vs(t,T,C,S,w,k,m,d);return;case"select":O=T=C=D=null;for(m in o)if(S=o[m],o.hasOwnProperty(m)&&S!=null)switch(m){case"value":break;case"multiple":O=S;default:s.hasOwnProperty(m)||$e(t,i,m,null,s,S)}for(d in s)if(m=s[d],S=o[d],s.hasOwnProperty(d)&&(m!=null||S!=null))switch(d){case"value":D=m;break;case"defaultValue":C=m;break;case"multiple":T=m;default:m!==S&&$e(t,i,d,m,s,S)}i=C,o=T,s=O,D!=null?$i(t,!!o,D,!1):!!s!=!!o&&(i!=null?$i(t,!!o,i,!0):$i(t,!!o,o?[]:"",!1));return;case"textarea":O=D=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:$e(t,i,C,null,s,d)}for(T in s)if(d=s[T],m=o[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":D=d;break;case"defaultValue":O=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&$e(t,i,T,d,s,m)}Vc(t,D,O);return;case"option":for(var ye in o)if(D=o[ye],o.hasOwnProperty(ye)&&D!=null&&!s.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:$e(t,i,ye,null,s,D)}for(S in s)if(D=s[S],O=o[S],s.hasOwnProperty(S)&&D!==O&&(D!=null||O!=null))switch(S){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:$e(t,i,S,D,s,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in o)D=o[he],o.hasOwnProperty(he)&&D!=null&&!s.hasOwnProperty(he)&&$e(t,i,he,null,s,D);for(w in s)if(D=s[w],O=o[w],s.hasOwnProperty(w)&&D!==O&&(D!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,i));break;default:$e(t,i,w,D,s,O)}return;default:if(Bs(i)){for(var Xe in o)D=o[Xe],o.hasOwnProperty(Xe)&&D!==void 0&&!s.hasOwnProperty(Xe)&&Eu(t,i,Xe,void 0,s,D);for(k in s)D=s[k],O=o[k],!s.hasOwnProperty(k)||D===O||D===void 0&&O===void 0||Eu(t,i,k,D,s,O);return}}for(var M in o)D=o[M],o.hasOwnProperty(M)&&D!=null&&!s.hasOwnProperty(M)&&$e(t,i,M,null,s,D);for(B in s)D=s[B],O=o[B],!s.hasOwnProperty(B)||D===O||D==null&&O==null||$e(t,i,B,D,s,O)}var Su=null,Au=null;function Za(t){return t.nodeType===9?t:t.ownerDocument}function Gm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ru(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mu=null;function hv(){var t=window.event;return t&&t.type==="popstate"?t===Mu?!1:(Mu=t,!0):(Mu=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(t){return Hm.resolve(null).then(t).catch(yv)}:zm;function yv(t){setTimeout(function(){throw t})}function ui(t){return t==="head"}function Ym(t,i){var o=i,s=0,d=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<s&&8>s){o=s;var T=t.ownerDocument;if(o&1&&bo(T.documentElement),o&2&&bo(T.body),o&4)for(o=T.head,bo(o),T=o.firstChild;T;){var C=T.nextSibling,S=T.nodeName;T[zl]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=C}}if(d===0){t.removeChild(m),ko(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:s=o.charCodeAt(0)-48;else s=0;o=m}while(o);ko(i)}function bu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bu(o),Is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function vv(t,i,o,s){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[zl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function Tv(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=hn(t.nextSibling),t===null))return null;return t}function Nu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Cv(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var s=function(){i(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var wu=null;function Fm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function Jm(t,i,o){switch(i=Za(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function bo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Is(t)}var cn=new Map,Zm=new Set;function $a(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qn=$.d;$.d={f:_v,r:xv,D:Ev,C:Sv,L:Av,m:Rv,X:bv,S:Mv,M:Nv};function _v(){var t=qn.f(),i=Ba();return t||i}function xv(t){var i=Yi(t);i!==null&&i.tag===5&&i.type==="form"?md(i):qn.r(t)}var Sl=typeof document>"u"?null:document;function $m(t,i,o){var s=Sl;if(s&&typeof i=="string"&&i){var d=nn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Zm.has(d)||(Zm.add(d),t={rel:t,crossOrigin:o,href:i},s.querySelector(d)===null&&(i=s.createElement("link"),Nt(i,"link",t),xt(i),s.head.appendChild(i)))}}function Ev(t){qn.D(t),$m("dns-prefetch",t,null)}function Sv(t,i){qn.C(t,i),$m("preconnect",t,i)}function Av(t,i,o){qn.L(t,i,o);var s=Sl;if(s&&t&&i){var d='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+nn(o.imageSizes)+'"]')):d+='[href="'+nn(t)+'"]';var m=d;switch(i){case"style":m=Al(t);break;case"script":m=Rl(t)}cn.has(m)||(t=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),cn.set(m,t),s.querySelector(d)!==null||i==="style"&&s.querySelector(No(m))||i==="script"&&s.querySelector(wo(m))||(i=s.createElement("link"),Nt(i,"link",t),xt(i),s.head.appendChild(i)))}}function Rv(t,i){qn.m(t,i);var o=Sl;if(o&&t){var s=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+nn(s)+'"][href="'+nn(t)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Rl(t)}if(!cn.has(m)&&(t=v({rel:"modulepreload",href:t},i),cn.set(m,t),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wo(m)))return}s=o.createElement("link"),Nt(s,"link",t),xt(s),o.head.appendChild(s)}}}function Mv(t,i,o){qn.S(t,i,o);var s=Sl;if(s&&t){var d=Fi(s).hoistableStyles,m=Al(t);i=i||"default";var T=d.get(m);if(!T){var C={loading:0,preload:null};if(T=s.querySelector(No(m)))C.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},o),(o=cn.get(m))&&Du(t,o);var S=T=s.createElement("link");xt(S),Nt(S,"link",t),S._p=new Promise(function(w,k){S.onload=w,S.onerror=k}),S.addEventListener("load",function(){C.loading|=1}),S.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Xa(T,i,s)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(m,T)}}}function bv(t,i){qn.X(t,i);var o=Sl;if(o&&t){var s=Fi(o).hoistableScripts,d=Rl(t),m=s.get(d);m||(m=o.querySelector(wo(d)),m||(t=v({src:t,async:!0},i),(i=cn.get(d))&&Ou(t,i),m=o.createElement("script"),xt(m),Nt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Nv(t,i){qn.M(t,i);var o=Sl;if(o&&t){var s=Fi(o).hoistableScripts,d=Rl(t),m=s.get(d);m||(m=o.querySelector(wo(d)),m||(t=v({src:t,async:!0,type:"module"},i),(i=cn.get(d))&&Ou(t,i),m=o.createElement("script"),xt(m),Nt(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Xm(t,i,o,s){var d=(d=ce.current)?$a(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Al(o.href),o=Fi(d).hoistableStyles,s=o.get(i),s||(s={type:"style",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Al(o.href);var m=Fi(d).hoistableStyles,T=m.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=d.querySelector(No(t)))&&!m._p&&(T.instance=m,T.state.loading=5),cn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(t,o),m||wv(d,t,o,T.state))),i&&s===null)throw Error(a(528,""));return T}if(i&&s!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Rl(o),o=Fi(d).hoistableScripts,s=o.get(i),s||(s={type:"script",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Al(t){return'href="'+nn(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function Km(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function wv(t,i,o,s){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=t.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),Nt(i,"link",o),xt(i),t.head.appendChild(i))}function Rl(t){return'[src="'+nn(t)+'"]'}function wo(t){return"script[async]"+t}function Qm(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var s=t.querySelector('style[data-href~="'+nn(o.href)+'"]');if(s)return i.instance=s,xt(s),s;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),xt(s),Nt(s,"style",d),Xa(s,o.precedence,t),i.instance=s;case"stylesheet":d=Al(o.href);var m=t.querySelector(No(d));if(m)return i.state.loading|=4,i.instance=m,xt(m),m;s=Km(o),(d=cn.get(d))&&Du(s,d),m=(t.ownerDocument||t).createElement("link"),xt(m);var T=m;return T._p=new Promise(function(C,S){T.onload=C,T.onerror=S}),Nt(m,"link",s),i.state.loading|=4,Xa(m,o.precedence,t),i.instance=m;case"script":return m=Rl(o.src),(d=t.querySelector(wo(m)))?(i.instance=d,xt(d),d):(s=o,(d=cn.get(m))&&(s=v({},o),Ou(s,d)),t=t.ownerDocument||t,d=t.createElement("script"),xt(d),Nt(d,"link",s),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,Xa(s,o.precedence,t));return i.instance}function Xa(t,i,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var C=s[T];if(C.dataset.precedence===i)m=C;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Du(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ou(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ka=null;function Wm(t,i,o){if(Ka===null){var s=new Map,d=Ka=new Map;d.set(o,s)}else d=Ka,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(t))return s;for(s.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var m=o[d];if(!(m[zl]||m[It]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=t+T;var C=s.get(T);C?C.push(m):s.set(T,[m])}}return s}function jm(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function Dv(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function eh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Do=null;function Ov(){}function Iv(t,i,o){if(Do===null)throw Error(a(475));var s=Do;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Al(o.href),m=t.querySelector(No(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Qa.bind(s),t.then(s,s)),i.state.loading|=4,i.instance=m,xt(m);return}m=t.ownerDocument||t,o=Km(o),(d=cn.get(d))&&Du(o,d),m=m.createElement("link"),xt(m);var T=m;T._p=new Promise(function(C,S){T.onload=C,T.onerror=S}),Nt(m,"link",o),i.instance=m}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=Qa.bind(s),t.addEventListener("load",i),t.addEventListener("error",i))}}function Uv(){if(Do===null)throw Error(a(475));var t=Do;return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Qa(){if(this.count--,this.count===0){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wa=null;function Iu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wa=new Map,i.forEach(Lv,t),Wa=null,Qa.call(t))}function Lv(t,i){if(!(i.state.loading&4)){var o=Wa.get(t);if(o)var s=o.get(null);else{o=new Map,Wa.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}d=i.instance,T=d.getAttribute("data-precedence"),m=o.get(T)||s,m===s&&o.set(null,d),o.set(T,d),this.count++,s=Qa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Oo={$$typeof:X,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function kv(t,i,o,s,d,m,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.hiddenUpdates=Ns(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function th(t,i,o,s,d,m,T,C,S,w,k,B){return t=new kv(t,i,o,T,C,S,w,B),i=1,m===!0&&(i|=24),m=$t(3,null,null,i),t.current=m,m.stateNode=t,i=hr(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:i},vr(m),t}function nh(t){return t?(t=il,t):il}function ih(t,i,o,s,d,m){d=nh(d),s.context===null?s.context=d:s.pendingContext=d,s=Kn(i),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=Qn(t,s,i),o!==null&&(jt(o,t,i),so(o,t,i))}function lh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Uu(t,i){lh(t,i),(t=t.alternate)&&lh(t,i)}function oh(t){if(t.tag===13){var i=nl(t,67108864);i!==null&&jt(i,t,67108864),Uu(t,67108864)}}var ja=!0;function Vv(t,i,o,s){var d=U.T;U.T=null;var m=$.p;try{$.p=2,Lu(t,i,o,s)}finally{$.p=m,U.T=d}}function Pv(t,i,o,s){var d=U.T;U.T=null;var m=$.p;try{$.p=8,Lu(t,i,o,s)}finally{$.p=m,U.T=d}}function Lu(t,i,o,s){if(ja){var d=ku(s);if(d===null)xu(t,i,s,es,o),sh(t,s);else if(Gv(d,t,i,o,s))s.stopPropagation();else if(sh(t,s),i&4&&-1<Bv.indexOf(t)){for(;d!==null;){var m=Yi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ci(m.pendingLanes);if(T!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var S=1<<31-Ae(T);C.entanglements[1]|=S,T&=~S}_n(m),(Fe&6)===0&&(Va=Te()+500,Ao(0))}}break;case 13:C=nl(m,2),C!==null&&jt(C,m,2),Ba(),Uu(m,2)}if(m=ku(s),m===null&&xu(t,i,s,es,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else xu(t,i,s,null,o)}}function ku(t){return t=qs(t),Vu(t)}var es=null;function Vu(t){if(es=null,t=Hi(t),t!==null){var i=f(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=h(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return es=t,null}function ah(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case Ke:return 2;case Rt:return 8;case ht:case Ye:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Pu=!1,ci=null,fi=null,di=null,Io=new Map,Uo=new Map,mi=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(t,i){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(i.pointerId)}}function Lo(t,i,o,s,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Yi(i),i!==null&&oh(i)),t):(t.eventSystemFlags|=s,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Gv(t,i,o,s,d){switch(i){case"focusin":return ci=Lo(ci,t,i,o,s,d),!0;case"dragenter":return fi=Lo(fi,t,i,o,s,d),!0;case"mouseover":return di=Lo(di,t,i,o,s,d),!0;case"pointerover":var m=d.pointerId;return Io.set(m,Lo(Io.get(m)||null,t,i,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Uo.set(m,Lo(Uo.get(m)||null,t,i,o,s,d)),!0}return!1}function rh(t){var i=Hi(t.target);if(i!==null){var o=f(i);if(o!==null){if(i=o.tag,i===13){if(i=h(o),i!==null){t.blockedOn=i,Ig(t.priority,function(){if(o.tag===13){var s=Wt();s=ws(s);var d=nl(o,s);d!==null&&jt(d,o,s),Uu(o,s)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ts(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=ku(t.nativeEvent);if(o===null){o=t.nativeEvent;var s=new o.constructor(o.type,o);Gs=s,o.target.dispatchEvent(s),Gs=null}else return i=Yi(o),i!==null&&oh(i),t.blockedOn=o,!1;i.shift()}return!0}function uh(t,i,o){ts(t)&&o.delete(i)}function qv(){Pu=!1,ci!==null&&ts(ci)&&(ci=null),fi!==null&&ts(fi)&&(fi=null),di!==null&&ts(di)&&(di=null),Io.forEach(uh),Uo.forEach(uh)}function ns(t,i){t.blockedOn===i&&(t.blockedOn=null,Pu||(Pu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qv)))}var is=null;function ch(t){is!==t&&(is=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){is===t&&(is=null);for(var i=0;i<t.length;i+=3){var o=t[i],s=t[i+1],d=t[i+2];if(typeof s!="function"){if(Vu(s||o)===null)continue;break}var m=Yi(o);m!==null&&(t.splice(i,3),i-=3,Vr(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function ko(t){function i(S){return ns(S,t)}ci!==null&&ns(ci,t),fi!==null&&ns(fi,t),di!==null&&ns(di,t),Io.forEach(i),Uo.forEach(i);for(var o=0;o<mi.length;o++){var s=mi[o];s.blockedOn===t&&(s.blockedOn=null)}for(;0<mi.length&&(o=mi[0],o.blockedOn===null);)rh(o),o.blockedOn===null&&mi.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],T=d[zt]||null;if(typeof m=="function")T||ch(o);else if(T){var C=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[zt]||null)C=T.formAction;else if(Vu(d)!==null)continue}else C=T.action;typeof C=="function"?o[s+1]=C:(o.splice(s,3),s-=3),ch(o)}}}function Bu(t){this._internalRoot=t}ls.prototype.render=Bu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,s=Wt();ih(o,s,t,i,null,null)},ls.prototype.unmount=Bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ih(t.current,2,null,t,null,null),Ba(),i[zi]=null}};function ls(t){this._internalRoot=t}ls.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rc();t={blockedOn:null,target:t,priority:i};for(var o=0;o<mi.length&&i!==0&&i<mi[o].priority;o++);mi.splice(o,0,t),o===0&&rh(t)}};var fh=e.version;if(fh!=="19.1.0")throw Error(a(527,fh,"19.1.0"));$.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var zv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{Ot=os.inject(zv),We=os}catch{}}return Po.createRoot=function(t,i){if(!r(t))throw Error(a(299));var o=!1,s="",d=Md,m=bd,T=Nd,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=th(t,1,!1,null,null,o,s,d,m,T,C,null),t[zi]=i.current,_u(t),new Bu(i)},Po.hydrateRoot=function(t,i,o){if(!r(t))throw Error(a(299));var s=!1,d="",m=Md,T=bd,C=Nd,S=null,w=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(S=o.unstable_transitionCallbacks),o.formState!==void 0&&(w=o.formState)),i=th(t,1,!0,i,o??null,s,d,m,T,C,S,w),i.context=nh(null),o=i.current,s=Wt(),s=ws(s),d=Kn(s),d.callback=null,Qn(o,d,s),o=s,i.current.lanes=o,ql(i,o),_n(i),t[zi]=i.current,_u(t),new ls(i)},Po.version="19.1.0",Po}var _h;function jv(){if(_h)return zu.exports;_h=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zu.exports=Wv(),zu.exports}var e0=jv();const t0=jp(e0);var re=(n=>(n.AUTH="AUTH",n.GENERATING_CASE="GENERATING_CASE",n.CASE_BRIEFING="CASE_BRIEFING",n.TRIAL_INTRO="TRIAL_INTRO",n.PROSECUTOR_ARGUMENT="PROSECUTOR_ARGUMENT",n.CO_COUNSEL_ADVICE="CO_COUNSEL_ADVICE",n.PLAYER_ACTION="PLAYER_ACTION",n.PLAYER_OBJECTION_INPUT="PLAYER_OBJECTION_INPUT",n.PLAYER_DEFENSE_INPUT="PLAYER_DEFENSE_INPUT",n.VERDICT="VERDICT",n))(re||{}),F=(n=>(n.JUDGE="The Judge",n.PROSECUTOR="Silly Prosecutor",n.DEFENSE_PLAYER="You (The Hero)",n.CO_COUNSEL="Your Super Helper",n.CLIENT="Your Friend in Trouble",n.NARRATOR="The Storyteller",n))(F||{}),W=(n=>(n.CASE_BRIEFING_INTRO="CASE_BRIEFING_INTRO",n.CASE_BRIEFING_PROCEED_BUTTON="CASE_BRIEFING_PROCEED_BUTTON",n.COURTROOM_WELCOME="COURTROOM_WELCOME",n.COURTROOM_CHARACTERS="COURTROOM_CHARACTERS",n.COURTROOM_DIALOGUE_BOX="COURTROOM_DIALOGUE_BOX",n.COURTROOM_TIMER_INTRO="COURTROOM_TIMER_INTRO",n.COURTROOM_PLAYER_ACTIONS_INTRO="COURTROOM_PLAYER_ACTIONS_INTRO",n.COURTROOM_TOOL_EVIDENCE="COURTROOM_TOOL_EVIDENCE",n.COURTROOM_TOOL_PROOF_BOARD="COURTROOM_TOOL_PROOF_BOARD",n.COURTROOM_TOOL_OBJECTION="COURTROOM_TOOL_OBJECTION",n.COURTROOM_OBJECTION_INPUT="COURTROOM_OBJECTION_INPUT",n.EVIDENCE_MODAL_INTRO="EVIDENCE_MODAL_INTRO",n.PROOF_BOARD_MODAL_INTRO="PROOF_BOARD_MODAL_INTRO",n.HEADER_MY_LEARNINGS="HEADER_MY_LEARNINGS",n))(W||{});const Wu="Oh no! The magic AI key is missing. The AI characters can't talk without it!",xh=[{id:"evidence_terminal",name:"Clue Checker",description:"Look at all the pictures and clues.",icon:"🔍",tutorialId:W.COURTROOM_TOOL_EVIDENCE},{id:"proof_board",name:"My Story Board",description:"Tell your story to help your friend.",icon:"💡",tutorialId:W.COURTROOM_TOOL_PROOF_BOARD},{id:"objection_system",name:"Wait a Minute!",description:'Say "Wait!" if the Silly Prosecutor says something not right.',icon:"🗣️",tutorialId:W.COURTROOM_TOOL_OBJECTION}],gc="gemini-2.5-flash-preview-04-17",as="algebradictionTutorialCompletedSteps_v1",Ju="algebradictionAllTutorialsDone_v1",Zu="algebradictionLearnings_v1",$u="algebradictionCurrentLevel_v1",eg="algebradictionClass8TopicIndex_v1",tg="algebradictionClass9TopicIndex_v1",ng="algebradictionClass10TopicIndex_v1",ss="algebradictionUsers_v1",Bo="algebradictionLastLoggedInUser_v1",wt=(n,e)=>e?`${n}_${e}`:`${n}_guest`,n0=5,i0=.25,Eh=1.5,l0=10,o0=20;var qe;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function l(r){throw new Error}n.assertNever=l,n.arrayToEnum=r=>{const f={};for(const h of r)f[h]=h;return f},n.getValidEnumValues=r=>{const f=n.objectKeys(r).filter(p=>typeof r[r[p]]!="number"),h={};for(const p of f)h[p]=r[p];return n.objectValues(h)},n.objectValues=r=>n.objectKeys(r).map(function(f){return r[f]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const f=[];for(const h in r)Object.prototype.hasOwnProperty.call(r,h)&&f.push(h);return f},n.find=(r,f)=>{for(const h of r)if(f(h))return h},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function a(r,f=" | "){return r.map(h=>typeof h=="string"?`'${h}'`:h).join(f)}n.joinValues=a,n.jsonStringifyReplacer=(r,f)=>typeof f=="bigint"?f.toString():f})(qe||(qe={}));var Sh;(function(n){n.mergeShapes=(e,l)=>({...e,...l})})(Sh||(Sh={}));const le=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=n=>{switch(typeof n){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(n)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(n)?le.array:n===null?le.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?le.promise:typeof Map<"u"&&n instanceof Map?le.map:typeof Set<"u"&&n instanceof Set?le.set:typeof Date<"u"&&n instanceof Date?le.date:le.object;default:return le.unknown}},H=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(f){return f.message},a={_errors:[]},r=f=>{for(const h of f.issues)if(h.code==="invalid_union")h.unionErrors.map(r);else if(h.code==="invalid_return_type")r(h.returnTypeError);else if(h.code==="invalid_arguments")r(h.argumentsError);else if(h.path.length===0)a._errors.push(l(h));else{let p=a,y=0;for(;y<h.path.length;){const g=h.path[y];y===h.path.length-1?(p[g]=p[g]||{_errors:[]},p[g]._errors.push(l(h))):p[g]=p[g]||{_errors:[]},p=p[g],y++}}};return r(this),a}static assert(e){if(!(e instanceof zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},a=[];for(const r of this.issues)r.path.length>0?(l[r.path[0]]=l[r.path[0]]||[],l[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:l}}get formErrors(){return this.flatten()}}zn.create=n=>new zn(n);const ju=(n,e)=>{let l;switch(n.code){case H.invalid_type:n.received===le.undefined?l="Required":l=`Expected ${n.expected}, received ${n.received}`;break;case H.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(n.expected,qe.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:l=`Unrecognized key(s) in object: ${qe.joinValues(n.keys,", ")}`;break;case H.invalid_union:l="Invalid input";break;case H.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${qe.joinValues(n.options)}`;break;case H.invalid_enum_value:l=`Invalid enum value. Expected ${qe.joinValues(n.options)}, received '${n.received}'`;break;case H.invalid_arguments:l="Invalid function arguments";break;case H.invalid_return_type:l="Invalid function return type";break;case H.invalid_date:l="Invalid date";break;case H.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(l=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?l=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?l=`Invalid input: must end with "${n.validation.endsWith}"`:qe.assertNever(n.validation):n.validation!=="regex"?l=`Invalid ${n.validation}`:l="Invalid";break;case H.too_small:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:l="Invalid input";break;case H.too_big:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?l=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:l="Invalid input";break;case H.custom:l="Invalid input";break;case H.invalid_intersection_types:l="Intersection results could not be merged";break;case H.not_multiple_of:l=`Number must be a multiple of ${n.multipleOf}`;break;case H.not_finite:l="Number must be finite";break;default:l=e.defaultError,qe.assertNever(n)}return{message:l}};let a0=ju;function s0(){return a0}const r0=n=>{const{data:e,path:l,errorMaps:a,issueData:r}=n,f=[...l,...r.path||[]],h={...r,path:f};if(r.message!==void 0)return{...r,path:f,message:r.message};let p="";const y=a.filter(g=>!!g).slice().reverse();for(const g of y)p=g(h,{data:e,defaultError:p}).message;return{...r,path:f,message:p}};function j(n,e){const l=s0(),a=r0({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,l,l===ju?void 0:ju].filter(r=>!!r)});n.common.issues.push(a)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const a=[];for(const r of l){if(r.status==="aborted")return xe;r.status==="dirty"&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,l){const a=[];for(const r of l){const f=await r.key,h=await r.value;a.push({key:f,value:h})}return qt.mergeObjectSync(e,a)}static mergeObjectSync(e,l){const a={};for(const r of l){const{key:f,value:h}=r;if(f.status==="aborted"||h.status==="aborted")return xe;f.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof h.value<"u"||r.alwaysSet)&&(a[f.value]=h.value)}return{status:e.value,value:a}}}const xe=Object.freeze({status:"aborted"}),qo=n=>({status:"dirty",value:n}),fn=n=>({status:"valid",value:n}),Ah=n=>n.status==="aborted",Rh=n=>n.status==="dirty",Ol=n=>n.status==="valid",ps=n=>typeof Promise<"u"&&n instanceof Promise;var ue;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));class An{constructor(e,l,a,r){this._cachedPath=[],this.parent=e,this.data=l,this._path=a,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mh=(n,e)=>{if(Ol(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new zn(n.common.issues);return this._error=l,this._error}}};function Ne(n){if(!n)return{};const{errorMap:e,invalid_type_error:l,required_error:a,description:r}=n;if(e&&(l||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(h,p)=>{const{message:y}=n;return h.code==="invalid_enum_value"?{message:y??p.defaultError}:typeof p.data>"u"?{message:y??a??p.defaultError}:h.code!=="invalid_type"?{message:p.defaultError}:{message:y??l??p.defaultError}},description:r}}class ke{get description(){return this._def.description}_getType(e){return gi(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:gi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(ps(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const a=this.safeParse(e,l);if(a.success)return a.data;throw a.error}safeParse(e,l){const a={common:{issues:[],async:(l==null?void 0:l.async)??!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},r=this._parseSync({data:e,path:a.path,parent:a});return Mh(a,r)}"~validate"(e){var a,r;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:l});return Ol(f)?{value:f.value}:{issues:l.common.issues}}catch(f){(r=(a=f==null?void 0:f.message)==null?void 0:a.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(f=>Ol(f)?{value:f.value}:{issues:l.common.issues})}async parseAsync(e,l){const a=await this.safeParseAsync(e,l);if(a.success)return a.data;throw a.error}async safeParseAsync(e,l){const a={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gi(e)},r=this._parse({data:e,path:a.path,parent:a}),f=await(ps(r)?r:Promise.resolve(r));return Mh(a,f)}refine(e,l){const a=r=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(r):l;return this._refinement((r,f)=>{const h=e(r),p=()=>f.addIssue({code:H.custom,...a(r)});return typeof Promise<"u"&&h instanceof Promise?h.then(y=>y?!0:(p(),!1)):h?!0:(p(),!1)})}refinement(e,l){return this._refinement((a,r)=>e(a)?!0:(r.addIssue(typeof l=="function"?l(a,r):l),!1))}_refinement(e){return new Ll({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return yi.create(this,this._def)}nullable(){return kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return Cs.create(this,this._def)}or(e){return ys.create([this,e],this._def)}and(e){return vs.create(this,e,this._def)}transform(e){return new Ll({...Ne(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new ic({...Ne(this._def),innerType:this,defaultValue:l,typeName:_e.ZodDefault})}brand(){return new D0({typeName:_e.ZodBranded,type:this,...Ne(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new lc({...Ne(this._def),innerType:this,catchValue:l,typeName:_e.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return yc.create(this,e)}readonly(){return oc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const u0=/^c[^\s-]{8,}$/i,c0=/^[0-9a-z]+$/,f0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,d0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m0=/^[a-z0-9_-]{21}$/i,h0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,p0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,g0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,y0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xu;const v0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,C0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,x0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,E0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ig="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",S0=new RegExp(`^${ig}$`);function lg(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const l=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function A0(n){return new RegExp(`^${lg(n)}$`)}function R0(n){let e=`${ig}T${lg(n)}`;const l=[];return l.push(n.local?"Z?":"Z"),n.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function M0(n,e){return!!((e==="v4"||!e)&&v0.test(n)||(e==="v6"||!e)&&C0.test(n))}function b0(n,e){if(!h0.test(n))return!1;try{const[l]=n.split("."),a=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),r=JSON.parse(atob(a));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function N0(n,e){return!!((e==="v4"||!e)&&T0.test(n)||(e==="v6"||!e)&&_0.test(n))}class xn extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){const f=this._getOrReturnCtx(e);return j(f,{code:H.invalid_type,expected:le.string,received:f.parsedType}),xe}const a=new qt;let r;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(r=this._getOrReturnCtx(e,r),j(r,{code:H.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),a.dirty());else if(f.kind==="max")e.data.length>f.value&&(r=this._getOrReturnCtx(e,r),j(r,{code:H.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),a.dirty());else if(f.kind==="length"){const h=e.data.length>f.value,p=e.data.length<f.value;(h||p)&&(r=this._getOrReturnCtx(e,r),h?j(r,{code:H.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):p&&j(r,{code:H.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),a.dirty())}else if(f.kind==="email")g0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"email",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="emoji")Xu||(Xu=new RegExp(y0,"u")),Xu.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"emoji",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="uuid")d0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"uuid",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="nanoid")m0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"nanoid",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="cuid")u0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"cuid",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="cuid2")c0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"cuid2",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="ulid")f0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"ulid",code:H.invalid_string,message:f.message}),a.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),j(r,{validation:"url",code:H.invalid_string,message:f.message}),a.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"regex",code:H.invalid_string,message:f.message}),a.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),a.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:{startsWith:f.value},message:f.message}),a.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:{endsWith:f.value},message:f.message}),a.dirty()):f.kind==="datetime"?R0(f).test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:"datetime",message:f.message}),a.dirty()):f.kind==="date"?S0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:"date",message:f.message}),a.dirty()):f.kind==="time"?A0(f).test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{code:H.invalid_string,validation:"time",message:f.message}),a.dirty()):f.kind==="duration"?p0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"duration",code:H.invalid_string,message:f.message}),a.dirty()):f.kind==="ip"?M0(e.data,f.version)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"ip",code:H.invalid_string,message:f.message}),a.dirty()):f.kind==="jwt"?b0(e.data,f.alg)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"jwt",code:H.invalid_string,message:f.message}),a.dirty()):f.kind==="cidr"?N0(e.data,f.version)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"cidr",code:H.invalid_string,message:f.message}),a.dirty()):f.kind==="base64"?x0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"base64",code:H.invalid_string,message:f.message}),a.dirty()):f.kind==="base64url"?E0.test(e.data)||(r=this._getOrReturnCtx(e,r),j(r,{validation:"base64url",code:H.invalid_string,message:f.message}),a.dirty()):qe.assertNever(f);return{status:a.value,value:e.data}}_regex(e,l,a){return this.refinement(r=>e.test(r),{validation:l,code:H.invalid_string,...ue.errToObj(a)})}_addCheck(e){return new xn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ue.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...ue.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...ue.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...ue.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...ue.errToObj(l)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}xn.create=n=>new xn({checks:[],typeName:_e.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Ne(n)});function w0(n,e){const l=(n.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,r=l>a?l:a,f=Number.parseInt(n.toFixed(r).replace(".","")),h=Number.parseInt(e.toFixed(r).replace(".",""));return f%h/10**r}class Bi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){const f=this._getOrReturnCtx(e);return j(f,{code:H.invalid_type,expected:le.number,received:f.parsedType}),xe}let a;const r=new qt;for(const f of this._def.checks)f.kind==="int"?qe.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),j(a,{code:H.invalid_type,expected:"integer",received:"float",message:f.message}),r.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="multipleOf"?w0(e.data,f.value)!==0&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),j(a,{code:H.not_finite,message:f.message}),r.dirty()):qe.assertNever(f);return{status:r.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,ue.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ue.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ue.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ue.toString(l))}setLimit(e,l,a,r){return new Bi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:a,message:ue.toString(r)}]})}_addCheck(e){return new Bi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(l===null||a.value>l)&&(l=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(l)&&Number.isFinite(e)}}Bi.create=n=>new Bi({checks:[],typeName:_e.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ne(n)});class Gi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==le.bigint)return this._getInvalidInput(e);let a;const r=new qt;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),j(a,{code:H.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):qe.assertNever(f);return{status:r.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return j(l,{code:H.invalid_type,expected:le.bigint,received:l.parsedType}),xe}gte(e,l){return this.setLimit("min",e,!0,ue.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ue.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ue.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ue.toString(l))}setLimit(e,l,a,r){return new Gi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:a,message:ue.toString(r)}]})}_addCheck(e){return new Gi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}Gi.create=n=>new Gi({checks:[],typeName:_e.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Ne(n)});class gs extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.boolean,received:a.parsedType}),xe}return fn(e.data)}}gs.create=n=>new gs({typeName:_e.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ne(n)});class Il extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){const f=this._getOrReturnCtx(e);return j(f,{code:H.invalid_type,expected:le.date,received:f.parsedType}),xe}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return j(f,{code:H.invalid_date}),xe}const a=new qt;let r;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(r=this._getOrReturnCtx(e,r),j(r,{code:H.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),a.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(r=this._getOrReturnCtx(e,r),j(r,{code:H.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),a.dirty()):qe.assertNever(f);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Il({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}Il.create=n=>new Il({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:_e.ZodDate,...Ne(n)});class bh extends ke{_parse(e){if(this._getType(e)!==le.symbol){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.symbol,received:a.parsedType}),xe}return fn(e.data)}}bh.create=n=>new bh({typeName:_e.ZodSymbol,...Ne(n)});class Nh extends ke{_parse(e){if(this._getType(e)!==le.undefined){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.undefined,received:a.parsedType}),xe}return fn(e.data)}}Nh.create=n=>new Nh({typeName:_e.ZodUndefined,...Ne(n)});class wh extends ke{_parse(e){if(this._getType(e)!==le.null){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.null,received:a.parsedType}),xe}return fn(e.data)}}wh.create=n=>new wh({typeName:_e.ZodNull,...Ne(n)});class Dh extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}Dh.create=n=>new Dh({typeName:_e.ZodAny,...Ne(n)});class ec extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}ec.create=n=>new ec({typeName:_e.ZodUnknown,...Ne(n)});class vi extends ke{_parse(e){const l=this._getOrReturnCtx(e);return j(l,{code:H.invalid_type,expected:le.never,received:l.parsedType}),xe}}vi.create=n=>new vi({typeName:_e.ZodNever,...Ne(n)});class Oh extends ke{_parse(e){if(this._getType(e)!==le.undefined){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.void,received:a.parsedType}),xe}return fn(e.data)}}Oh.create=n=>new Oh({typeName:_e.ZodVoid,...Ne(n)});class Sn extends ke{_parse(e){const{ctx:l,status:a}=this._processInputParams(e),r=this._def;if(l.parsedType!==le.array)return j(l,{code:H.invalid_type,expected:le.array,received:l.parsedType}),xe;if(r.exactLength!==null){const h=l.data.length>r.exactLength.value,p=l.data.length<r.exactLength.value;(h||p)&&(j(l,{code:h?H.too_big:H.too_small,minimum:p?r.exactLength.value:void 0,maximum:h?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(r.minLength!==null&&l.data.length<r.minLength.value&&(j(l,{code:H.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),r.maxLength!==null&&l.data.length>r.maxLength.value&&(j(l,{code:H.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),l.common.async)return Promise.all([...l.data].map((h,p)=>r.type._parseAsync(new An(l,h,l.path,p)))).then(h=>qt.mergeArray(a,h));const f=[...l.data].map((h,p)=>r.type._parseSync(new An(l,h,l.path,p)));return qt.mergeArray(a,f)}get element(){return this._def.type}min(e,l){return new Sn({...this._def,minLength:{value:e,message:ue.toString(l)}})}max(e,l){return new Sn({...this._def,maxLength:{value:e,message:ue.toString(l)}})}length(e,l){return new Sn({...this._def,exactLength:{value:e,message:ue.toString(l)}})}nonempty(e){return this.min(1,e)}}Sn.create=(n,e)=>new Sn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Ne(e)});function bl(n){if(n instanceof vt){const e={};for(const l in n.shape){const a=n.shape[l];e[l]=yi.create(bl(a))}return new vt({...n._def,shape:()=>e})}else return n instanceof Sn?new Sn({...n._def,type:bl(n.element)}):n instanceof yi?yi.create(bl(n.unwrap())):n instanceof kl?kl.create(bl(n.unwrap())):n instanceof qi?qi.create(n.items.map(e=>bl(e))):n}class vt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=qe.objectKeys(e);return this._cached={shape:e,keys:l},this._cached}_parse(e){if(this._getType(e)!==le.object){const g=this._getOrReturnCtx(e);return j(g,{code:H.invalid_type,expected:le.object,received:g.parsedType}),xe}const{status:a,ctx:r}=this._processInputParams(e),{shape:f,keys:h}=this._getCached(),p=[];if(!(this._def.catchall instanceof vi&&this._def.unknownKeys==="strip"))for(const g in r.data)h.includes(g)||p.push(g);const y=[];for(const g of h){const v=f[g],_=r.data[g];y.push({key:{status:"valid",value:g},value:v._parse(new An(r,_,r.path,g)),alwaysSet:g in r.data})}if(this._def.catchall instanceof vi){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of p)y.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(g==="strict")p.length>0&&(j(r,{code:H.unrecognized_keys,keys:p}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of p){const _=r.data[v];y.push({key:{status:"valid",value:v},value:g._parse(new An(r,_,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of y){const _=await v.key,E=await v.value;g.push({key:_,value:E,alwaysSet:v.alwaysSet})}return g}).then(g=>qt.mergeObjectSync(a,g)):qt.mergeObjectSync(a,y)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,a)=>{var f,h;const r=((h=(f=this._def).errorMap)==null?void 0:h.call(f,l,a).message)??a.defaultError;return l.code==="unrecognized_keys"?{message:ue.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const l={};for(const a of qe.objectKeys(e))e[a]&&this.shape[a]&&(l[a]=this.shape[a]);return new vt({...this._def,shape:()=>l})}omit(e){const l={};for(const a of qe.objectKeys(this.shape))e[a]||(l[a]=this.shape[a]);return new vt({...this._def,shape:()=>l})}deepPartial(){return bl(this)}partial(e){const l={};for(const a of qe.objectKeys(this.shape)){const r=this.shape[a];e&&!e[a]?l[a]=r:l[a]=r.optional()}return new vt({...this._def,shape:()=>l})}required(e){const l={};for(const a of qe.objectKeys(this.shape))if(e&&!e[a])l[a]=this.shape[a];else{let f=this.shape[a];for(;f instanceof yi;)f=f._def.innerType;l[a]=f}return new vt({...this._def,shape:()=>l})}keyof(){return og(qe.objectKeys(this.shape))}}vt.create=(n,e)=>new vt({shape:()=>n,unknownKeys:"strip",catchall:vi.create(),typeName:_e.ZodObject,...Ne(e)});vt.strictCreate=(n,e)=>new vt({shape:()=>n,unknownKeys:"strict",catchall:vi.create(),typeName:_e.ZodObject,...Ne(e)});vt.lazycreate=(n,e)=>new vt({shape:n,unknownKeys:"strip",catchall:vi.create(),typeName:_e.ZodObject,...Ne(e)});class ys extends ke{_parse(e){const{ctx:l}=this._processInputParams(e),a=this._def.options;function r(f){for(const p of f)if(p.result.status==="valid")return p.result;for(const p of f)if(p.result.status==="dirty")return l.common.issues.push(...p.ctx.common.issues),p.result;const h=f.map(p=>new zn(p.ctx.common.issues));return j(l,{code:H.invalid_union,unionErrors:h}),xe}if(l.common.async)return Promise.all(a.map(async f=>{const h={...l,common:{...l.common,issues:[]},parent:null};return{result:await f._parseAsync({data:l.data,path:l.path,parent:h}),ctx:h}})).then(r);{let f;const h=[];for(const y of a){const g={...l,common:{...l.common,issues:[]},parent:null},v=y._parseSync({data:l.data,path:l.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!f&&(f={result:v,ctx:g}),g.common.issues.length&&h.push(g.common.issues)}if(f)return l.common.issues.push(...f.ctx.common.issues),f.result;const p=h.map(y=>new zn(y));return j(l,{code:H.invalid_union,unionErrors:p}),xe}}get options(){return this._def.options}}ys.create=(n,e)=>new ys({options:n,typeName:_e.ZodUnion,...Ne(e)});function tc(n,e){const l=gi(n),a=gi(e);if(n===e)return{valid:!0,data:n};if(l===le.object&&a===le.object){const r=qe.objectKeys(e),f=qe.objectKeys(n).filter(p=>r.indexOf(p)!==-1),h={...n,...e};for(const p of f){const y=tc(n[p],e[p]);if(!y.valid)return{valid:!1};h[p]=y.data}return{valid:!0,data:h}}else if(l===le.array&&a===le.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let f=0;f<n.length;f++){const h=n[f],p=e[f],y=tc(h,p);if(!y.valid)return{valid:!1};r.push(y.data)}return{valid:!0,data:r}}else return l===le.date&&a===le.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class vs extends ke{_parse(e){const{status:l,ctx:a}=this._processInputParams(e),r=(f,h)=>{if(Ah(f)||Ah(h))return xe;const p=tc(f.value,h.value);return p.valid?((Rh(f)||Rh(h))&&l.dirty(),{status:l.value,value:p.data}):(j(a,{code:H.invalid_intersection_types}),xe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([f,h])=>r(f,h)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}vs.create=(n,e,l)=>new vs({left:n,right:e,typeName:_e.ZodIntersection,...Ne(l)});class qi extends ke{_parse(e){const{status:l,ctx:a}=this._processInputParams(e);if(a.parsedType!==le.array)return j(a,{code:H.invalid_type,expected:le.array,received:a.parsedType}),xe;if(a.data.length<this._def.items.length)return j(a,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&a.data.length>this._def.items.length&&(j(a,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const f=[...a.data].map((h,p)=>{const y=this._def.items[p]||this._def.rest;return y?y._parse(new An(a,h,a.path,p)):null}).filter(h=>!!h);return a.common.async?Promise.all(f).then(h=>qt.mergeArray(l,h)):qt.mergeArray(l,f)}get items(){return this._def.items}rest(e){return new qi({...this._def,rest:e})}}qi.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qi({items:n,typeName:_e.ZodTuple,rest:null,...Ne(e)})};class Ts extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:a}=this._processInputParams(e);if(a.parsedType!==le.object)return j(a,{code:H.invalid_type,expected:le.object,received:a.parsedType}),xe;const r=[],f=this._def.keyType,h=this._def.valueType;for(const p in a.data)r.push({key:f._parse(new An(a,p,a.path,p)),value:h._parse(new An(a,a.data[p],a.path,p)),alwaysSet:p in a.data});return a.common.async?qt.mergeObjectAsync(l,r):qt.mergeObjectSync(l,r)}get element(){return this._def.valueType}static create(e,l,a){return l instanceof ke?new Ts({keyType:e,valueType:l,typeName:_e.ZodRecord,...Ne(a)}):new Ts({keyType:xn.create(),valueType:e,typeName:_e.ZodRecord,...Ne(l)})}}class Ih extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:a}=this._processInputParams(e);if(a.parsedType!==le.map)return j(a,{code:H.invalid_type,expected:le.map,received:a.parsedType}),xe;const r=this._def.keyType,f=this._def.valueType,h=[...a.data.entries()].map(([p,y],g)=>({key:r._parse(new An(a,p,a.path,[g,"key"])),value:f._parse(new An(a,y,a.path,[g,"value"]))}));if(a.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const y of h){const g=await y.key,v=await y.value;if(g.status==="aborted"||v.status==="aborted")return xe;(g.status==="dirty"||v.status==="dirty")&&l.dirty(),p.set(g.value,v.value)}return{status:l.value,value:p}})}else{const p=new Map;for(const y of h){const g=y.key,v=y.value;if(g.status==="aborted"||v.status==="aborted")return xe;(g.status==="dirty"||v.status==="dirty")&&l.dirty(),p.set(g.value,v.value)}return{status:l.value,value:p}}}}Ih.create=(n,e,l)=>new Ih({valueType:e,keyType:n,typeName:_e.ZodMap,...Ne(l)});class Jo extends ke{_parse(e){const{status:l,ctx:a}=this._processInputParams(e);if(a.parsedType!==le.set)return j(a,{code:H.invalid_type,expected:le.set,received:a.parsedType}),xe;const r=this._def;r.minSize!==null&&a.data.size<r.minSize.value&&(j(a,{code:H.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),l.dirty()),r.maxSize!==null&&a.data.size>r.maxSize.value&&(j(a,{code:H.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),l.dirty());const f=this._def.valueType;function h(y){const g=new Set;for(const v of y){if(v.status==="aborted")return xe;v.status==="dirty"&&l.dirty(),g.add(v.value)}return{status:l.value,value:g}}const p=[...a.data.values()].map((y,g)=>f._parse(new An(a,y,a.path,g)));return a.common.async?Promise.all(p).then(y=>h(y)):h(p)}min(e,l){return new Jo({...this._def,minSize:{value:e,message:ue.toString(l)}})}max(e,l){return new Jo({...this._def,maxSize:{value:e,message:ue.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}Jo.create=(n,e)=>new Jo({valueType:n,minSize:null,maxSize:null,typeName:_e.ZodSet,...Ne(e)});class nc extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}nc.create=(n,e)=>new nc({getter:n,typeName:_e.ZodLazy,...Ne(e)});class Uh extends ke{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return j(l,{received:l.data,code:H.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Uh.create=(n,e)=>new Uh({value:n,typeName:_e.ZodLiteral,...Ne(e)});function og(n,e){return new Ul({values:n,typeName:_e.ZodEnum,...Ne(e)})}class Ul extends ke{_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),a=this._def.values;return j(l,{expected:qe.joinValues(a),received:l.parsedType,code:H.invalid_type}),xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const l=this._getOrReturnCtx(e),a=this._def.values;return j(l,{received:l.data,code:H.invalid_enum_value,options:a}),xe}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return Ul.create(e,{...this._def,...l})}exclude(e,l=this._def){return Ul.create(this.options.filter(a=>!e.includes(a)),{...this._def,...l})}}Ul.create=og;class Lh extends ke{_parse(e){const l=qe.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==le.string&&a.parsedType!==le.number){const r=qe.objectValues(l);return j(a,{expected:qe.joinValues(r),received:a.parsedType,code:H.invalid_type}),xe}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=qe.objectValues(l);return j(a,{received:a.data,code:H.invalid_enum_value,options:r}),xe}return fn(e.data)}get enum(){return this._def.values}}Lh.create=(n,e)=>new Lh({values:n,typeName:_e.ZodNativeEnum,...Ne(e)});class Cs extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==le.promise&&l.common.async===!1)return j(l,{code:H.invalid_type,expected:le.promise,received:l.parsedType}),xe;const a=l.parsedType===le.promise?l.data:Promise.resolve(l.data);return fn(a.then(r=>this._def.type.parseAsync(r,{path:l.path,errorMap:l.common.contextualErrorMap})))}}Cs.create=(n,e)=>new Cs({type:n,typeName:_e.ZodPromise,...Ne(e)});class Ll extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:a}=this._processInputParams(e),r=this._def.effect||null,f={addIssue:h=>{j(a,h),h.fatal?l.abort():l.dirty()},get path(){return a.path}};if(f.addIssue=f.addIssue.bind(f),r.type==="preprocess"){const h=r.transform(a.data,f);if(a.common.async)return Promise.resolve(h).then(async p=>{if(l.value==="aborted")return xe;const y=await this._def.schema._parseAsync({data:p,path:a.path,parent:a});return y.status==="aborted"?xe:y.status==="dirty"||l.value==="dirty"?qo(y.value):y});{if(l.value==="aborted")return xe;const p=this._def.schema._parseSync({data:h,path:a.path,parent:a});return p.status==="aborted"?xe:p.status==="dirty"||l.value==="dirty"?qo(p.value):p}}if(r.type==="refinement"){const h=p=>{const y=r.refinement(p,f);if(a.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(a.common.async===!1){const p=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?xe:(p.status==="dirty"&&l.dirty(),h(p.value),{status:l.value,value:p.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(p=>p.status==="aborted"?xe:(p.status==="dirty"&&l.dirty(),h(p.value).then(()=>({status:l.value,value:p.value}))))}if(r.type==="transform")if(a.common.async===!1){const h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ol(h))return xe;const p=r.transform(h.value,f);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:p}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(h=>Ol(h)?Promise.resolve(r.transform(h.value,f)).then(p=>({status:l.value,value:p})):xe);qe.assertNever(r)}}Ll.create=(n,e,l)=>new Ll({schema:n,typeName:_e.ZodEffects,effect:e,...Ne(l)});Ll.createWithPreprocess=(n,e,l)=>new Ll({schema:e,effect:{type:"preprocess",transform:n},typeName:_e.ZodEffects,...Ne(l)});class yi extends ke{_parse(e){return this._getType(e)===le.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(n,e)=>new yi({innerType:n,typeName:_e.ZodOptional,...Ne(e)});class kl extends ke{_parse(e){return this._getType(e)===le.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kl.create=(n,e)=>new kl({innerType:n,typeName:_e.ZodNullable,...Ne(e)});class ic extends ke{_parse(e){const{ctx:l}=this._processInputParams(e);let a=l.data;return l.parsedType===le.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}ic.create=(n,e)=>new ic({innerType:n,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});class lc extends ke{_parse(e){const{ctx:l}=this._processInputParams(e),a={...l,common:{...l.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return ps(r)?r.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new zn(a.common.issues)},input:a.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new zn(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}lc.create=(n,e)=>new lc({innerType:n,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});class kh extends ke{_parse(e){if(this._getType(e)!==le.nan){const a=this._getOrReturnCtx(e);return j(a,{code:H.invalid_type,expected:le.nan,received:a.parsedType}),xe}return{status:"valid",value:e.data}}}kh.create=n=>new kh({typeName:_e.ZodNaN,...Ne(n)});class D0 extends ke{_parse(e){const{ctx:l}=this._processInputParams(e),a=l.data;return this._def.type._parse({data:a,path:l.path,parent:l})}unwrap(){return this._def.type}}class yc extends ke{_parse(e){const{status:l,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return f.status==="aborted"?xe:f.status==="dirty"?(l.dirty(),qo(f.value)):this._def.out._parseAsync({data:f.value,path:a.path,parent:a})})();{const r=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return r.status==="aborted"?xe:r.status==="dirty"?(l.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:a.path,parent:a})}}static create(e,l){return new yc({in:e,out:l,typeName:_e.ZodPipeline})}}class oc extends ke{_parse(e){const l=this._def.innerType._parse(e),a=r=>(Ol(r)&&(r.value=Object.freeze(r.value)),r);return ps(l)?l.then(r=>a(r)):a(l)}unwrap(){return this._def.innerType}}oc.create=(n,e)=>new oc({innerType:n,typeName:_e.ZodReadonly,...Ne(e)});var _e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(_e||(_e={}));const Pi=xn.create,Vh=Bi.create;Gi.create;const O0=gs.create;Il.create;const Ph=ec.create;vi.create;const zo=Sn.create,I0=vt.create,U0=ys.create;vs.create;qi.create;const L0=Ts.create,k0=nc.create,V0=Ul.create;Cs.create;yi.create;kl.create;const Ml={string:n=>xn.create({...n,coerce:!0}),number:n=>Bi.create({...n,coerce:!0}),boolean:n=>gs.create({...n,coerce:!0}),bigint:n=>Gi.create({...n,coerce:!0}),date:n=>Il.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let P0,B0;function G0(){return{geminiUrl:P0,vertexUrl:B0}}function q0(n,e,l){var a,r,f;if(!(!((a=n.httpOptions)===null||a===void 0)&&a.baseUrl)){const h=G0();return n.vertexai?(r=h.vertexUrl)!==null&&r!==void 0?r:e:(f=h.geminiUrl)!==null&&f!==void 0?f:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pl{}function ve(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const f=e[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(n,e,l){for(let f=0;f<e.length-1;f++){const h=e[f];if(h.endsWith("[]")){const p=h.slice(0,-2);if(!(p in n))if(Array.isArray(l))n[p]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(l))for(let g=0;g<y.length;g++){const v=y[g];c(v,e.slice(f+1),l[g])}else for(const g of y)c(g,e.slice(f+1),l)}return}else if(h.endsWith("[0]")){const p=h.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];c(y[0],e.slice(f+1),l);return}(!n[h]||typeof n[h]!="object")&&(n[h]={}),n=n[h]}const a=e[e.length-1],r=n[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=l}function u(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const a=e[l];if(a.endsWith("[]")){const r=a.slice(0,-2);if(r in n){const f=n[r];return Array.isArray(f)?f.map(h=>u(h,e.slice(l+1))):void 0}else return}else n=n[a]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bh;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bh||(Bh={}));var Gh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Gh||(Gh={}));var En;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(En||(En={}));var qh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(qh||(qh={}));var zh;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(zh||(zh={}));var Hh;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Hh||(Hh={}));var Yh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Yh||(Yh={}));var Fh;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Fh||(Fh={}));var Jh;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Jh||(Jh={}));var Zh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Zh||(Zh={}));var $h;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($h||($h={}));var Xh;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Xh||(Xh={}));var Kh;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kh||(Kh={}));var _s;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(_s||(_s={}));var Qh;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qh||(Qh={}));var ac;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ac||(ac={}));var Wh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wh||(Wh={}));var jh;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(jh||(jh={}));var ep;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ep||(ep={}));var tp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(tp||(tp={}));var np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(np||(np={}));var ip;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(ip||(ip={}));var lp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(lp||(lp={}));var op;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(op||(op={}));var ap;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(ap||(ap={}));var sp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sp||(sp={}));var rp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rp||(rp={}));var up;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(up||(up={}));var cp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cp||(cp={}));var fp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(fp||(fp={}));var dp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(dp||(dp={}));var mp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(mp||(mp={}));var hp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(hp||(hp={}));var pp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pp||(pp={}));var gp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(gp||(gp={}));var yp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yp||(yp={}));var vp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(vp||(vp={}));var Tp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tp||(Tp={}));var Nl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Nl||(Nl={}));class sc{constructor(e){const l={};for(const a of e.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Go{get text(){var e,l,a,r,f,h,p,y;if(((r=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const _=[];for(const E of(y=(p=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[b,I]of Object.entries(E))b!=="text"&&b!=="thought"&&(I!==null||I!==void 0)&&_.push(b);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,l,a,r,f,h,p,y;if(((r=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const _ of(y=(p=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,b]of Object.entries(_))E!=="inlineData"&&(b!==null||b!==void 0)&&v.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(g+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,l,a,r,f,h,p,y;if(((r=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,l,a,r,f,h,p,y,g;if(((r=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,l,a,r,f,h,p,y,g;if(((r=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Cp{}class _p{}class z0{}class H0{}class xp{}class Ep{}class Sp{}class Y0{}class Ap{}class Rp{}class Mp{}class F0{}class J0{}class Z0{}class $0{get text(){var e,l,a;let r="",f=!1;const h=[];for(const p of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&h.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,r+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var e,l,a;let r="";const f=[];for(const h of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[p,y]of Object.entries(h))p!=="inlineData"&&y!==null&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class X0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ag(n,e){const l=tt(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function sg(n){return Array.isArray(n)?n.map(e=>xs(e)):[xs(n)]}function xs(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function K0(n){const e=xs(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Q0(n){const e=xs(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function rg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>bp(e)):[bp(n)]}function rc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Np(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function wp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Gt(n){if(n==null)throw new Error("ContentUnion is required");return rc(n)?n:{role:"user",parts:rg(n)}}function ug(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const a=Gt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const l=Gt(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>Gt(l)):[Gt(e)]}function gn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Np(n)||wp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gt(n)]}const e=[],l=[],a=rc(n[0]);for(const r of n){const f=rc(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(r);else{if(Np(r)||wp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||e.push({role:"user",parts:rg(l)}),e}const W0=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Dp=V0(["string","number","integer","object","array","boolean","null"]),j0=U0([Dp,zo(Dp)]);function eT(n=!0){const e=k0(()=>{const l=I0({type:j0.optional(),format:Pi().optional(),title:Pi().optional(),description:Pi().optional(),default:Ph().optional(),items:e.optional(),minItems:Ml.string().optional(),maxItems:Ml.string().optional(),enum:zo(Ph()).optional(),properties:L0(Pi(),e).optional(),required:zo(Pi()).optional(),minProperties:Ml.string().optional(),maxProperties:Ml.string().optional(),propertyOrdering:zo(Pi()).optional(),minimum:Vh().optional(),maximum:Vh().optional(),minLength:Ml.string().optional(),maxLength:Ml.string().optional(),pattern:Pi().optional(),anyOf:zo(e).optional(),additionalProperties:O0().optional()});return n?l.strict():l});return e}function tT(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(a=>a!=="null");if(l.length===1)e.type=Object.values(En).includes(l[0].toUpperCase())?l[0].toUpperCase():En.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of l)e.anyOf.push({type:Object.values(En).includes(a.toUpperCase())?a.toUpperCase():En.TYPE_UNSPECIFIED})}}function wl(n){const e={},l=["items"],a=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&tT(n.type,e);for(const[h,p]of Object.entries(n))if(p!=null)if(h=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(En).includes(p.toUpperCase())?p.toUpperCase():En.TYPE_UNSPECIFIED}else if(l.includes(h))e[h]=wl(p);else if(a.includes(h)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(wl(g))}e[h]=y}else if(r.includes(h)){const y={};for(const[g,v]of Object.entries(p))y[g]=wl(v);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=p}return e}function Es(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=eT().parse(n);return wl(e)}else return wl(n)}function cg(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function vc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Zo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=Es(e.parameters)),e.response&&(e.response=Es(e.response));return n}function $o(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function nT(n,e,l,a=1){const r=!e.startsWith(`${l}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:r?`${l}/${e}`:e}function Ti(n,e){if(typeof e!="string")throw new Error("name must be a string");return nT(n,e,"cachedContents")}function fg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Yn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function iT(n){return n!=null&&typeof n=="object"&&"name"in n}function lT(n){return n!=null&&typeof n=="object"&&"video"in n}function oT(n){return n!=null&&typeof n=="object"&&"uri"in n}function dg(n){var e;let l;if(iT(n)&&(l=n.name),!(oT(n)&&(l=n.uri,l===void 0))&&!(lT(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function mg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function hg(n){for(const e of["models","tunedModels","publisherModels"])if(aT(n,e))return n[e];return[]}function aT(n,e){return n!==null&&typeof n=="object"&&e in n}function sT(n,e={}){const l=n,a={name:l.name,description:l.description,parameters:wl(Ss(l.inputSchema))};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function rT(n,e={}){const l=[],a=new Set;for(const r of n){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const h=sT(r,e);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function uT(n){const e=[];for(const l of n)e.push(Ss(l));return e}function cT(n){const e={};for(const[l,a]of Object.entries(n)){const r=a;e[l]=Ss(r)}return e}function Ss(n){const e=new Set(["items"]),l=new Set(["anyOf"]),a=new Set(["properties"]),r={};for(const[f,h]of Object.entries(n))if(e.has(f))r[f]=Ss(h);else if(l.has(f))r[f]=uT(h);else if(a.has(f))r[f]=cT(h);else if(f==="type"){const p=h.toUpperCase();r[f]=Object.values(En).includes(p)?p:En.TYPE_UNSPECIFIED}else W0.has(f)&&(r[f]=h);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function dT(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function mT(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function hT(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],fT(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],dT(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],mT(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function Op(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>hT(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function pT(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const a=u(n,["description"]);a!=null&&c(e,["description"],a);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const h=u(n,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const p=u(n,["response"]);p!=null&&c(e,["response"],p);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function gT(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function yT(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],gT(l)),e}function vT(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function TT(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],vT(l)),e}function CT(){return{}}function _T(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>pT(y))),c(e,["functionDeclarations"],p)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearch"]);a!=null&&c(e,["googleSearch"],yT(a));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],TT(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],CT());const h=u(n,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function xT(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function ET(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const a=u(n,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function ST(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],ET(l));const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function AT(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],xT(l));const a=u(n,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],ST(a)),e}function RT(n,e){const l={},a=u(n,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const f=u(n,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const h=u(n,["contents"]);if(e!==void 0&&h!=null){let v=gn(h);Array.isArray(v)&&(v=v.map(_=>Op(_))),c(e,["contents"],v)}const p=u(n,["systemInstruction"]);e!==void 0&&p!=null&&c(e,["systemInstruction"],Op(Gt(p)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>_T(_))),c(e,["tools"],v)}const g=u(n,["toolConfig"]);if(e!==void 0&&g!=null&&c(e,["toolConfig"],AT(g)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function MT(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["model"],ag(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],RT(r,l)),l}function bT(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function NT(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function wT(n,e){const l={},a=u(n,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),l}function DT(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],wT(r,l)),l}function OT(n,e){const l={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function IT(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],OT(l,e)),e}function UT(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function LT(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["data"]);a!=null&&c(e,["data"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function kT(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["fileUri"]);a!=null&&c(e,["fileUri"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function VT(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],UT(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],LT(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],kT(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function Ip(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>VT(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function PT(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const a=u(n,["name"]);a!=null&&c(e,["name"],a);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const p=u(n,["responseJsonSchema"]);return p!=null&&c(e,["responseJsonSchema"],p),e}function BT(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function GT(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],BT(l)),e}function qT(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function zT(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],qT(l)),e}function HT(){return{}}function YT(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function FT(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],YT(l));const a=u(n,["authType"]);a!=null&&c(e,["authType"],a);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=u(n,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const p=u(n,["oidcConfig"]);return p!=null&&c(e,["oidcConfig"],p),e}function JT(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],FT(l)),e}function ZT(){return{}}function $T(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>PT(_))),c(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&c(e,["retrieval"],a);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],GT(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],zT(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],HT());const p=u(n,["googleMaps"]);p!=null&&c(e,["googleMaps"],JT(p)),u(n,["urlContext"])!=null&&c(e,["urlContext"],ZT());const g=u(n,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function XT(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function KT(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const a=u(n,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function QT(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],KT(l));const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function WT(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],XT(l));const a=u(n,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],QT(a)),e}function jT(n,e){const l={},a=u(n,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const f=u(n,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const h=u(n,["contents"]);if(e!==void 0&&h!=null){let _=gn(h);Array.isArray(_)&&(_=_.map(E=>Ip(E))),c(e,["contents"],_)}const p=u(n,["systemInstruction"]);e!==void 0&&p!=null&&c(e,["systemInstruction"],Ip(Gt(p)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>$T(E))),c(e,["tools"],_)}const g=u(n,["toolConfig"]);e!==void 0&&g!=null&&c(e,["toolConfig"],WT(g));const v=u(n,["kmsKeyName"]);return e!==void 0&&v!=null&&c(e,["encryption_spec","kmsKeyName"],v),l}function eC(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["model"],ag(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],jT(r,l)),l}function tC(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function nC(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function iC(n,e){const l={},a=u(n,["ttl"]);e!==void 0&&a!=null&&c(e,["ttl"],a);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),l}function lC(n,e){const l={},a=u(e,["name"]);a!=null&&c(l,["_url","name"],Ti(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],iC(r,l)),l}function oC(n,e){const l={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function aC(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],oC(l,e)),e}function fs(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["model"]);r!=null&&c(e,["model"],r);const f=u(n,["createTime"]);f!=null&&c(e,["createTime"],f);const h=u(n,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(n,["expireTime"]);p!=null&&c(e,["expireTime"],p);const y=u(n,["usageMetadata"]);return y!=null&&c(e,["usageMetadata"],y),e}function sC(){return{}}function rC(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const a=u(n,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>fs(f))),c(e,["cachedContents"],r)}return e}function ds(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["model"]);r!=null&&c(e,["model"],r);const f=u(n,["createTime"]);f!=null&&c(e,["createTime"],f);const h=u(n,["updateTime"]);h!=null&&c(e,["updateTime"],h);const p=u(n,["expireTime"]);p!=null&&c(e,["expireTime"],p);const y=u(n,["usageMetadata"]);return y!=null&&c(e,["usageMetadata"],y),e}function uC(){return{}}function cC(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const a=u(n,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ds(f))),c(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vl;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Vl||(Vl={}));class As{constructor(e,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,a,r)}init(e,l,a){var r,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};a?typeof a=="object"?h=Object.assign({},a):h=a:h={config:{}},h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends Pl{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new As(Vl.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=eC(this.apiClient,e);return p=ve("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>ds(v))}else{const g=MT(this.apiClient,e);return p=ve("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fs(v))}}async get(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=tC(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>ds(v))}else{const g=bT(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fs(v))}}async delete(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=nC(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(()=>{const v=uC(),_=new Rp;return Object.assign(_,v),_})}else{const g=NT(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(()=>{const v=sC(),_=new Rp;return Object.assign(_,v),_})}}async update(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=lC(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>ds(v))}else{const g=DT(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fs(v))}}async listInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=aC(e);return p=ve("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=cC(v),E=new Mp;return Object.assign(E,_),E})}else{const g=IT(e);return p=ve("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=rC(v),E=new Mp;return Object.assign(E,_),E})}}}function Up(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],a=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(n){return this instanceof it?(this.v=n,this):new it(n)}function Dl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(n,e||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(b){return function(I){return Promise.resolve(I).then(b,_)}}function p(b,I){a[b]&&(r[b]=function(V){return new Promise(function(q,ee){f.push([b,V,q,ee])>1||y(b,V)})},I&&(r[b]=I(r[b])))}function y(b,I){try{g(a[b](I))}catch(V){E(f[0][3],V)}}function g(b){b.value instanceof it?Promise.resolve(b.value.v).then(v,_):E(f[0][2],b)}function v(b){y("next",b)}function _(b){y("throw",b)}function E(b,I){b(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Fo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Up=="function"?Up(n):n[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=n[f]&&function(h){return new Promise(function(p,y){h=n[f](h),r(p,y,h.done,h.value)})}}function r(f,h,p,y){Promise.resolve(y).then(function(g){f({value:g,done:p})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:pg(l)}function pg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function mC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Lp(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let a=0;for(;a<l;)if(n[a].role==="user")e.push(n[a]),a++;else{const r=[];let f=!0;for(;a<l&&n[a].role==="model";)r.push(n[a]),f&&!pg(n[a])&&(f=!1),a++;f?e.push(...r):e.pop()}return e}class hC{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new pC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class pC{constructor(e,l,a,r={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),mC(f)}async sendMessage(e){var l;await this.sendPromise;const a=Gt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,h,p;const y=await r,g=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];v!=null&&(E=(p=v.slice(_))!==null&&p!==void 0?p:[]);const b=g?[g]:[];this.recordHistory(a,b,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var l;await this.sendPromise;const a=Gt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(e=!1){const l=e?Lp(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var a,r;return Dl(this,arguments,function*(){var h,p,y,g;const v=[];try{for(var _=!0,E=Fo(e),b;b=yield it(E.next()),h=b.done,!h;_=!0){g=b.value,_=!1;const I=g;if(dC(I)){const V=(r=(a=I.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;V!==void 0&&v.push(V)}yield yield it(I)}}catch(I){p={error:I}}finally{try{!_&&!h&&(y=E.return)&&(yield it(y.call(E)))}finally{if(p)throw p.error}}this.recordHistory(l,v)})}recordHistory(e,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Lp(a)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(n,e){const l={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function yC(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],gC(l,e)),e}function vC(n){const e={},l=u(n,["details"]);l!=null&&c(e,["details"],l);const a=u(n,["message"]);a!=null&&c(e,["message"],a);const r=u(n,["code"]);return r!=null&&c(e,["code"],r),e}function TC(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["mimeType"]);r!=null&&c(e,["mimeType"],r);const f=u(n,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const h=u(n,["createTime"]);h!=null&&c(e,["createTime"],h);const p=u(n,["expirationTime"]);p!=null&&c(e,["expirationTime"],p);const y=u(n,["updateTime"]);y!=null&&c(e,["updateTime"],y);const g=u(n,["sha256Hash"]);g!=null&&c(e,["sha256Hash"],g);const v=u(n,["uri"]);v!=null&&c(e,["uri"],v);const _=u(n,["downloadUri"]);_!=null&&c(e,["downloadUri"],_);const E=u(n,["state"]);E!=null&&c(e,["state"],E);const b=u(n,["source"]);b!=null&&c(e,["source"],b);const I=u(n,["videoMetadata"]);I!=null&&c(e,["videoMetadata"],I);const V=u(n,["error"]);return V!=null&&c(e,["error"],vC(V)),e}function CC(n){const e={},l=u(n,["file"]);l!=null&&c(e,["file"],TC(l));const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function _C(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","file"],dg(l));const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function xC(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","file"],dg(l));const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function EC(n){const e={},l=u(n,["details"]);l!=null&&c(e,["details"],l);const a=u(n,["message"]);a!=null&&c(e,["message"],a);const r=u(n,["code"]);return r!=null&&c(e,["code"],r),e}function uc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["mimeType"]);r!=null&&c(e,["mimeType"],r);const f=u(n,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const h=u(n,["createTime"]);h!=null&&c(e,["createTime"],h);const p=u(n,["expirationTime"]);p!=null&&c(e,["expirationTime"],p);const y=u(n,["updateTime"]);y!=null&&c(e,["updateTime"],y);const g=u(n,["sha256Hash"]);g!=null&&c(e,["sha256Hash"],g);const v=u(n,["uri"]);v!=null&&c(e,["uri"],v);const _=u(n,["downloadUri"]);_!=null&&c(e,["downloadUri"],_);const E=u(n,["state"]);E!=null&&c(e,["state"],E);const b=u(n,["source"]);b!=null&&c(e,["source"],b);const I=u(n,["videoMetadata"]);I!=null&&c(e,["videoMetadata"],I);const V=u(n,["error"]);return V!=null&&c(e,["error"],EC(V)),e}function SC(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const a=u(n,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>uc(f))),c(e,["files"],r)}return e}function AC(){return{}}function RC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MC extends Pl{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new As(Vl.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>uc(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yC(e);return f=ve("files",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=SC(y),v=new F0;return Object.assign(v,g),v})}}async createInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=CC(e);return f=ve("upload/v1beta/files",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(()=>{const y=AC(),g=new J0;return Object.assign(g,y),g})}}async get(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_C(e);return f=ve("files/{file}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>uc(y))}}async delete(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xC(e);return f=ve("files/{file}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(()=>{const y=RC(),g=new Z0;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function NC(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function gg(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],bC(l)),e}function wC(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],NC(l)),e}function DC(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const a=u(n,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],gg(a)),e}function OC(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>DC(r))),c(e,["speakerVoiceConfigs"],a)}return e}function IC(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],gg(l));const a=u(n,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],OC(a));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function UC(n){const e={},l=u(n,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],wC(l)),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function LC(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function kC(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function VC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function PC(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["data"]);a!=null&&c(e,["data"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function BC(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function GC(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["fileUri"]);a!=null&&c(e,["fileUri"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function qC(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],LC(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],VC(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],BC(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function zC(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],kC(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],PC(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],GC(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function HC(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>qC(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function YC(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>zC(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function FC(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const a=u(n,["description"]);a!=null&&c(e,["description"],a);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const h=u(n,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const p=u(n,["response"]);p!=null&&c(e,["response"],p);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function JC(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const a=u(n,["name"]);a!=null&&c(e,["name"],a);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const p=u(n,["responseJsonSchema"]);return p!=null&&c(e,["responseJsonSchema"],p),e}function ZC(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function $C(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function XC(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],ZC(l)),e}function KC(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],$C(l)),e}function QC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function WC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function jC(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],QC(l)),e}function e_(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],WC(l)),e}function t_(){return{}}function n_(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function i_(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],n_(l));const a=u(n,["authType"]);a!=null&&c(e,["authType"],a);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=u(n,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const p=u(n,["oidcConfig"]);return p!=null&&c(e,["oidcConfig"],p),e}function l_(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],i_(l)),e}function o_(){return{}}function a_(){return{}}function s_(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>FC(y))),c(e,["functionDeclarations"],p)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearch"]);a!=null&&c(e,["googleSearch"],XC(a));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],jC(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],o_());const h=u(n,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function r_(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>JC(_))),c(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&c(e,["retrieval"],a);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],KC(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],e_(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],t_());const p=u(n,["googleMaps"]);p!=null&&c(e,["googleMaps"],l_(p)),u(n,["urlContext"])!=null&&c(e,["urlContext"],a_());const g=u(n,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function u_(n){const e={},l=u(n,["handle"]);if(l!=null&&c(e,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function c_(n){const e={},l=u(n,["handle"]);l!=null&&c(e,["handle"],l);const a=u(n,["transparent"]);return a!=null&&c(e,["transparent"],a),e}function kp(){return{}}function Vp(){return{}}function f_(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const a=u(n,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=u(n,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function d_(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const a=u(n,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=u(n,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function m_(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],f_(l));const a=u(n,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function h_(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],d_(l));const a=u(n,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function p_(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function g_(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function y_(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=u(n,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],p_(a)),e}function v_(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=u(n,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],g_(a)),e}function T_(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function C_(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function __(n,e){const l={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=u(n,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const p=u(n,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const _=u(n,["speechConfig"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","speechConfig"],IC(vc(_)));const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=u(n,["systemInstruction"]);e!==void 0&&b!=null&&c(e,["setup","systemInstruction"],HC(Gt(b)));const I=u(n,["tools"]);if(e!==void 0&&I!=null){let z=$o(I);Array.isArray(z)&&(z=z.map(de=>s_(Zo(de)))),c(e,["setup","tools"],z)}const V=u(n,["sessionResumption"]);e!==void 0&&V!=null&&c(e,["setup","sessionResumption"],u_(V));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],kp());const ee=u(n,["outputAudioTranscription"]);e!==void 0&&ee!=null&&c(e,["setup","outputAudioTranscription"],kp());const K=u(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&c(e,["setup","realtimeInputConfig"],m_(K));const X=u(n,["contextWindowCompression"]);e!==void 0&&X!=null&&c(e,["setup","contextWindowCompression"],y_(X));const te=u(n,["proactivity"]);return e!==void 0&&te!=null&&c(e,["setup","proactivity"],T_(te)),l}function x_(n,e){const l={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=u(n,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const p=u(n,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const _=u(n,["speechConfig"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","speechConfig"],UC(vc(_)));const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=u(n,["systemInstruction"]);e!==void 0&&b!=null&&c(e,["setup","systemInstruction"],YC(Gt(b)));const I=u(n,["tools"]);if(e!==void 0&&I!=null){let z=$o(I);Array.isArray(z)&&(z=z.map(de=>r_(Zo(de)))),c(e,["setup","tools"],z)}const V=u(n,["sessionResumption"]);e!==void 0&&V!=null&&c(e,["setup","sessionResumption"],c_(V));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],Vp());const ee=u(n,["outputAudioTranscription"]);e!==void 0&&ee!=null&&c(e,["setup","outputAudioTranscription"],Vp());const K=u(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&c(e,["setup","realtimeInputConfig"],h_(K));const X=u(n,["contextWindowCompression"]);e!==void 0&&X!=null&&c(e,["setup","contextWindowCompression"],v_(X));const te=u(n,["proactivity"]);return e!==void 0&&te!=null&&c(e,["setup","proactivity"],C_(te)),l}function E_(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["setup","model"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],__(r,l)),l}function S_(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["setup","model"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],x_(r,l)),l}function A_(){return{}}function R_(){return{}}function M_(){return{}}function b_(){return{}}function N_(n){const e={},l=u(n,["media"]);l!=null&&c(e,["mediaChunks"],sg(l));const a=u(n,["audio"]);a!=null&&c(e,["audio"],Q0(a));const r=u(n,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const f=u(n,["video"]);f!=null&&c(e,["video"],K0(f));const h=u(n,["text"]);return h!=null&&c(e,["text"],h),u(n,["activityStart"])!=null&&c(e,["activityStart"],A_()),u(n,["activityEnd"])!=null&&c(e,["activityEnd"],M_()),e}function w_(n){const e={},l=u(n,["media"]);if(l!=null&&c(e,["mediaChunks"],sg(l)),u(n,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=u(n,["audioStreamEnd"]);if(a!=null&&c(e,["audioStreamEnd"],a),u(n,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(n,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(n,["activityStart"])!=null&&c(e,["activityStart"],R_()),u(n,["activityEnd"])!=null&&c(e,["activityEnd"],b_()),e}function yg(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const a=u(n,["weight"]);return a!=null&&c(e,["weight"],a),e}function D_(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>yg(r))),c(e,["weightedPrompts"],a)}return e}function vg(n){const e={},l=u(n,["temperature"]);l!=null&&c(e,["temperature"],l);const a=u(n,["topK"]);a!=null&&c(e,["topK"],a);const r=u(n,["seed"]);r!=null&&c(e,["seed"],r);const f=u(n,["guidance"]);f!=null&&c(e,["guidance"],f);const h=u(n,["bpm"]);h!=null&&c(e,["bpm"],h);const p=u(n,["density"]);p!=null&&c(e,["density"],p);const y=u(n,["brightness"]);y!=null&&c(e,["brightness"],y);const g=u(n,["scale"]);g!=null&&c(e,["scale"],g);const v=u(n,["muteBass"]);v!=null&&c(e,["muteBass"],v);const _=u(n,["muteDrums"]);_!=null&&c(e,["muteDrums"],_);const E=u(n,["onlyBassAndDrums"]);return E!=null&&c(e,["onlyBassAndDrums"],E),e}function O_(n){const e={},l=u(n,["musicGenerationConfig"]);return l!=null&&c(e,["musicGenerationConfig"],vg(l)),e}function Tg(n){const e={},l=u(n,["model"]);return l!=null&&c(e,["model"],l),e}function Cg(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>yg(r))),c(e,["weightedPrompts"],a)}return e}function cc(n){const e={},l=u(n,["setup"]);l!=null&&c(e,["setup"],Tg(l));const a=u(n,["clientContent"]);a!=null&&c(e,["clientContent"],Cg(a));const r=u(n,["musicGenerationConfig"]);r!=null&&c(e,["musicGenerationConfig"],vg(r));const f=u(n,["playbackControl"]);return f!=null&&c(e,["playbackControl"],f),e}function I_(){return{}}function U_(){return{}}function L_(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function k_(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function V_(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function P_(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["data"]);a!=null&&c(e,["data"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function B_(n){const e={},l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function G_(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["fileUri"]);a!=null&&c(e,["fileUri"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function q_(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],L_(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],V_(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],B_(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function z_(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],k_(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],P_(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],G_(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function H_(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>q_(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function Y_(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>z_(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function Pp(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const a=u(n,["finished"]);return a!=null&&c(e,["finished"],a),e}function Bp(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const a=u(n,["finished"]);return a!=null&&c(e,["finished"],a),e}function F_(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=u(n,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function J_(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>F_(r))),c(e,["urlMetadata"],a)}return e}function Z_(n){const e={},l=u(n,["modelTurn"]);l!=null&&c(e,["modelTurn"],H_(l));const a=u(n,["turnComplete"]);a!=null&&c(e,["turnComplete"],a);const r=u(n,["interrupted"]);r!=null&&c(e,["interrupted"],r);const f=u(n,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const h=u(n,["generationComplete"]);h!=null&&c(e,["generationComplete"],h);const p=u(n,["inputTranscription"]);p!=null&&c(e,["inputTranscription"],Pp(p));const y=u(n,["outputTranscription"]);y!=null&&c(e,["outputTranscription"],Pp(y));const g=u(n,["urlContextMetadata"]);return g!=null&&c(e,["urlContextMetadata"],J_(g)),e}function $_(n){const e={},l=u(n,["modelTurn"]);l!=null&&c(e,["modelTurn"],Y_(l));const a=u(n,["turnComplete"]);a!=null&&c(e,["turnComplete"],a);const r=u(n,["interrupted"]);r!=null&&c(e,["interrupted"],r);const f=u(n,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const h=u(n,["generationComplete"]);h!=null&&c(e,["generationComplete"],h);const p=u(n,["inputTranscription"]);p!=null&&c(e,["inputTranscription"],Bp(p));const y=u(n,["outputTranscription"]);return y!=null&&c(e,["outputTranscription"],Bp(y)),e}function X_(n){const e={},l=u(n,["id"]);l!=null&&c(e,["id"],l);const a=u(n,["args"]);a!=null&&c(e,["args"],a);const r=u(n,["name"]);return r!=null&&c(e,["name"],r),e}function K_(n){const e={},l=u(n,["args"]);l!=null&&c(e,["args"],l);const a=u(n,["name"]);return a!=null&&c(e,["name"],a),e}function Q_(n){const e={},l=u(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>X_(r))),c(e,["functionCalls"],a)}return e}function W_(n){const e={},l=u(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>K_(r))),c(e,["functionCalls"],a)}return e}function j_(n){const e={},l=u(n,["ids"]);return l!=null&&c(e,["ids"],l),e}function ex(n){const e={},l=u(n,["ids"]);return l!=null&&c(e,["ids"],l),e}function rs(n){const e={},l=u(n,["modality"]);l!=null&&c(e,["modality"],l);const a=u(n,["tokenCount"]);return a!=null&&c(e,["tokenCount"],a),e}function us(n){const e={},l=u(n,["modality"]);l!=null&&c(e,["modality"],l);const a=u(n,["tokenCount"]);return a!=null&&c(e,["tokenCount"],a),e}function tx(n){const e={},l=u(n,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const a=u(n,["cachedContentTokenCount"]);a!=null&&c(e,["cachedContentTokenCount"],a);const r=u(n,["responseTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const f=u(n,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const h=u(n,["thoughtsTokenCount"]);h!=null&&c(e,["thoughtsTokenCount"],h);const p=u(n,["totalTokenCount"]);p!=null&&c(e,["totalTokenCount"],p);const y=u(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(b=>rs(b))),c(e,["promptTokensDetails"],E)}const g=u(n,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(b=>rs(b))),c(e,["cacheTokensDetails"],E)}const v=u(n,["responseTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(b=>rs(b))),c(e,["responseTokensDetails"],E)}const _=u(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(b=>rs(b))),c(e,["toolUsePromptTokensDetails"],E)}return e}function nx(n){const e={},l=u(n,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const a=u(n,["cachedContentTokenCount"]);a!=null&&c(e,["cachedContentTokenCount"],a);const r=u(n,["candidatesTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const f=u(n,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const h=u(n,["thoughtsTokenCount"]);h!=null&&c(e,["thoughtsTokenCount"],h);const p=u(n,["totalTokenCount"]);p!=null&&c(e,["totalTokenCount"],p);const y=u(n,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(I=>us(I))),c(e,["promptTokensDetails"],b)}const g=u(n,["cacheTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(I=>us(I))),c(e,["cacheTokensDetails"],b)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(I=>us(I))),c(e,["responseTokensDetails"],b)}const _=u(n,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(I=>us(I))),c(e,["toolUsePromptTokensDetails"],b)}const E=u(n,["trafficType"]);return E!=null&&c(e,["trafficType"],E),e}function ix(n){const e={},l=u(n,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function lx(n){const e={},l=u(n,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function ox(n){const e={},l=u(n,["newHandle"]);l!=null&&c(e,["newHandle"],l);const a=u(n,["resumable"]);a!=null&&c(e,["resumable"],a);const r=u(n,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function ax(n){const e={},l=u(n,["newHandle"]);l!=null&&c(e,["newHandle"],l);const a=u(n,["resumable"]);a!=null&&c(e,["resumable"],a);const r=u(n,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function sx(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],I_());const a=u(n,["serverContent"]);a!=null&&c(e,["serverContent"],Z_(a));const r=u(n,["toolCall"]);r!=null&&c(e,["toolCall"],Q_(r));const f=u(n,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],j_(f));const h=u(n,["usageMetadata"]);h!=null&&c(e,["usageMetadata"],tx(h));const p=u(n,["goAway"]);p!=null&&c(e,["goAway"],ix(p));const y=u(n,["sessionResumptionUpdate"]);return y!=null&&c(e,["sessionResumptionUpdate"],ox(y)),e}function rx(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],U_());const a=u(n,["serverContent"]);a!=null&&c(e,["serverContent"],$_(a));const r=u(n,["toolCall"]);r!=null&&c(e,["toolCall"],W_(r));const f=u(n,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],ex(f));const h=u(n,["usageMetadata"]);h!=null&&c(e,["usageMetadata"],nx(h));const p=u(n,["goAway"]);p!=null&&c(e,["goAway"],lx(p));const y=u(n,["sessionResumptionUpdate"]);return y!=null&&c(e,["sessionResumptionUpdate"],ax(y)),e}function ux(){return{}}function cx(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const a=u(n,["weight"]);return a!=null&&c(e,["weight"],a),e}function fx(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>cx(r))),c(e,["weightedPrompts"],a)}return e}function dx(n){const e={},l=u(n,["temperature"]);l!=null&&c(e,["temperature"],l);const a=u(n,["topK"]);a!=null&&c(e,["topK"],a);const r=u(n,["seed"]);r!=null&&c(e,["seed"],r);const f=u(n,["guidance"]);f!=null&&c(e,["guidance"],f);const h=u(n,["bpm"]);h!=null&&c(e,["bpm"],h);const p=u(n,["density"]);p!=null&&c(e,["density"],p);const y=u(n,["brightness"]);y!=null&&c(e,["brightness"],y);const g=u(n,["scale"]);g!=null&&c(e,["scale"],g);const v=u(n,["muteBass"]);v!=null&&c(e,["muteBass"],v);const _=u(n,["muteDrums"]);_!=null&&c(e,["muteDrums"],_);const E=u(n,["onlyBassAndDrums"]);return E!=null&&c(e,["onlyBassAndDrums"],E),e}function mx(n){const e={},l=u(n,["clientContent"]);l!=null&&c(e,["clientContent"],fx(l));const a=u(n,["musicGenerationConfig"]);return a!=null&&c(e,["musicGenerationConfig"],dx(a)),e}function hx(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);a!=null&&c(e,["mimeType"],a);const r=u(n,["sourceMetadata"]);return r!=null&&c(e,["sourceMetadata"],mx(r)),e}function px(n){const e={},l=u(n,["audioChunks"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>hx(r))),c(e,["audioChunks"],a)}return e}function gx(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const a=u(n,["filteredReason"]);return a!=null&&c(e,["filteredReason"],a),e}function yx(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],ux());const a=u(n,["serverContent"]);a!=null&&c(e,["serverContent"],px(a));const r=u(n,["filteredPrompt"]);return r!=null&&c(e,["filteredPrompt"],gx(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vx(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function Tx(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Cx(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function _x(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],vx(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],Tx(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],Cx(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function Ms(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>_x(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function xx(n){const e={},l=u(n,["anyOf"]);l!=null&&c(e,["anyOf"],l);const a=u(n,["default"]);a!=null&&c(e,["default"],a);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["enum"]);f!=null&&c(e,["enum"],f);const h=u(n,["example"]);h!=null&&c(e,["example"],h);const p=u(n,["format"]);p!=null&&c(e,["format"],p);const y=u(n,["items"]);y!=null&&c(e,["items"],y);const g=u(n,["maxItems"]);g!=null&&c(e,["maxItems"],g);const v=u(n,["maxLength"]);v!=null&&c(e,["maxLength"],v);const _=u(n,["maxProperties"]);_!=null&&c(e,["maxProperties"],_);const E=u(n,["maximum"]);E!=null&&c(e,["maximum"],E);const b=u(n,["minItems"]);b!=null&&c(e,["minItems"],b);const I=u(n,["minLength"]);I!=null&&c(e,["minLength"],I);const V=u(n,["minProperties"]);V!=null&&c(e,["minProperties"],V);const q=u(n,["minimum"]);q!=null&&c(e,["minimum"],q);const ee=u(n,["nullable"]);ee!=null&&c(e,["nullable"],ee);const K=u(n,["pattern"]);K!=null&&c(e,["pattern"],K);const X=u(n,["properties"]);X!=null&&c(e,["properties"],X);const te=u(n,["propertyOrdering"]);te!=null&&c(e,["propertyOrdering"],te);const z=u(n,["required"]);z!=null&&c(e,["required"],z);const de=u(n,["title"]);de!=null&&c(e,["title"],de);const pe=u(n,["type"]);return pe!=null&&c(e,["type"],pe),e}function Ex(n){const e={};if(u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["category"]);l!=null&&c(e,["category"],l);const a=u(n,["threshold"]);return a!=null&&c(e,["threshold"],a),e}function Sx(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const a=u(n,["description"]);a!=null&&c(e,["description"],a);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const h=u(n,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const p=u(n,["response"]);p!=null&&c(e,["response"],p);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function Ax(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function Rx(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],Ax(l)),e}function Mx(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function bx(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],Mx(l)),e}function Nx(){return{}}function wx(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>Sx(y))),c(e,["functionDeclarations"],p)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearch"]);a!=null&&c(e,["googleSearch"],Rx(a));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],bx(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],Nx());const h=u(n,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function Dx(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function Ox(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const a=u(n,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function Ix(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],Ox(l));const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function Ux(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],Dx(l));const a=u(n,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],Ix(a)),e}function Lx(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function _g(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],Lx(l)),e}function kx(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const a=u(n,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],_g(a)),e}function Vx(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>kx(r))),c(e,["speakerVoiceConfigs"],a)}return e}function Px(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],_g(l));const a=u(n,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],Vx(a));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function Bx(n){const e={},l=u(n,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const a=u(n,["thinkingBudget"]);return a!=null&&c(e,["thinkingBudget"],a),e}function Gx(n,e,l){const a={},r=u(e,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ms(Gt(r)));const f=u(e,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(e,["topP"]);h!=null&&c(a,["topP"],h);const p=u(e,["topK"]);p!=null&&c(a,["topK"],p);const y=u(e,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(e,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const E=u(e,["logprobs"]);E!=null&&c(a,["logprobs"],E);const b=u(e,["presencePenalty"]);b!=null&&c(a,["presencePenalty"],b);const I=u(e,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const V=u(e,["seed"]);V!=null&&c(a,["seed"],V);const q=u(e,["responseMimeType"]);q!=null&&c(a,["responseMimeType"],q);const ee=u(e,["responseSchema"]);if(ee!=null&&c(a,["responseSchema"],xx(Es(ee))),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=u(e,["safetySettings"]);if(l!==void 0&&K!=null){let Z=K;Array.isArray(Z)&&(Z=Z.map(Ce=>Ex(Ce))),c(l,["safetySettings"],Z)}const X=u(e,["tools"]);if(l!==void 0&&X!=null){let Z=$o(X);Array.isArray(Z)&&(Z=Z.map(Ce=>wx(Zo(Ce)))),c(l,["tools"],Z)}const te=u(e,["toolConfig"]);if(l!==void 0&&te!=null&&c(l,["toolConfig"],Ux(te)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=u(e,["cachedContent"]);l!==void 0&&z!=null&&c(l,["cachedContent"],Ti(n,z));const de=u(e,["responseModalities"]);de!=null&&c(a,["responseModalities"],de);const pe=u(e,["mediaResolution"]);pe!=null&&c(a,["mediaResolution"],pe);const oe=u(e,["speechConfig"]);if(oe!=null&&c(a,["speechConfig"],Px(cg(oe))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(e,["thinkingConfig"]);return ae!=null&&c(a,["thinkingConfig"],Bx(ae)),a}function Gp(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(p=>Ms(p))),c(l,["contents"],h)}const f=u(e,["config"]);return f!=null&&c(l,["generationConfig"],Gx(n,f,l)),l}function qx(n,e){const l={},a=u(n,["taskType"]);e!==void 0&&a!=null&&c(e,["requests[]","taskType"],a);const r=u(n,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);const f=u(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&c(e,["requests[]","outputDimensionality"],f),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function zx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);r!=null&&c(l,["requests[]","content"],ug(n,r));const f=u(e,["config"]);f!=null&&c(l,["config"],qx(f,l));const h=u(e,["model"]);return h!==void 0&&c(l,["requests[]","model"],tt(n,h)),l}function Hx(n,e){const l={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(n,["numberOfImages"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const r=u(n,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);const f=u(n,["guidanceScale"]);if(e!==void 0&&f!=null&&c(e,["parameters","guidanceScale"],f),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&c(e,["parameters","safetySetting"],h);const p=u(n,["personGeneration"]);e!==void 0&&p!=null&&c(e,["parameters","personGeneration"],p);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&c(e,["parameters","includeSafetyAttributes"],y);const g=u(n,["includeRaiReason"]);e!==void 0&&g!=null&&c(e,["parameters","includeRaiReason"],g);const v=u(n,["language"]);e!==void 0&&v!=null&&c(e,["parameters","language"],v);const _=u(n,["outputMimeType"]);e!==void 0&&_!=null&&c(e,["parameters","outputOptions","mimeType"],_);const E=u(n,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&c(e,["parameters","outputOptions","compressionQuality"],E),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function Yx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(l,["config"],Hx(f,l)),l}function Fx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","name"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function Jx(n,e,l){const a={},r=u(e,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(e,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const p=u(e,["queryBase"]);return l!==void 0&&p!=null&&c(l,["_url","models_url"],mg(n,p)),a}function Zx(n,e){const l={},a=u(e,["config"]);return a!=null&&c(l,["config"],Jx(n,a,l)),l}function $x(n,e){const l={},a=u(n,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const r=u(n,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const f=u(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function Xx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","name"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],$x(r,l)),l}function Kx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","name"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function Qx(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Wx(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(p=>Ms(p))),c(l,["contents"],h)}const f=u(e,["config"]);return f!=null&&c(l,["config"],Qx(f)),l}function jx(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(n,["imageBytes"]);l!=null&&c(e,["bytesBase64Encoded"],Yn(l));const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function eE(n,e){const l={},a=u(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(n,["durationSeconds"]);if(e!==void 0&&r!=null&&c(e,["parameters","durationSeconds"],r),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["aspectRatio"]);if(e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f),u(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=u(n,["personGeneration"]);if(e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=u(n,["negativePrompt"]);e!==void 0&&p!=null&&c(e,["parameters","negativePrompt"],p);const y=u(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&c(e,["parameters","enhancePrompt"],y),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return l}function tE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["image"]);if(f!=null&&c(l,["instances[0]","image"],jx(f)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=u(e,["config"]);return h!=null&&c(l,["config"],eE(h,l)),l}function nE(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function iE(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["data"]);a!=null&&c(e,["data"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function lE(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["fileUri"]);a!=null&&c(e,["fileUri"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function oE(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],nE(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],iE(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],lE(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function Bl(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>oE(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function aE(n){const e={},l=u(n,["anyOf"]);l!=null&&c(e,["anyOf"],l);const a=u(n,["default"]);a!=null&&c(e,["default"],a);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["enum"]);f!=null&&c(e,["enum"],f);const h=u(n,["example"]);h!=null&&c(e,["example"],h);const p=u(n,["format"]);p!=null&&c(e,["format"],p);const y=u(n,["items"]);y!=null&&c(e,["items"],y);const g=u(n,["maxItems"]);g!=null&&c(e,["maxItems"],g);const v=u(n,["maxLength"]);v!=null&&c(e,["maxLength"],v);const _=u(n,["maxProperties"]);_!=null&&c(e,["maxProperties"],_);const E=u(n,["maximum"]);E!=null&&c(e,["maximum"],E);const b=u(n,["minItems"]);b!=null&&c(e,["minItems"],b);const I=u(n,["minLength"]);I!=null&&c(e,["minLength"],I);const V=u(n,["minProperties"]);V!=null&&c(e,["minProperties"],V);const q=u(n,["minimum"]);q!=null&&c(e,["minimum"],q);const ee=u(n,["nullable"]);ee!=null&&c(e,["nullable"],ee);const K=u(n,["pattern"]);K!=null&&c(e,["pattern"],K);const X=u(n,["properties"]);X!=null&&c(e,["properties"],X);const te=u(n,["propertyOrdering"]);te!=null&&c(e,["propertyOrdering"],te);const z=u(n,["required"]);z!=null&&c(e,["required"],z);const de=u(n,["title"]);de!=null&&c(e,["title"],de);const pe=u(n,["type"]);return pe!=null&&c(e,["type"],pe),e}function sE(n){const e={},l=u(n,["featureSelectionPreference"]);return l!=null&&c(e,["featureSelectionPreference"],l),e}function rE(n){const e={},l=u(n,["method"]);l!=null&&c(e,["method"],l);const a=u(n,["category"]);a!=null&&c(e,["category"],a);const r=u(n,["threshold"]);return r!=null&&c(e,["threshold"],r),e}function uE(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const a=u(n,["name"]);a!=null&&c(e,["name"],a);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const p=u(n,["responseJsonSchema"]);return p!=null&&c(e,["responseJsonSchema"],p),e}function cE(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function fE(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],cE(l)),e}function dE(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function mE(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],dE(l)),e}function hE(){return{}}function pE(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function gE(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],pE(l));const a=u(n,["authType"]);a!=null&&c(e,["authType"],a);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const h=u(n,["oauthConfig"]);h!=null&&c(e,["oauthConfig"],h);const p=u(n,["oidcConfig"]);return p!=null&&c(e,["oidcConfig"],p),e}function yE(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],gE(l)),e}function vE(){return{}}function xg(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>uE(_))),c(e,["functionDeclarations"],v)}const a=u(n,["retrieval"]);a!=null&&c(e,["retrieval"],a);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],fE(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],mE(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],hE());const p=u(n,["googleMaps"]);p!=null&&c(e,["googleMaps"],yE(p)),u(n,["urlContext"])!=null&&c(e,["urlContext"],vE());const g=u(n,["codeExecution"]);return g!=null&&c(e,["codeExecution"],g),e}function TE(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["allowedFunctionNames"]);return a!=null&&c(e,["allowedFunctionNames"],a),e}function CE(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const a=u(n,["longitude"]);return a!=null&&c(e,["longitude"],a),e}function _E(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],CE(l));const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function xE(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],TE(l));const a=u(n,["retrievalConfig"]);return a!=null&&c(e,["retrievalConfig"],_E(a)),e}function EE(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function SE(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],EE(l)),e}function AE(n){const e={},l=u(n,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],SE(l)),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=u(n,["languageCode"]);return a!=null&&c(e,["languageCode"],a),e}function RE(n){const e={},l=u(n,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const a=u(n,["thinkingBudget"]);return a!=null&&c(e,["thinkingBudget"],a),e}function ME(n,e,l){const a={},r=u(e,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Bl(Gt(r)));const f=u(e,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(e,["topP"]);h!=null&&c(a,["topP"],h);const p=u(e,["topK"]);p!=null&&c(a,["topK"],p);const y=u(e,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(e,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(e,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(e,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const E=u(e,["logprobs"]);E!=null&&c(a,["logprobs"],E);const b=u(e,["presencePenalty"]);b!=null&&c(a,["presencePenalty"],b);const I=u(e,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const V=u(e,["seed"]);V!=null&&c(a,["seed"],V);const q=u(e,["responseMimeType"]);q!=null&&c(a,["responseMimeType"],q);const ee=u(e,["responseSchema"]);ee!=null&&c(a,["responseSchema"],aE(Es(ee)));const K=u(e,["routingConfig"]);K!=null&&c(a,["routingConfig"],K);const X=u(e,["modelSelectionConfig"]);X!=null&&c(a,["modelConfig"],sE(X));const te=u(e,["safetySettings"]);if(l!==void 0&&te!=null){let Ee=te;Array.isArray(Ee)&&(Ee=Ee.map(Re=>rE(Re))),c(l,["safetySettings"],Ee)}const z=u(e,["tools"]);if(l!==void 0&&z!=null){let Ee=$o(z);Array.isArray(Ee)&&(Ee=Ee.map(Re=>xg(Zo(Re)))),c(l,["tools"],Ee)}const de=u(e,["toolConfig"]);l!==void 0&&de!=null&&c(l,["toolConfig"],xE(de));const pe=u(e,["labels"]);l!==void 0&&pe!=null&&c(l,["labels"],pe);const oe=u(e,["cachedContent"]);l!==void 0&&oe!=null&&c(l,["cachedContent"],Ti(n,oe));const ae=u(e,["responseModalities"]);ae!=null&&c(a,["responseModalities"],ae);const Z=u(e,["mediaResolution"]);Z!=null&&c(a,["mediaResolution"],Z);const Ce=u(e,["speechConfig"]);Ce!=null&&c(a,["speechConfig"],AE(cg(Ce)));const Be=u(e,["audioTimestamp"]);Be!=null&&c(a,["audioTimestamp"],Be);const Ve=u(e,["thinkingConfig"]);return Ve!=null&&c(a,["thinkingConfig"],RE(Ve)),a}function qp(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(p=>Bl(p))),c(l,["contents"],h)}const f=u(e,["config"]);return f!=null&&c(l,["generationConfig"],ME(n,f,l)),l}function bE(n,e){const l={},a=u(n,["taskType"]);e!==void 0&&a!=null&&c(e,["instances[]","task_type"],a);const r=u(n,["title"]);e!==void 0&&r!=null&&c(e,["instances[]","title"],r);const f=u(n,["outputDimensionality"]);e!==void 0&&f!=null&&c(e,["parameters","outputDimensionality"],f);const h=u(n,["mimeType"]);e!==void 0&&h!=null&&c(e,["instances[]","mimeType"],h);const p=u(n,["autoTruncate"]);return e!==void 0&&p!=null&&c(e,["parameters","autoTruncate"],p),l}function NE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);r!=null&&c(l,["instances[]","content"],ug(n,r));const f=u(e,["config"]);return f!=null&&c(l,["config"],bE(f,l)),l}function wE(n,e){const l={},a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const f=u(n,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const h=u(n,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const p=u(n,["guidanceScale"]);e!==void 0&&p!=null&&c(e,["parameters","guidanceScale"],p);const y=u(n,["seed"]);e!==void 0&&y!=null&&c(e,["parameters","seed"],y);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&c(e,["parameters","safetySetting"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const _=u(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&c(e,["parameters","includeSafetyAttributes"],_);const E=u(n,["includeRaiReason"]);e!==void 0&&E!=null&&c(e,["parameters","includeRaiReason"],E);const b=u(n,["language"]);e!==void 0&&b!=null&&c(e,["parameters","language"],b);const I=u(n,["outputMimeType"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","mimeType"],I);const V=u(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&c(e,["parameters","outputOptions","compressionQuality"],V);const q=u(n,["addWatermark"]);e!==void 0&&q!=null&&c(e,["parameters","addWatermark"],q);const ee=u(n,["enhancePrompt"]);return e!==void 0&&ee!=null&&c(e,["parameters","enhancePrompt"],ee),l}function DE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(l,["config"],wE(f,l)),l}function bs(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const a=u(n,["imageBytes"]);a!=null&&c(e,["bytesBase64Encoded"],Yn(a));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function OE(n){const e={},l=u(n,["maskMode"]);l!=null&&c(e,["maskMode"],l);const a=u(n,["segmentationClasses"]);a!=null&&c(e,["maskClasses"],a);const r=u(n,["maskDilation"]);return r!=null&&c(e,["dilation"],r),e}function IE(n){const e={},l=u(n,["controlType"]);l!=null&&c(e,["controlType"],l);const a=u(n,["enableControlImageComputation"]);return a!=null&&c(e,["computeControl"],a),e}function UE(n){const e={},l=u(n,["styleDescription"]);return l!=null&&c(e,["styleDescription"],l),e}function LE(n){const e={},l=u(n,["subjectType"]);l!=null&&c(e,["subjectType"],l);const a=u(n,["subjectDescription"]);return a!=null&&c(e,["subjectDescription"],a),e}function kE(n){const e={},l=u(n,["referenceImage"]);l!=null&&c(e,["referenceImage"],bs(l));const a=u(n,["referenceId"]);a!=null&&c(e,["referenceId"],a);const r=u(n,["referenceType"]);r!=null&&c(e,["referenceType"],r);const f=u(n,["maskImageConfig"]);f!=null&&c(e,["maskImageConfig"],OE(f));const h=u(n,["controlImageConfig"]);h!=null&&c(e,["controlImageConfig"],IE(h));const p=u(n,["styleImageConfig"]);p!=null&&c(e,["styleImageConfig"],UE(p));const y=u(n,["subjectImageConfig"]);return y!=null&&c(e,["subjectImageConfig"],LE(y)),e}function VE(n,e){const l={},a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&c(e,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const f=u(n,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const h=u(n,["aspectRatio"]);e!==void 0&&h!=null&&c(e,["parameters","aspectRatio"],h);const p=u(n,["guidanceScale"]);e!==void 0&&p!=null&&c(e,["parameters","guidanceScale"],p);const y=u(n,["seed"]);e!==void 0&&y!=null&&c(e,["parameters","seed"],y);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&c(e,["parameters","safetySetting"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const _=u(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&c(e,["parameters","includeSafetyAttributes"],_);const E=u(n,["includeRaiReason"]);e!==void 0&&E!=null&&c(e,["parameters","includeRaiReason"],E);const b=u(n,["language"]);e!==void 0&&b!=null&&c(e,["parameters","language"],b);const I=u(n,["outputMimeType"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","mimeType"],I);const V=u(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&c(e,["parameters","outputOptions","compressionQuality"],V);const q=u(n,["editMode"]);e!==void 0&&q!=null&&c(e,["parameters","editMode"],q);const ee=u(n,["baseSteps"]);return e!==void 0&&ee!=null&&c(e,["parameters","editConfig","baseSteps"],ee),l}function PE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["referenceImages"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>kE(y))),c(l,["instances[0]","referenceImages"],p)}const h=u(e,["config"]);return h!=null&&c(l,["config"],VE(h,l)),l}function BE(n,e){const l={},a=u(n,["includeRaiReason"]);e!==void 0&&a!=null&&c(e,["parameters","includeRaiReason"],a);const r=u(n,["outputMimeType"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","mimeType"],r);const f=u(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&c(e,["parameters","outputOptions","compressionQuality"],f);const h=u(n,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);const p=u(n,["mode"]);return e!==void 0&&p!=null&&c(e,["parameters","mode"],p),l}function GE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["image"]);r!=null&&c(l,["instances[0]","image"],bs(r));const f=u(e,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const h=u(e,["config"]);return h!=null&&c(l,["config"],BE(h,l)),l}function qE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","name"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function zE(n,e,l){const a={},r=u(e,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(e,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const p=u(e,["queryBase"]);return l!==void 0&&p!=null&&c(l,["_url","models_url"],mg(n,p)),a}function HE(n,e){const l={},a=u(e,["config"]);return a!=null&&c(l,["config"],zE(n,a,l)),l}function YE(n,e){const l={},a=u(n,["displayName"]);e!==void 0&&a!=null&&c(e,["displayName"],a);const r=u(n,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const f=u(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function FE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],YE(r,l)),l}function JE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","name"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function ZE(n,e){const l={},a=u(n,["systemInstruction"]);e!==void 0&&a!=null&&c(e,["systemInstruction"],Bl(Gt(a)));const r=u(n,["tools"]);if(e!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>xg(p))),c(e,["tools"],h)}const f=u(n,["generationConfig"]);return e!==void 0&&f!=null&&c(e,["generationConfig"],f),l}function $E(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(p=>Bl(p))),c(l,["contents"],h)}const f=u(e,["config"]);return f!=null&&c(l,["config"],ZE(f,l)),l}function XE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(p=>Bl(p))),c(l,["contents"],h)}const f=u(e,["config"]);return f!=null&&c(l,["config"],f),l}function KE(n){const e={},l=u(n,["uri"]);l!=null&&c(e,["gcsUri"],l);const a=u(n,["videoBytes"]);a!=null&&c(e,["bytesBase64Encoded"],Yn(a));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function QE(n,e){const l={},a=u(n,["numberOfVideos"]);e!==void 0&&a!=null&&c(e,["parameters","sampleCount"],a);const r=u(n,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const f=u(n,["fps"]);e!==void 0&&f!=null&&c(e,["parameters","fps"],f);const h=u(n,["durationSeconds"]);e!==void 0&&h!=null&&c(e,["parameters","durationSeconds"],h);const p=u(n,["seed"]);e!==void 0&&p!=null&&c(e,["parameters","seed"],p);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&c(e,["parameters","aspectRatio"],y);const g=u(n,["resolution"]);e!==void 0&&g!=null&&c(e,["parameters","resolution"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const _=u(n,["pubsubTopic"]);e!==void 0&&_!=null&&c(e,["parameters","pubsubTopic"],_);const E=u(n,["negativePrompt"]);e!==void 0&&E!=null&&c(e,["parameters","negativePrompt"],E);const b=u(n,["enhancePrompt"]);e!==void 0&&b!=null&&c(e,["parameters","enhancePrompt"],b);const I=u(n,["generateAudio"]);e!==void 0&&I!=null&&c(e,["parameters","generateAudio"],I);const V=u(n,["lastFrame"]);return e!==void 0&&V!=null&&c(e,["instances[0]","lastFrame"],bs(V)),l}function WE(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["_url","model"],tt(n,a));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["image"]);f!=null&&c(l,["instances[0]","image"],bs(f));const h=u(e,["video"]);h!=null&&c(l,["instances[0]","video"],KE(h));const p=u(e,["config"]);return p!=null&&c(l,["config"],QE(p,l)),l}function jE(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function eS(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function tS(n){const e={},l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function nS(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],jE(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],eS(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],tS(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function iS(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>nS(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function lS(n){const e={},l=u(n,["citationSources"]);return l!=null&&c(e,["citations"],l),e}function oS(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=u(n,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function aS(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>oS(r))),c(e,["urlMetadata"],a)}return e}function sS(n){const e={},l=u(n,["content"]);l!=null&&c(e,["content"],iS(l));const a=u(n,["citationMetadata"]);a!=null&&c(e,["citationMetadata"],lS(a));const r=u(n,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const f=u(n,["finishReason"]);f!=null&&c(e,["finishReason"],f);const h=u(n,["urlContextMetadata"]);h!=null&&c(e,["urlContextMetadata"],aS(h));const p=u(n,["avgLogprobs"]);p!=null&&c(e,["avgLogprobs"],p);const y=u(n,["groundingMetadata"]);y!=null&&c(e,["groundingMetadata"],y);const g=u(n,["index"]);g!=null&&c(e,["index"],g);const v=u(n,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const _=u(n,["safetyRatings"]);return _!=null&&c(e,["safetyRatings"],_),e}function zp(n){const e={},l=u(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>sS(p))),c(e,["candidates"],h)}const a=u(n,["modelVersion"]);a!=null&&c(e,["modelVersion"],a);const r=u(n,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const f=u(n,["usageMetadata"]);return f!=null&&c(e,["usageMetadata"],f),e}function rS(n){const e={},l=u(n,["values"]);return l!=null&&c(e,["values"],l),e}function uS(){return{}}function cS(n){const e={},l=u(n,["embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>rS(f))),c(e,["embeddings"],r)}return u(n,["metadata"])!=null&&c(e,["metadata"],uS()),e}function fS(n){const e={},l=u(n,["bytesBase64Encoded"]);l!=null&&c(e,["imageBytes"],Yn(l));const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function Eg(n){const e={},l=u(n,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const a=u(n,["safetyAttributes","scores"]);a!=null&&c(e,["scores"],a);const r=u(n,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function dS(n){const e={},l=u(n,["_self"]);l!=null&&c(e,["image"],fS(l));const a=u(n,["raiFilteredReason"]);a!=null&&c(e,["raiFilteredReason"],a);const r=u(n,["_self"]);return r!=null&&c(e,["safetyAttributes"],Eg(r)),e}function mS(n){const e={},l=u(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>dS(f))),c(e,["generatedImages"],r)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&c(e,["positivePromptSafetyAttributes"],Eg(a)),e}function hS(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=u(n,["createTime"]);a!=null&&c(e,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function fc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["version"]);f!=null&&c(e,["version"],f);const h=u(n,["_self"]);h!=null&&c(e,["tunedModelInfo"],hS(h));const p=u(n,["inputTokenLimit"]);p!=null&&c(e,["inputTokenLimit"],p);const y=u(n,["outputTokenLimit"]);y!=null&&c(e,["outputTokenLimit"],y);const g=u(n,["supportedGenerationMethods"]);return g!=null&&c(e,["supportedActions"],g),e}function pS(n,e){const l={},a=u(e,["nextPageToken"]);a!=null&&c(l,["nextPageToken"],a);const r=u(e,["_self"]);if(r!=null){let f=hg(r);Array.isArray(f)&&(f=f.map(h=>fc(h))),c(l,["models"],f)}return l}function gS(){return{}}function yS(n){const e={},l=u(n,["totalTokens"]);l!=null&&c(e,["totalTokens"],l);const a=u(n,["cachedContentTokenCount"]);return a!=null&&c(e,["cachedContentTokenCount"],a),e}function vS(n){const e={},l=u(n,["video","uri"]);l!=null&&c(e,["uri"],l);const a=u(n,["video","encodedVideo"]);a!=null&&c(e,["videoBytes"],Yn(a));const r=u(n,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function TS(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],vS(l)),e}function CS(n){const e={},l=u(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>TS(h))),c(e,["generatedVideos"],f)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function _S(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["metadata"]);a!=null&&c(e,["metadata"],a);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const h=u(n,["response","generateVideoResponse"]);return h!=null&&c(e,["response"],CS(h)),e}function xS(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function ES(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["data"]);a!=null&&c(e,["data"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function SS(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const a=u(n,["fileUri"]);a!=null&&c(e,["fileUri"],a);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function AS(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],xS(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],ES(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],SS(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function RS(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>AS(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function MS(n){const e={},l=u(n,["citations"]);return l!=null&&c(e,["citations"],l),e}function bS(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const a=u(n,["urlRetrievalStatus"]);return a!=null&&c(e,["urlRetrievalStatus"],a),e}function NS(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>bS(r))),c(e,["urlMetadata"],a)}return e}function wS(n){const e={},l=u(n,["content"]);l!=null&&c(e,["content"],RS(l));const a=u(n,["citationMetadata"]);a!=null&&c(e,["citationMetadata"],MS(a));const r=u(n,["finishMessage"]);r!=null&&c(e,["finishMessage"],r);const f=u(n,["finishReason"]);f!=null&&c(e,["finishReason"],f);const h=u(n,["urlContextMetadata"]);h!=null&&c(e,["urlContextMetadata"],NS(h));const p=u(n,["avgLogprobs"]);p!=null&&c(e,["avgLogprobs"],p);const y=u(n,["groundingMetadata"]);y!=null&&c(e,["groundingMetadata"],y);const g=u(n,["index"]);g!=null&&c(e,["index"],g);const v=u(n,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const _=u(n,["safetyRatings"]);return _!=null&&c(e,["safetyRatings"],_),e}function Hp(n){const e={},l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>wS(g))),c(e,["candidates"],y)}const a=u(n,["createTime"]);a!=null&&c(e,["createTime"],a);const r=u(n,["responseId"]);r!=null&&c(e,["responseId"],r);const f=u(n,["modelVersion"]);f!=null&&c(e,["modelVersion"],f);const h=u(n,["promptFeedback"]);h!=null&&c(e,["promptFeedback"],h);const p=u(n,["usageMetadata"]);return p!=null&&c(e,["usageMetadata"],p),e}function DS(n){const e={},l=u(n,["truncated"]);l!=null&&c(e,["truncated"],l);const a=u(n,["token_count"]);return a!=null&&c(e,["tokenCount"],a),e}function OS(n){const e={},l=u(n,["values"]);l!=null&&c(e,["values"],l);const a=u(n,["statistics"]);return a!=null&&c(e,["statistics"],DS(a)),e}function IS(n){const e={},l=u(n,["billableCharacterCount"]);return l!=null&&c(e,["billableCharacterCount"],l),e}function US(n){const e={},l=u(n,["predictions[]","embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>OS(f))),c(e,["embeddings"],r)}const a=u(n,["metadata"]);return a!=null&&c(e,["metadata"],IS(a)),e}function LS(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&c(e,["imageBytes"],Yn(a));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Sg(n){const e={},l=u(n,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const a=u(n,["safetyAttributes","scores"]);a!=null&&c(e,["scores"],a);const r=u(n,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function Tc(n){const e={},l=u(n,["_self"]);l!=null&&c(e,["image"],LS(l));const a=u(n,["raiFilteredReason"]);a!=null&&c(e,["raiFilteredReason"],a);const r=u(n,["_self"]);r!=null&&c(e,["safetyAttributes"],Sg(r));const f=u(n,["prompt"]);return f!=null&&c(e,["enhancedPrompt"],f),e}function kS(n){const e={},l=u(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Tc(f))),c(e,["generatedImages"],r)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&c(e,["positivePromptSafetyAttributes"],Sg(a)),e}function VS(n){const e={},l=u(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Tc(r))),c(e,["generatedImages"],a)}return e}function PS(n){const e={},l=u(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Tc(r))),c(e,["generatedImages"],a)}return e}function BS(n){const e={},l=u(n,["endpoint"]);l!=null&&c(e,["name"],l);const a=u(n,["deployedModelId"]);return a!=null&&c(e,["deployedModelId"],a),e}function GS(n){const e={},l=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(e,["baseModel"],l);const a=u(n,["createTime"]);a!=null&&c(e,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function qS(n){const e={},l=u(n,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const a=u(n,["epoch"]);a!=null&&c(e,["epoch"],a);const r=u(n,["step"]);return r!=null&&c(e,["step"],r),e}function dc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["displayName"]);a!=null&&c(e,["displayName"],a);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["versionId"]);f!=null&&c(e,["version"],f);const h=u(n,["deployedModels"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(E=>BS(E))),c(e,["endpoints"],_)}const p=u(n,["labels"]);p!=null&&c(e,["labels"],p);const y=u(n,["_self"]);y!=null&&c(e,["tunedModelInfo"],GS(y));const g=u(n,["defaultCheckpointId"]);g!=null&&c(e,["defaultCheckpointId"],g);const v=u(n,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(E=>qS(E))),c(e,["checkpoints"],_)}return e}function zS(n,e){const l={},a=u(e,["nextPageToken"]);a!=null&&c(l,["nextPageToken"],a);const r=u(e,["_self"]);if(r!=null){let f=hg(r);Array.isArray(f)&&(f=f.map(h=>dc(h))),c(l,["models"],f)}return l}function HS(){return{}}function YS(n){const e={},l=u(n,["totalTokens"]);return l!=null&&c(e,["totalTokens"],l),e}function FS(n){const e={},l=u(n,["tokensInfo"]);return l!=null&&c(e,["tokensInfo"],l),e}function JS(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["uri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&c(e,["videoBytes"],Yn(a));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function ZS(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],JS(l)),e}function $S(n){const e={},l=u(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>ZS(h))),c(e,["generatedVideos"],f)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function XS(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["metadata"]);a!=null&&c(e,["metadata"],a);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const h=u(n,["response"]);return h!=null&&c(e,["response"],$S(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KS="Content-Type",QS="X-Server-Timeout",WS="User-Agent",mc="x-goog-api-client",jS="1.6.0",eA=`google-genai-sdk/${jS}`,tA="v1beta1",nA="v1beta",Yp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class iA{constructor(e){var l,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:tA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:nA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,a);if(e.queryParams)for(const[h,p]of Object.entries(e.queryParams))r.searchParams.append(h,String(p));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(r,f,e.httpMethod)}patchHttpOptions(e,l){const a=JSON.parse(JSON.stringify(e));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(r,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,a){if(l&&l.timeout||a){const r=new AbortController,f=r.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>r.abort(),l.timeout),a&&a.addEventListener("abort",()=>{r.abort()}),e.signal=f}return l&&l.extraBody!==null&&lA(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Fp(r),new sc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Fp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var l;return Dl(this,arguments,function*(){const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";for(;;){const{done:p,value:y}=yield it(r.read());if(p){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(y);try{const _=JSON.parse(g);if("error"in _){const E=JSON.parse(JSON.stringify(_.error)),b=E.status,I=E.code,V=`got status: ${b}. ${JSON.stringify(_)}`;if(I>=400&&I<600)throw new Rs({message:V,status:I})}}catch(_){if(_.name==="ApiError")throw _}h+=g;let v=h.match(Yp);for(;v;){const _=v[1];try{const E=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield it(new sc(E)),h=h.slice(v[0].length),v=h.match(Yp)}catch(E){throw new Error(`exception parsing stream chunk ${_}. ${E}`)}}}}finally{r.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},l=eA+" "+this.clientOptions.userAgentExtra;return e[WS]=l,e[mc]=l,e[KS]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[a,r]of Object.entries(e.headers))l.append(a,r);e.timeout&&e.timeout>0&&l.append(QS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,h=await f.stat(e);r.sizeBytes=String(h.size);const p=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:h.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const y=await this.fetchUploadUrl(r,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var a;let r={};l!=null&&l.httpOptions?r=l.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},h=await this.request({path:ve("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:r});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(a=h==null?void 0:h.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Fp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Rs({message:r,status:l}):new Error(r)}}function lA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,h){const p=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const g=h[y],v=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const r=a(l,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="mcp_used/unknown";function Ag(n){for(const e of n)if(Cc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Rg(n){var e;const l=(e=n[mc])!==null&&e!==void 0?e:"";n[mc]=(l+` ${oA}`).trimStart()}function aA(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>Cc(r)))!==null&&a!==void 0?a:!1}function sA(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>!Cc(r)))!==null&&a!==void 0?a:!1}function Cc(n){return n!==null&&typeof n=="object"&&n instanceof _c}function rA(n,e=100){return Dl(this,arguments,function*(){let a,r=0;for(;r<e;){const f=yield it(n.listTools({cursor:a}));for(const h of f.tools)yield yield it(h),r++;if(!f.nextCursor)break;a=f.nextCursor}})}class _c{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new _c(e,l)}async initialize(){var e,l,a,r;if(this.mcpTools.length>0)return;const f={},h=[];for(const v of this.mcpClients)try{for(var p=!0,y=(l=void 0,Fo(rA(v))),g;g=await y.next(),e=g.done,!e;p=!0){r=g.value,p=!1;const _=r;h.push(_);const E=_.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(_){l={error:_}}finally{try{!p&&!e&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),rT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uA(n,e,l){const a=new X0;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data);const f=yx(r);Object.assign(a,f),e(a)}class cA{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a}async connect(e){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=mA(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(X=>{g=X}),_=e.callbacks,E=function(){g({})},b=this.apiClient,I={onopen:E,onmessage:X=>{uA(b,_.onmessage,X)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(X){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(X){}},V=this.webSocketFactory.create(y,dA(h),I);V.connect(),await v;const q=tt(this.apiClient,e.model),ee=Tg({model:q}),K=cc({setup:ee});return V.send(JSON.stringify(K)),new fA(V,this.apiClient)}}class fA{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=D_(e),a=Cg(l);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=O_(e),a=cc(l);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const l=cc({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Nl.PLAY)}pause(){this.sendPlaybackControl(Nl.PAUSE)}stop(){this.sendPlaybackControl(Nl.STOP)}resetContext(){this.sendPlaybackControl(Nl.RESET_CONTEXT)}close(){this.conn.close()}}function dA(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function mA(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pA(n,e,l){const a=new $0;let r;if(l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),n.isVertexAI()){const f=rx(r);Object.assign(a,f)}else{const f=sx(r);Object.assign(a,f)}e(a)}class gA{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a,this.music=new cA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,a,r,f,h,p;const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ag(e.config.tools)&&Rg(_);const E=CA(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E);else{const ae=this.apiClient.getApiKey();let Z="BidiGenerateContent",Ce="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),Z="BidiGenerateContentConstrained",Ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${Z}?${Ce}=${ae}`}let b=()=>{};const I=new Promise(ae=>{b=ae}),V=e.callbacks,q=function(){var ae;(ae=V==null?void 0:V.onopen)===null||ae===void 0||ae.call(V),b({})},ee=this.apiClient,K={onopen:q,onmessage:ae=>{pA(ee,V.onmessage,ae)},onerror:(l=V==null?void 0:V.onerror)!==null&&l!==void 0?l:function(ae){},onclose:(a=V==null?void 0:V.onclose)!==null&&a!==void 0?a:function(ae){}},X=this.webSocketFactory.create(v,TA(E),K);X.connect(),await I;let te=tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&te.startsWith("publishers/")){const ae=this.apiClient.getProject(),Z=this.apiClient.getLocation();te=`projects/${ae}/locations/${Z}/`+te}let z={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_s.AUDIO]}:e.config.responseModalities=[_s.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const de=(p=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[],pe=[];for(const ae of de)if(this.isCallableTool(ae)){const Z=ae;pe.push(await Z.tool())}else pe.push(ae);pe.length>0&&(e.config.tools=pe);const oe={model:te,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=S_(this.apiClient,oe):z=E_(this.apiClient,oe),delete z.config,X.send(JSON.stringify(z)),new vA(X,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yA={turnComplete:!0};class vA{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=gn(l.turns),e.isVertexAI()?a=a.map(r=>Bl(r)):a=a.map(r=>Ms(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(hA)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},yA),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:w_(e)}:l={realtimeInput:N_(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function TA(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function CA(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jp=10;function Zp(n){var e,l,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const h of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(ms(h)){r=!0;break}if(!r)return!0;const f=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ms(n){return"callTool"in n&&typeof n.callTool=="function"}function $p(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _A extends Pl{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var a,r,f,h,p;const y=await this.processParamsForMcpUsage(l);if(!aA(l)||Zp(l.config))return await this.generateContentInternal(y);if(sA(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const _=gn(y.contents),E=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Jp;let b=0;for(;b<E&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const I=g.candidates[0].content,V=[];for(const q of(p=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[])if(ms(q)){const K=await q.callTool(g.functionCalls);V.push(...K)}b++,v={role:"user",parts:V},y.contents=gn(y.contents),y.contents.push(I),y.contents.push(v),$p(y.config)&&(_.push(I),_.push(v))}return $p(y.config)&&(g.automaticFunctionCallingHistory=_),g},this.generateContentStream=async l=>{if(Zp(l.config)){const a=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const h=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let p;return f?p={generatedImages:h,positivePromptSafetyAttributes:f}:p={generatedImages:h},p}),this.list=async l=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new As(Vl.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(h),h)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var l,a,r;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const h=await Promise.all(f.map(async y=>ms(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(p.config.tools=h,e.config&&e.config.tools&&Ag(e.config.tools)){const y=(r=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Rg(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var l,a,r;const f=new Map;for(const h of(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(ms(h)){const p=h,y=await p.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,p)}}return f}async processAfcStream(e){var l,a,r;const f=(r=(a=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Jp;let h=!1,p=0;const y=await this.initAfcToolsMap(e);return function(g,v,_){var E,b;return Dl(this,arguments,function*(){for(var I,V,q,ee;p<f;){h&&(p++,h=!1);const z=yield it(g.processParamsForMcpUsage(_)),de=yield it(g.generateContentStreamInternal(z)),pe=[],oe=[];try{for(var K=!0,X=(V=void 0,Fo(de)),te;te=yield it(X.next()),I=te.done,!I;K=!0){ee=te.value,K=!1;const ae=ee;if(yield yield it(ae),ae.candidates&&(!((E=ae.candidates[0])===null||E===void 0)&&E.content)){oe.push(ae.candidates[0].content);for(const Z of(b=ae.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(p<f&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Z.functionCall.name)){const Ce=yield it(v.get(Z.functionCall.name).callTool([Z.functionCall]));pe.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(ae){V={error:ae}}finally{try{!K&&!I&&(q=X.return)&&(yield it(q.call(X)))}finally{if(V)throw V.error}}if(pe.length>0){h=!0;const ae=new Go;ae.candidates=[{content:{role:"user",parts:pe}}],yield yield it(ae);const Z=[];Z.push(...oe),Z.push({role:"user",parts:pe});const Ce=gn(_.contents).concat(Z);_.contents=Ce}else break}})}(this,y,e)}async generateContentInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=qp(this.apiClient,e);return p=ve("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=Hp(v),E=new Go;return Object.assign(E,_),E})}else{const g=Gp(this.apiClient,e);return p=ve("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=zp(v),E=new Go;return Object.assign(E,_),E})}}async generateContentStreamInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=qp(this.apiClient,e);return p=ve("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(_){return Dl(this,arguments,function*(){var E,b,I,V;try{for(var q=!0,ee=Fo(_),K;K=yield it(ee.next()),E=K.done,!E;q=!0){V=K.value,q=!1;const te=Hp(yield it(V.json())),z=new Go;Object.assign(z,te),yield yield it(z)}}catch(X){b={error:X}}finally{try{!q&&!E&&(I=ee.return)&&(yield it(I.call(ee)))}finally{if(b)throw b.error}}})})}else{const g=Gp(this.apiClient,e);return p=ve("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(_){return Dl(this,arguments,function*(){var E,b,I,V;try{for(var q=!0,ee=Fo(_),K;K=yield it(ee.next()),E=K.done,!E;q=!0){V=K.value,q=!1;const te=zp(yield it(V.json())),z=new Go;Object.assign(z,te),yield yield it(z)}}catch(X){b={error:X}}finally{try{!q&&!E&&(I=ee.return)&&(yield it(I.call(ee)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=NE(this.apiClient,e);return p=ve("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=US(v),E=new Cp;return Object.assign(E,_),E})}else{const g=zx(this.apiClient,e);return p=ve("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=cS(v),E=new Cp;return Object.assign(E,_),E})}}async generateImagesInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=DE(this.apiClient,e);return p=ve("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=kS(v),E=new _p;return Object.assign(E,_),E})}else{const g=Yx(this.apiClient,e);return p=ve("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=mS(v),E=new _p;return Object.assign(E,_),E})}}async editImageInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const p=PE(this.apiClient,e);return f=ve("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=VS(y),v=new z0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const p=GE(this.apiClient,e);return f=ve("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=PS(y),v=new H0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=qE(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>dc(v))}else{const g=Fx(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fc(v))}}async listInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,e);return p=ve("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=zS(this.apiClient,v),E=new xp;return Object.assign(E,_),E})}else{const g=Zx(this.apiClient,e);return p=ve("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=pS(this.apiClient,v),E=new xp;return Object.assign(E,_),E})}}async update(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=FE(this.apiClient,e);return p=ve("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>dc(v))}else{const g=Xx(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>fc(v))}}async delete(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=JE(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(()=>{const v=HS(),_=new Ep;return Object.assign(_,v),_})}else{const g=Kx(this.apiClient,e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(()=>{const v=gS(),_=new Ep;return Object.assign(_,v),_})}}async countTokens(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=$E(this.apiClient,e);return p=ve("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=YS(v),E=new Sp;return Object.assign(E,_),E})}else{const g=Wx(this.apiClient,e);return p=ve("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=yS(v),E=new Sp;return Object.assign(E,_),E})}}async computeTokens(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const p=XE(this.apiClient,e);return f=ve("{model}:computeTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=FS(y),v=new Y0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,e);return p=ve("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>XS(v))}else{const g=tE(this.apiClient,e);return p=ve("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>_S(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function EA(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function SA(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["operationName"],l);const a=u(n,["resourceName"]);a!=null&&c(e,["_url","resourceName"],a);const r=u(n,["config"]);return r!=null&&c(e,["config"],r),e}function AA(n){const e={},l=u(n,["video","uri"]);l!=null&&c(e,["uri"],l);const a=u(n,["video","encodedVideo"]);a!=null&&c(e,["videoBytes"],Yn(a));const r=u(n,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function RA(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],AA(l)),e}function MA(n){const e={},l=u(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>RA(h))),c(e,["generatedVideos"],f)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function bA(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["metadata"]);a!=null&&c(e,["metadata"],a);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const h=u(n,["response","generateVideoResponse"]);return h!=null&&c(e,["response"],MA(h)),e}function NA(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["uri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&c(e,["videoBytes"],Yn(a));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function wA(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],NA(l)),e}function DA(n){const e={},l=u(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>wA(h))),c(e,["generatedVideos"],f)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&c(e,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function Xp(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["metadata"]);a!=null&&c(e,["metadata"],a);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const h=u(n,["response"]);return h!=null&&c(e,["response"],DA(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA extends Pl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;return a&&"httpOptions"in a&&(f=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:l.name,config:a})}async getVideosOperationInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=EA(e);return p=ve("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Xp(v))}else{const g=xA(e);return p=ve("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>bA(v))}}async fetchPredictVideosOperationInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const p=SA(e);return f=ve("{resourceName}:fetchPredictOperation",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Xp(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IA(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Mg(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],IA(l)),e}function UA(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const a=u(n,["voiceConfig"]);return a!=null&&c(e,["voiceConfig"],Mg(a)),e}function LA(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>UA(r))),c(e,["speakerVoiceConfigs"],a)}return e}function kA(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Mg(l));const a=u(n,["multiSpeakerVoiceConfig"]);a!=null&&c(e,["multiSpeakerVoiceConfig"],LA(a));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function VA(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const a=u(n,["endOffset"]);a!=null&&c(e,["endOffset"],a);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function PA(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function BA(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&c(e,["mimeType"],a),e}function GA(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],VA(l));const a=u(n,["thought"]);a!=null&&c(e,["thought"],a);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],PA(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],BA(f));const h=u(n,["thoughtSignature"]);h!=null&&c(e,["thoughtSignature"],h);const p=u(n,["codeExecutionResult"]);p!=null&&c(e,["codeExecutionResult"],p);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const g=u(n,["functionCall"]);g!=null&&c(e,["functionCall"],g);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const _=u(n,["text"]);return _!=null&&c(e,["text"],_),e}function qA(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>GA(f))),c(e,["parts"],r)}const a=u(n,["role"]);return a!=null&&c(e,["role"],a),e}function zA(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const a=u(n,["description"]);a!=null&&c(e,["description"],a);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const h=u(n,["parametersJsonSchema"]);h!=null&&c(e,["parametersJsonSchema"],h);const p=u(n,["response"]);p!=null&&c(e,["response"],p);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function HA(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const a=u(n,["endTime"]);return a!=null&&c(e,["endTime"],a),e}function YA(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],HA(l)),e}function FA(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const a=u(n,["dynamicThreshold"]);return a!=null&&c(e,["dynamicThreshold"],a),e}function JA(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],FA(l)),e}function ZA(){return{}}function $A(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>zA(y))),c(e,["functionDeclarations"],p)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearch"]);a!=null&&c(e,["googleSearch"],YA(a));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],JA(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],ZA());const h=u(n,["codeExecution"]);return h!=null&&c(e,["codeExecution"],h),e}function XA(n){const e={},l=u(n,["handle"]);if(l!=null&&c(e,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kp(){return{}}function KA(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const a=u(n,["startOfSpeechSensitivity"]);a!=null&&c(e,["startOfSpeechSensitivity"],a);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const h=u(n,["silenceDurationMs"]);return h!=null&&c(e,["silenceDurationMs"],h),e}function QA(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],KA(l));const a=u(n,["activityHandling"]);a!=null&&c(e,["activityHandling"],a);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function WA(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function jA(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const a=u(n,["slidingWindow"]);return a!=null&&c(e,["slidingWindow"],WA(a)),e}function eR(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function tR(n,e){const l={},a=u(n,["generationConfig"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const h=u(n,["topP"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topP"],h);const p=u(n,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const _=u(n,["speechConfig"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","speechConfig"],kA(vc(_)));const E=u(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],E);const b=u(n,["systemInstruction"]);e!==void 0&&b!=null&&c(e,["setup","systemInstruction"],qA(Gt(b)));const I=u(n,["tools"]);if(e!==void 0&&I!=null){let z=$o(I);Array.isArray(z)&&(z=z.map(de=>$A(Zo(de)))),c(e,["setup","tools"],z)}const V=u(n,["sessionResumption"]);e!==void 0&&V!=null&&c(e,["setup","sessionResumption"],XA(V));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],Kp());const ee=u(n,["outputAudioTranscription"]);e!==void 0&&ee!=null&&c(e,["setup","outputAudioTranscription"],Kp());const K=u(n,["realtimeInputConfig"]);e!==void 0&&K!=null&&c(e,["setup","realtimeInputConfig"],QA(K));const X=u(n,["contextWindowCompression"]);e!==void 0&&X!=null&&c(e,["setup","contextWindowCompression"],jA(X));const te=u(n,["proactivity"]);return e!==void 0&&te!=null&&c(e,["setup","proactivity"],eR(te)),l}function nR(n,e){const l={},a=u(e,["model"]);a!=null&&c(l,["setup","model"],tt(n,a));const r=u(e,["config"]);return r!=null&&c(l,["config"],tR(r,l)),l}function iR(n,e,l){const a={},r=u(e,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const h=u(e,["uses"]);l!==void 0&&h!=null&&c(l,["uses"],h);const p=u(e,["liveConnectConstraints"]);l!==void 0&&p!=null&&c(l,["bidiGenerateContentSetup"],nR(n,p));const y=u(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function lR(n,e){const l={},a=u(e,["config"]);return a!=null&&c(l,["config"],iR(n,a,l)),l}function oR(n){const e={},l=u(n,["name"]);return l!=null&&c(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aR(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const a=n[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);e.push(...r)}else e.push(l)}return e.join(",")}function sR(n,e){let l=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const f=aR(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(g=>h.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class rR extends Pl{constructor(e){super(),this.apiClient=e}async create(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=lR(this.apiClient,e);f=ve("auth_tokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query;const y=sR(p,e.config);return r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>oR(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uR(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","name"],l);const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function cR(n,e){const l={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const r=u(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const f=u(n,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function fR(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],cR(l,e)),e}function dR(n){const e={},l=u(n,["textInput"]);l!=null&&c(e,["textInput"],l);const a=u(n,["output"]);return a!=null&&c(e,["output"],a),e}function mR(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(n,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>dR(r))),c(e,["examples","examples"],a)}return e}function hR(n,e){const l={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=u(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&c(e,["displayName"],a),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=u(n,["epochCount"]);e!==void 0&&r!=null&&c(e,["tuningTask","hyperparameters","epochCount"],r);const f=u(n,["learningRateMultiplier"]);if(f!=null&&c(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(n,["batchSize"]);e!==void 0&&h!=null&&c(e,["tuningTask","hyperparameters","batchSize"],h);const p=u(n,["learningRate"]);return e!==void 0&&p!=null&&c(e,["tuningTask","hyperparameters","learningRate"],p),l}function pR(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=u(n,["trainingDataset"]);a!=null&&c(e,["tuningTask","trainingData"],mR(a));const r=u(n,["config"]);return r!=null&&c(e,["config"],hR(r,e)),e}function gR(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","name"],l);const a=u(n,["config"]);return a!=null&&c(e,["config"],a),e}function yR(n,e){const l={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&c(e,["_query","pageSize"],a);const r=u(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const f=u(n,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function vR(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],yR(l,e)),e}function TR(n,e){const l={},a=u(n,["gcsUri"]);if(e!==void 0&&a!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],a),u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function CR(n){const e={},l=u(n,["gcsUri"]);return l!=null&&c(e,["validationDatasetUri"],l),e}function _R(n,e){const l={},a=u(n,["validationDataset"]);e!==void 0&&a!=null&&c(e,["supervisedTuningSpec"],CR(a));const r=u(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&c(e,["tunedModelDisplayName"],r);const f=u(n,["description"]);e!==void 0&&f!=null&&c(e,["description"],f);const h=u(n,["epochCount"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const p=u(n,["learningRateMultiplier"]);e!==void 0&&p!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const y=u(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const g=u(n,["adapterSize"]);if(e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function xR(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const a=u(n,["trainingDataset"]);a!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],TR(a,e));const r=u(n,["config"]);return r!=null&&c(e,["config"],_R(r,e)),e}function ER(n){const e={},l=u(n,["name"]);l!=null&&c(e,["model"],l);const a=u(n,["name"]);return a!=null&&c(e,["endpoint"],a),e}function bg(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["state"]);a!=null&&c(e,["state"],fg(a));const r=u(n,["createTime"]);r!=null&&c(e,["createTime"],r);const f=u(n,["tuningTask","startTime"]);f!=null&&c(e,["startTime"],f);const h=u(n,["tuningTask","completeTime"]);h!=null&&c(e,["endTime"],h);const p=u(n,["updateTime"]);p!=null&&c(e,["updateTime"],p);const y=u(n,["description"]);y!=null&&c(e,["description"],y);const g=u(n,["baseModel"]);g!=null&&c(e,["baseModel"],g);const v=u(n,["_self"]);v!=null&&c(e,["tunedModel"],ER(v));const _=u(n,["distillationSpec"]);_!=null&&c(e,["distillationSpec"],_);const E=u(n,["experiment"]);E!=null&&c(e,["experiment"],E);const b=u(n,["labels"]);b!=null&&c(e,["labels"],b);const I=u(n,["pipelineJob"]);I!=null&&c(e,["pipelineJob"],I);const V=u(n,["serviceAccount"]);V!=null&&c(e,["serviceAccount"],V);const q=u(n,["tunedModelDisplayName"]);return q!=null&&c(e,["tunedModelDisplayName"],q),e}function SR(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const a=u(n,["tunedModels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>bg(f))),c(e,["tuningJobs"],r)}return e}function AR(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["metadata"]);a!=null&&c(e,["metadata"],a);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);return f!=null&&c(e,["error"],f),e}function RR(n){const e={},l=u(n,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const a=u(n,["epoch"]);a!=null&&c(e,["epoch"],a);const r=u(n,["step"]);r!=null&&c(e,["step"],r);const f=u(n,["endpoint"]);return f!=null&&c(e,["endpoint"],f),e}function MR(n){const e={},l=u(n,["model"]);l!=null&&c(e,["model"],l);const a=u(n,["endpoint"]);a!=null&&c(e,["endpoint"],a);const r=u(n,["checkpoints"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>RR(h))),c(e,["checkpoints"],f)}return e}function hc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const a=u(n,["state"]);a!=null&&c(e,["state"],fg(a));const r=u(n,["createTime"]);r!=null&&c(e,["createTime"],r);const f=u(n,["startTime"]);f!=null&&c(e,["startTime"],f);const h=u(n,["endTime"]);h!=null&&c(e,["endTime"],h);const p=u(n,["updateTime"]);p!=null&&c(e,["updateTime"],p);const y=u(n,["error"]);y!=null&&c(e,["error"],y);const g=u(n,["description"]);g!=null&&c(e,["description"],g);const v=u(n,["baseModel"]);v!=null&&c(e,["baseModel"],v);const _=u(n,["tunedModel"]);_!=null&&c(e,["tunedModel"],MR(_));const E=u(n,["supervisedTuningSpec"]);E!=null&&c(e,["supervisedTuningSpec"],E);const b=u(n,["tuningDataStats"]);b!=null&&c(e,["tuningDataStats"],b);const I=u(n,["encryptionSpec"]);I!=null&&c(e,["encryptionSpec"],I);const V=u(n,["partnerModelTuningSpec"]);V!=null&&c(e,["partnerModelTuningSpec"],V);const q=u(n,["distillationSpec"]);q!=null&&c(e,["distillationSpec"],q);const ee=u(n,["experiment"]);ee!=null&&c(e,["experiment"],ee);const K=u(n,["labels"]);K!=null&&c(e,["labels"],K);const X=u(n,["pipelineJob"]);X!=null&&c(e,["pipelineJob"],X);const te=u(n,["serviceAccount"]);te!=null&&c(e,["serviceAccount"],te);const z=u(n,["tunedModelDisplayName"]);return z!=null&&c(e,["tunedModelDisplayName"],z),e}function bR(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const a=u(n,["tuningJobs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>hc(f))),c(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NR extends Pl{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new As(Vl.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const a=await this.tuneMldevInternal(l);let r="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?r=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(r=a.name.split("/operations/")[0]),{name:r,state:ac.JOB_STATE_QUEUED}}}}async getInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=gR(e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>hc(v))}else{const g=uR(e);return p=ve("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>bg(v))}}async listInternal(e){var l,a,r,f;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=vR(e);return p=ve("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const _=bR(v),E=new Ap;return Object.assign(E,_),E})}else{const g=fR(e);return p=ve("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const _=SR(v),E=new Ap;return Object.assign(E,_),E})}}async tuneInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const p=xR(e);return f=ve("tuningJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>hc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pR(e);return f=ve("tunedModels",p._url),h=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>AR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wR{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DR=1024*1024*8,OR=3,IR=1e3,UR=2,Ku="x-goog-upload-status";async function LR(n,e,l){var a,r,f;let h=0,p=0,y=new sc(new Response),g="upload";for(h=n.size;p<h;){const _=Math.min(DR,h-p),E=n.slice(p,p+_);p+_>=h&&(g+=", finalize");let b=0,I=IR;for(;b<OR&&(y=await l.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(_)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Ku]));)b++,await VR(I),I=I*UR;if(p+=_,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Ku])!=="active")break;if(h<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Ku])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function kR(n){return{size:n.size,type:n.type}}function VR(n){return new Promise(e=>setTimeout(e,n))}class PR{async upload(e,l,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LR(e,l,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BR{create(e,l,a){return new GR(e,l,a)}}class GR{constructor(e,l,a){this.url=e,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp="x-goog-api-key";class qR{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Qp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR="gl-node/";class HR{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const a=q0(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const r=new qR(this.apiKey);this.apiClient=new iA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:zR+"web",uploader:new PR,downloader:new wR}),this.models=new _A(this.apiClient),this.live=new gA(this.apiClient,r,new BR),this.chats=new hC(this.models,this.apiClient),this.caches=new fC(this.apiClient),this.files=new MC(this.apiClient),this.operations=new OA(this.apiClient),this.authTokens=new rR(this.apiClient),this.tunings=new NR(this.apiClient)}}const YR="PLACEHOLDER_API_KEY";let Hn=null;Hn=new HR({apiKey:YR});let Ho=null,Yo=null;const Ng=n=>Hn?Hn.chats.create({model:gc,config:{systemInstruction:n}}):null,FR=async(n,e,l)=>{if(!Hn)throw new Error("Gemini AI not initialized (API key likely missing). Cannot generate case data.");if(!l)throw new Error("Username is required to generate case data for topic progression.");const a=`${Date.now()}_${Math.random().toString(36).substring(2,7)}`;let r=n0-(n-1)*i0;r<Eh&&(r=Eh);const f=["Rational Numbers","Linear Equations in One Variable","Understanding Quadrilaterals","Data Handling (interpreting bar graphs, pie charts, probability basics)","Squares & Square Roots","Cubes & Cube Roots","Comparing Quantities (percentages, profit/loss, simple/compound interest)","Algebraic Expressions & Identities (multiplication, basic factorization)","Mensuration (area of plane figures, surface area/volume of cube, cuboid, cylinder)","Exponents & Powers","Direct & Inverse Proportions","Factorisation (common factors, regrouping, identities, division)","Introduction to Graphs (bar graphs, pie charts, line graphs, coordinate basics)"],h=["Number Systems (real numbers, irrational numbers, laws of exponents for real numbers)","Polynomials (zeros, remainder theorem, factor theorem, algebraic identities)","Coordinate Geometry (Cartesian plane, plotting points)","Linear Equations in Two Variables (ax+by+c=0, graph of linear equation)","Euclid’s Geometry (axioms, postulates, basic theorems)","Lines and Angles (types of angles, parallel lines and transversals, angle sum property of triangles)","Triangles (congruence criteria - SSS, SAS, ASA, RHS, properties of isosceles triangles, inequalities in triangles)","Quadrilaterals (properties of parallelograms, midpoint theorem)","Circles (terms, theorems on equal chords, angle subtended by arc, cyclic quadrilaterals)","Heron’s Formula (area of triangle)","Surface Areas & Volumes (cube, cuboid, cylinder, cone, sphere, hemisphere)","Statistics (collection/presentation of data, bar graphs, histograms, frequency polygons, mean, median, mode of ungrouped data)"],p=["Real Numbers (Euclid's division lemma, fundamental theorem of arithmetic, irrational numbers revisited, decimal expansions)","Polynomials (zeros, relationship between zeros and coefficients, division algorithm)","Pair of Linear Equations in Two Variables (graphical solution, algebraic methods - substitution, elimination, cross-multiplication, reducible equations)","Quadratic Equations (standard form, solutions by factorization and quadratic formula, nature of roots)","Arithmetic Progressions (nth term, sum of n terms)","Triangles (similarity criteria - AAA, SSS, SAS, area of similar triangles, Pythagoras theorem and its converse)","Coordinate Geometry (distance formula, section formula, area of triangle)","Introduction to Trigonometry (trigonometric ratios, identities, trigonometric ratios of complementary angles)","Applications of Trigonometry (heights and distances)","Circles (tangents, number of tangents from a point)","Areas Related to Circles (area of sector and segment)","Surface Areas & Volumes (combinations of solids, conversion of solids)","Statistics (mean, median, mode of grouped data, cumulative frequency graphs - ogives)","Probability (classical definition, simple problems)"];let y,g,v;e===8?(y=f,g="Class 8",v=eg):e===9?(y=h,g="Class 9",v=tg):(y=p,g="Class 10",v=ng);const _=wt(v,l);let E=0;const b=localStorage.getItem(_);if(b){const te=parseInt(b,10);!isNaN(te)&&te>=0&&te<y.length?E=te:(console.warn(`Invalid topic index '${b}' for key '${_}'. Resetting to 0.`),localStorage.removeItem(_),E=0)}const I=y[E],V=(E+1)%y.length;localStorage.setItem(_,V.toString());const q=Math.min(5,Math.max(1,Math.ceil(n/4))),ee=`You are an expert curriculum designer for mathematics, specializing in Indian CBSE/NCERT syllabus for Classes 8, 9, and 10.
Your task is to generate a complete JSON object for a math courtroom case.
The player's current progression level is ${n}.
The case MUST be centered around a specific, demonstrable math concept from **${g}**, focusing on the topic: "${I}".
The complexity of the problem and its presentation should be appropriate for player level ${n} operating within the ${g} curriculum.
The perceived AI difficulty (1-5 scale) for this case should be around ${q}.
NO general logic puzzles, brain teasers, or non-mathematical riddles. The core of the problem must be mathematical reasoning, calculation, application of formulas, or geometric proof.

Mathematical Topic: "${I}" (from ${g})

JSON object structure MUST be strictly followed.
**Important JSON String Rules**: All string values in the JSON object must be valid JSON strings. This means special characters like backslashes (escaped as \`\\\\\` in the final JSON string if you mean a literal backslash, e.g., "C:\\\\path"), double quotes within strings (escaped as \`\\"\`), and newlines (escaped as \`\\n\`) must be properly escaped. Avoid generating literal unescaped newlines or other control characters within string values.

The JSON structure:
{
  "id": "CASE_DYNAMIC_${a}",
  "title": "string (Engaging, math-related title, e.g., 'The Case of the Miscalculated Triangle Area', 'The Polynomial Perplexity')",
  "classLevel": "string (Clearly state the class and topic, e.g., '${g} - ${I}: Problem involving [specific aspect like 'factorization of quadratics' or 'surface area of a cone']')",
  "clientName": "string (A conceptual client, e.g., 'The Accused Angle', 'Equation X', 'The Misunderstood Mean')",
  "clientDescription": "string (One-sentence description of the client concept, tying it to the math problem. e.g., 'Equation X is supposed to balance perfectly, but it's being accused of inequality.')",
  "accusation": "string (Accusation detailing a specific mathematical error related to '${I}'. e.g., 'The Accused Angle claims to be 90 degrees, but the diagram clearly shows it's obtuse due to an error in applying the Pythagorean theorem!' or 'Equation X has an incorrect solution, x=5, when it should be x=2 based on proper algebraic manipulation.')",
  "initialProsecutionArgument": "string (Short, confident opening argument from the prosecutor, highlighting the alleged mathematical flaw, 1-2 sentences. e.g., 'Your Honor, the evidence shows a clear miscalculation in the formula for the area of a circle, leading to this absurd result!')",
  "initialCoCounselHint": "string (Short, guiding hint for the player, pointing towards the mathematical principle or area to examine. e.g., 'Captain, let's re-examine the steps used to solve that linear equation. Perhaps there's a mistake in transposing terms?')",
  "evidence": [
    {
      "id": "EVIDENCE_A_UNIQUE_SUFFIX",
      "title": "string (Descriptive title, e.g., 'The Disputed Diagram', 'The Flawed Calculation Sheet', 'The Statistical Summary')",
      "type": "document" | "graph" | "data_table" | "statement" | "image", 
      "description": "string (Description of the evidence and its relevance to '${I}'. e.g., 'This document shows the step-by-step working of the problem where the error is suspected.')",
      "content": "string (CRITICAL: For 'graph' or 'image', MUST be a valid, self-contained SVG. The SVG should be designed for a dark UI background: use light-colored lines, shapes, and text (e.g., shades of #E2E8F0, #94A3B8, or a subtle theme accent color like #38BDF8 or #A78BFA) on a transparent background for all elements including text. Ensure good contrast and avoid large solid dark fills. Include <title> and <desc> for accessibility, viewBox around '0 0 100 100' or similar. Example for a flawed geometric figure for dark theme: '<svg viewBox=\\"0 0 100 100\\" xmlns=\\"http://www.w3.org/2000/svg\\"><title>Incorrect Angle Sum</title><desc>A triangle with angles labeled 60, 70, 60 degrees, summing to 190. Designed for dark theme.</desc><polygon points=\\"10,90 50,10 90,90\\" fill=\\"rgba(167, 139, 250, 0.15)\\" stroke=\\"#A78BFA\\"/><text x=\\"20\\" y=\\"80\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">60°</text><text x=\\"70\\" y=\\"80\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">60°</text><text x=\\"48\\" y=\\"30\\" fill=\\"#E2E8F0\\" font-family=\\"sans-serif\\" font-size=\\"10\\">70°</text></svg>'. For 'data_table', simple JSON of relevant data. For 'document'/'statement', text containing mathematical steps, problem statements, or relevant assertions.)",
      "isFlawed": true, 
      "flawDescription": "string (If isFlawed is true, clear explanation of the specific MATHEMATICAL flaw related to '${I}'. e.g., 'The sum of angles in the triangle is shown as 190 degrees, but it must be 180 degrees.' or 'The quadratic formula was applied with an incorrect sign for the 'b' coefficient.')"
    }
  ],
  "keyConcepts": ["string (e.g., 'Properties of similar triangles')", "string (e.g., 'Solving quadratic equations by factorization')"],
  "guiltyVerdictIfPlayerFails": "string (Verdit related to the mathematical failure, e.g., 'The client, Equation X, is found to be unbalanced due to incorrect algebraic manipulation.')",
  "innocentVerdictIfPlayerSucceeds": "string (Verdict related to mathematical success, e.g., 'Equation X is proven to be perfectly balanced, the initial accusation was based on a calculation error!')",
  "isClientActuallyGuilty": false,
  "caseDurationMinutes": ${r}
}

Language must be clear, engaging, and age-appropriate for students (typically 12-16 years old) studying ${g} mathematics. Be precise with mathematical terms.
One piece of evidence MUST contain the primary mathematical flaw. Other evidence can be supportive, provide context, or be neutral.
Ensure 'flawDescription' clearly explains the mathematical error in relation to '${I}'.
Generate a case from ${g} curriculum, topic: '${I}'. Player's overall level for context: ${n}. Target AI perceived difficulty: ${q}/5.`,K={model:gc,contents:[{role:"user",parts:[{text:`Generate a math courtroom case from ${g} curriculum for students. Player Level: ${n}. Topic: "${I}". Target AI difficulty: ${q}/5. Adhere strictly to the JSON structure, DARK THEME SVG (light elements on transparent background), and MATH FOCUS requirements in system instructions.`}]}],config:{systemInstruction:ee,responseMimeType:"application/json"}};let X="";try{let z=(await Hn.models.generateContent(K)).text.trim();const de=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,pe=z.match(de);pe&&pe[2]?X=pe[2].trim():X=z;const oe=JSON.parse(X),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return oe.evidence=oe.evidence.map((Z,Ce)=>({...Z,id:`EVIDENCE_${ae[Ce%ae.length]}_${a}`})),oe.evidence.forEach(Z=>{(Z.type==="image"||Z.type==="graph")&&typeof Z.content=="string"&&!Z.content.trim().toLowerCase().startsWith("<svg")&&(console.warn(`Evidence "${Z.title}" of type ${Z.type} does not have SVG content as expected. Content: ${Z.content.substring(0,100)}... Forcing basic error SVG (dark theme).`),Z.content=`<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><title>Error: Visual Missing</title><desc>Visual could not be loaded or was not valid SVG. Expected math-related SVG for topic: ${I} from ${g}. Styled for dark theme.</desc><rect x="5" y="5" width="90" height="90" fill="rgba(248, 113, 113, 0.1)" stroke="#F87171" stroke-width="1.5"/><text x="50" y="45" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#FCA5A5">Visual Error!</text><text x="50" y="60" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="8" fill="#FCA5A5">SVG for ${I} missing.</text></svg>`)}),(!oe.classLevel||!oe.classLevel.startsWith(g))&&(oe.classLevel=`${g} - ${I}: ${oe.title}`),oe}catch(te){throw console.error("Error generating case data from Gemini:",te),console.error("Attempted to parse the following string as JSON:",X),new Error(`Failed to generate or parse case data. ${te instanceof Error?te.message:String(te)}`)}},JR=async(n,e,l)=>{if(!Hn)return"The Prosecutor is currently unavailable due to a technical issue (AI service not initialized).";if(!Ho){const a=`You are a Prosecutor in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
The case is about a MATH problem: ${n.clientName} (related to ${n.classLevel}) is accused of "${n.accusation}".
You should speak confidently and focus on the alleged mathematical error.
Use clear, concise language suitable for 12-16 year olds. 
Example: "The defense's calculation for the area is fundamentally flawed, as they neglected to use the correct formula for a trapezium." or "The presented graph incorrectly depicts the solution set for the linear inequality."
You are the Prosecutor. Never mention being an AI.
The player (Defense Counsel) is trying to disprove your mathematical assertions.
The current situation is: ${e}.
The last thing someone said was (last 100 chars): "${l.slice(-100)}".
If the currentTurnDescription indicates the Defense Counsel's previous argument was dismissed by the Judge as irrelevant, a distraction, or mathematically flawed, you should mock their attempt or re-emphasize your original point strongly, highlighting how their argument failed to address the core mathematical issue of "${n.accusation}".
Now, state your next argument about the MATH problem. Keep it to 1-2 focused sentences.`;Ho=Ng(a)}if(!Ho)return"Error: The Prosecutor is unavailable at this moment (Chat initialization failed).";try{const a=`Prosecutor,
The current situation is: ${e}.
The last thing someone said: "${l.slice(-100)}".
What's your next concise argument to highlight the mathematical error by ${n.clientName}? Focus on the core math problem for a student audience (studying ${n.classLevel.split(" - ")[0]}). If the player just made an irrelevant or flawed argument, react to that strongly. 1-2 sentences.`;return(await Ho.sendMessage({message:a})).text.trim()}catch(a){return console.error("Error fetching prosecutor statement:",a),"The Prosecutor seems to be reviewing their notes... (API Error)"}},ZR=async(n,e,l,a)=>{if(!Hn)return"Your Co-Counsel is currently unavailable due to a technical issue (AI service not initialized).";if(!Yo){const r=`You are a helpful Co-Counsel for the player (Defense Counsel) in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
You are trying to help the player prove that ${n.clientName} (related to ${n.classLevel}) is innocent of the MATH accusation: "${n.accusation}".
The case revolves around these mathematical concepts: ${n.keyConcepts.join(", ")}.
You are supportive, insightful, and offer strategic advice related to the MATH.
Use clear language. Example: "Counsel, let's double-check the application of the distributive property in that algebraic expression."
You are the Co-Counsel. Never mention being an AI.
The current situation in court is: ${e}.

If the currentSituation indicates the player's last argument was deemed irrelevant or mathematically flawed by the Judge and the Prosecutor has capitalized on it, your advice should strongly guide them back to making a *relevant and correct* mathematical point. Emphasize focusing on the key concepts: ${n.keyConcepts.join(", ")} and the specific accusation: "${n.accusation}". Help them identify potential errors or areas to re-examine.
Now, give your concise, helpful MATH advice. 1-2 focused sentences.`;Yo=Ng(r)}if(!Yo)return"Error: Your Co-Counsel is currently indisposed (Chat initialization failed).";try{const r=`Co-Counsel,
The current situation is: ${e}.
The last few things said were: "${l.slice(-200)}".
${a?`Defense Counsel asked: "${a}".`:""}
What concise, helpful MATH tip can you offer the Defense Counsel for this case involving ${n.keyConcepts.join(", ")} for students studying ${n.classLevel.split(" - ")[0]}? If the player just made an irrelevant or mathematically flawed argument, help them get back on track and find the correct reasoning! 1-2 sentences.`;return(await Yo.sendMessage({message:r})).text.trim()}catch(r){return console.error("Error fetching co-counsel advice:",r),"Your Co-Counsel is currently pondering the complexities of the case... (API Error)"}},Wp=async(n,e,l,a)=>{if(!Hn)return"The Judge is currently deliberating due to a technical issue (AI service not initialized).";n.classLevel.includes("Class 10")||n.classLevel.includes("Class 9");const f=a<=5?"If the Counsel's argument is mathematically correct AND RELEVANT, affirm it clearly. For less experienced players, direct affirmation is good. If it's incorrect or irrelevant, this will be handled by your primary evaluation of validity and relevance.":"If the Defense Counsel's argument is mathematically sound AND RELEVANT to the case, but lacks thorough explanation (e.g., doesn't state the theorem/formula or show clear steps), gently prompt for more detail. Example: 'That's a valid point on [relevant math concept], Counsel. Could you elaborate on the specific mathematical steps or theorem that supports your assertion in relation to this case?'",h=`You are The Judge in a courtroom game for students (studying ${n.classLevel.split(" - ")[0]} mathematics).
You are impartial, analytical, and speak clearly.
The case is about a MATH problem: ${n.clientName}, accused of: "${n.accusation}". The case is based on ${n.classLevel} involving ${n.keyConcepts.join(", ")}.
The current situation is: ${l}.
Defense Counsel (the player, current game level ${a}) just stated: "${e}".

Your role:
1. Evaluate the mathematical validity AND relevance of the Defense Counsel's argument to the specific accusation and key concepts ('${n.keyConcepts.join(", ")}').
   - If the argument is mathematically sound AND directly helps disprove the accusation or clarify the key concepts in a relevant way, acknowledge it positively (e.g., using phrases like "sound mathematical argument", "proves the point", "correctly identifies"). This indicates a winning argument.
   - If the argument is mathematically sound BUT irrelevant to the case's core mathematical problem (e.g., a true math fact that doesn't apply to "${n.accusation}" or the key concepts ${n.keyConcepts.join(", ")}), you MUST state that it is irrelevant and does NOT help the case. Be specific if possible why it's irrelevant. Use phrases like "irrelevant", "not relevant".
   - If the argument is mathematically incorrect OR makes no mathematical sense, point out the flaw. Use phrases like "incorrect", "flaw in reasoning", "mathematically unsound". This indicates a flawed argument.
   - If the argument is off-topic and not mathematical, state that it is not relevant to the proceedings.
2. ${f} (Apply this primarily if the argument is relevant and sound but needs more mathematical detail, especially for more experienced players. This type of response can still be a "winning" one if the core point is correct).
3. Provide a concise response (1-2 sentences).

Examples of replies:
- Affirmative & Sufficient (Winning): "That is a sound mathematical argument, Counsel. The application of [specific theorem/formula] is correct and directly addresses the issue of [specific part of accusation]." or "Your reasoning is persuasive and correctly identifies the error."
- Affirmative but needs more (Potentially Winning, depends on keywords if core is sound): "Interesting point regarding [aspect relevant to the case], Counsel. Can you elaborate on how [specific math principle] leads to that conclusion, specifically for this case?"
- Mathematically Correct but Irrelevant (Irrelevant): "Counsel, while your statement about [correct but unrelated math fact] is true, it does not seem relevant to whether ${n.clientName} committed the error in [specific accusation]. Please focus on the specifics of this case."
- Incorrect/Insufficient (Flawed/Incorrect): "Counsel, I'm not certain that argument fully addresses the discrepancy. Your assertion about [topic] appears to be mathematically incorrect due to [specific reason]." or "There seems to be a flaw in your calculation for [concept]."
- Off-Topic/Not Mathematical (Irrelevant): "Counsel, your statement about [non-math topic] is not relevant to this mathematical courtroom. Please focus on the mathematical aspects of the case: ${n.accusation}."

Maintain a respectful, judicial tone. The goal is to encourage rigorous mathematical thinking directly related to the case.
You are The Judge. Ensure your response clearly signals whether the argument is helpful (winning), irrelevant, or flawed. If it's irrelevant or flawed, make that clear so the player understands they need to try a different approach to solve the case.
If context mentions an "objection", rule on the objection directly (e.g. "Objection sustained/overruled because..."). Otherwise, assess the argument.`;try{return(await Hn.models.generateContent({model:gc,contents:[{role:"user",parts:[{text:`Judge, Defense Counsel (player game level ${a}) presented this argument/objection regarding the math case (${n.classLevel} - ${n.keyConcepts.join(", ")}): "${e}". The case context: ${l}. Please provide your assessment in one or two clear sentences, focusing on mathematical validity AND relevance to the case. Indicate if the argument is winning, irrelevant, or flawed.`}]}],config:{systemInstruction:h}})).text.trim()}catch(p){return console.error("Error getting judge's analysis:",p),"The Judge is currently in chambers reviewing the precedents... (API Error)"}},$R=()=>{Ho=null,Yo=null},XR=({mode:n,onToggleMode:e,onLogin:l,onSignUp:a,authError:r,isLoading:f})=>{const[h,p]=Y.useState(""),[y,g]=Y.useState(""),v=async E=>{E.preventDefault(),!(f||!h.trim()||!y.trim())&&(n==="login"?await l(h.trim(),y):await a(h.trim(),y))},_=()=>{e(),p(""),g("")};return A.jsx("div",{className:"flex flex-col items-center justify-center w-full p-4 flex-grow",children:A.jsxs("div",{className:"w-full max-w-sm sm:max-w-md glassmorphic-surface p-6 sm:p-8 rounded-xl shadow-2xl border border-violet-500/50",children:[A.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-violet-400 mb-6 text-center",children:n==="login"?"Welcome Back!":"Create Your Account"}),A.jsxs("form",{onSubmit:v,className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Username"}),A.jsx("input",{type:"text",id:"username",value:h,onChange:E=>p(E.target.value),required:!0,className:"w-full p-2.5 sm:p-3 bg-slate-700/50 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm text-sm sm:text-base backdrop-blur-sm","aria-label":"Username",disabled:f})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Password"}),A.jsx("input",{type:"password",id:"password",value:y,onChange:E=>g(E.target.value),required:!0,className:"w-full p-2.5 sm:p-3 bg-slate-700/50 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm text-sm sm:text-base backdrop-blur-sm","aria-label":"Password",disabled:f})]}),r&&A.jsx("p",{className:"text-sm text-red-300 text-center bg-red-900/40 p-2.5 rounded-md border border-red-700/60",children:r}),A.jsx("button",{type:"submit",disabled:f||!h.trim()||!y.trim(),className:"w-full bg-violet-600 hover:bg-violet-700/90 text-white font-bold py-2.5 sm:py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-colors duration-200 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center border border-violet-500/70 text-sm sm:text-base",children:f?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):n==="login"?"Login":"Sign Up"})]}),A.jsx("p",{className:"mt-6 text-center text-xs sm:text-sm",children:A.jsx("button",{onClick:_,disabled:f,className:"font-medium text-violet-400 hover:text-violet-300 transition-colors duration-150",children:n==="login"?"Don't have an account? Sign Up":"Already have an account? Login"})})]})})},cs=({role:n,isSpeaking:e})=>{const l=()=>{let f="p-2 sm:p-3 rounded-xl shadow-lg border transition-all duration-300 ease-in-out glassmorphic-surface",h="",p="ring-sky-400 ring-offset-slate-900";switch(h="border-slate-700/70 text-slate-100",n){case F.JUDGE:h="border-violet-500/60 text-violet-200",p="ring-violet-400 ring-offset-slate-900";break;case F.PROSECUTOR:h="border-red-500/60 text-red-200",p="ring-red-400 ring-offset-slate-900";break;case F.DEFENSE_PLAYER:h="border-emerald-500/60 text-emerald-200",p="ring-emerald-400 ring-offset-slate-900";break;case F.CO_COUNSEL:h="border-amber-500/60 text-amber-200",p="ring-amber-400 ring-offset-slate-900";break;case F.CLIENT:h="border-sky-500/60 text-sky-200",p="ring-sky-400 ring-offset-slate-900";break;default:h="border-slate-600/60 text-slate-200";break}return`${f} ${h} ${e?`ring-2 sm:ring-4 ${p} shadow-xl sm:shadow-2xl scale-105`:"shadow-md hover:shadow-lg"}`},a=()=>{switch(n){case F.JUDGE:return"⚖️";case F.PROSECUTOR:return"😠";case F.DEFENSE_PLAYER:return"🦸";case F.CO_COUNSEL:return"💡";case F.CLIENT:return"😟";case F.NARRATOR:return"🎤";default:return"👤"}};let r;return n===F.DEFENSE_PLAYER?r="You":n===F.CLIENT?r="Your Friend":r=n,A.jsxs("div",{className:"text-center transform transition-transform duration-300 scale-100",children:[" ",A.jsxs("div",{className:l(),children:[A.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl block mb-1 drop-shadow-sm",children:a()}),A.jsx("p",{className:"font-semibold text-xs sm:text-sm capitalize truncate",children:r})]}),e&&A.jsx("div",{className:`mt-1.5 h-1 sm:h-1.5 rounded-full animate-pulse w-3/4 mx-auto ${n===F.JUDGE?"bg-violet-400":n===F.PROSECUTOR?"bg-red-400":n===F.DEFENSE_PLAYER?"bg-emerald-400":n===F.CO_COUNSEL?"bg-amber-400":n===F.CLIENT?"bg-sky-400":"bg-slate-400"}`})]})},KR=({dialogues:n,currentSpeaker:e})=>{const l=Y.useRef(null),a=Y.useRef(null);Y.useEffect(()=>{const f=a.current;f&&l.current&&f.scrollHeight-f.scrollTop-f.clientHeight<=20&&l.current.scrollIntoView({behavior:"smooth",block:"end"})},[n]);const r=f=>{let h="text-slate-300",p="bg-slate-700/40 backdrop-blur-md border-slate-600/60";switch(f){case F.JUDGE:h="text-violet-300",p="bg-violet-800/30 backdrop-blur-md border-violet-600/50";break;case F.PROSECUTOR:h="text-red-300",p="bg-red-800/30 backdrop-blur-md border-red-600/50";break;case F.DEFENSE_PLAYER:h="text-emerald-300",p="bg-emerald-800/30 backdrop-blur-md border-emerald-600/50 ml-auto";break;case F.CO_COUNSEL:h="text-amber-300",p="bg-amber-700/30 backdrop-blur-md border-amber-600/50";break;case F.CLIENT:h="text-sky-300",p="bg-sky-800/30 backdrop-blur-md border-sky-600/50";break;case F.NARRATOR:h="text-slate-400 italic",p="bg-slate-800/50 backdrop-blur-sm border-slate-700/50 text-center";break;default:h="text-slate-200";break}return{nameClass:h,bubbleClass:p}};return A.jsxs("div",{ref:a,className:"glassmorphic-surface p-2.5 sm:p-3 md:p-4 rounded-xl shadow-xl h-full overflow-y-auto border border-slate-700/50 flex flex-col space-y-2.5 sm:space-y-3",children:[n.length===0&&A.jsx("p",{className:"text-slate-400 text-center flex-grow flex items-center justify-center text-sm sm:text-base",children:"The courtroom is quiet... waiting for the trial to unfold."}),n.map((f,h)=>{const{nameClass:p,bubbleClass:y}=r(f.speaker),g=h===n.length-1;let v;return f.speaker===F.DEFENSE_PLAYER?v="You":f.speaker===F.CLIENT?v="Your Friend":f.speaker===F.NARRATOR?v="":v=f.speaker,A.jsxs("div",{className:`p-2 sm:p-3 rounded-lg shadow-md border text-xs sm:text-sm md:text-base max-w-[90%] sm:max-w-[85%] md:max-w-[80%] ${y} ${f.speaker===F.DEFENSE_PLAYER?"self-end":f.speaker===F.NARRATOR?"self-center w-full sm:w-[95%] md:w-[90%]":"self-start"}`,tabIndex:g?0:-1,children:[v&&A.jsxs("p",{className:`font-semibold ${p} mb-0.5 sm:mb-1 text-xs sm:text-sm`,children:[v,e===f.speaker&&g&&f.speaker!==F.NARRATOR&&A.jsx("span",{className:"ml-1 animate-pulse",children:"..."})]}),A.jsx("p",{className:`whitespace-pre-wrap leading-relaxed ${f.speaker===F.NARRATOR?"text-slate-300 italic":"text-slate-100"}`,children:f.text}),A.jsxs("p",{className:"text-xs text-slate-500 text-right mt-1 sm:mt-1.5",children:[new Date(f.timestamp).toLocaleDateString([],{month:"short",day:"numeric"})," ",new Date(f.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},f.timestamp)}),A.jsx("div",{ref:l})]})},pn=({tutorialId:n,isActive:e,targetSelector:l,title:a,text:r,position:f="bottom",onDismiss:h,highlightTarget:p=!0,nextButtonText:y="Got it",showSkipAllButton:g=!1,onSkipAll:v,overlayClassName:_,onVisibilityChange:E})=>{const[b,I]=Y.useState(null),[V,q]=Y.useState({}),ee=Y.useRef(null),[K,X]=Y.useState(!1),te=Y.useRef(K);Y.useEffect(()=>{te.current=K},[K]),Y.useEffect(()=>{var ae;let oe=null;if(typeof l=="string"?oe=document.querySelector(l):typeof l=="function"&&(oe=l()),I(oe||null),e&&(oe||f==="center")){oe&&p&&(oe.style.position="relative",oe.style.zIndex="10001",oe.classList.add("tutorial-highlight-target"));const Z=oe?oe.getBoundingClientRect():{top:0,left:0,width:0,height:0,bottom:0,right:0},Ce=Math.min(300,window.innerWidth-32),Be=((ae=ee.current)==null?void 0:ae.offsetHeight)||(a?150:120),Ve=10;let Ee=0,Re=0;switch(f){case"top":Ee=Z.top-Be-Ve,Re=Z.left+Z.width/2-Ce/2;break;case"bottom":Ee=Z.bottom+Ve,Re=Z.left+Z.width/2-Ce/2;break;case"left":Ee=Z.top+Z.height/2-Be/2,Re=Z.left-Ce-Ve;break;case"right":Ee=Z.top+Z.height/2-Be/2,Re=Z.right+Ve;break;case"top-left":Ee=Z.top-Be-Ve,Re=Z.left;break;case"top-right":Ee=Z.top-Be-Ve,Re=Z.right-Ce;break;case"bottom-left":Ee=Z.bottom+Ve,Re=Z.left;break;case"bottom-right":Ee=Z.bottom+Ve,Re=Z.right-Ce;break;case"center":Ee=window.innerHeight/2-Be/2,Re=window.innerWidth/2-Ce/2;break}Re<Ve&&(Re=Ve),Re+Ce>window.innerWidth-Ve&&(Re=window.innerWidth-Ce-Ve),Ee<Ve&&(Ee=Ve),Ee+Be>window.innerHeight-Ve&&(Ee=window.innerHeight-Be-Ve),q({top:`${Ee}px`,left:`${Re}px`,width:`${Ce}px`}),K||(X(!0),E==null||E(n,!0)),ee.current&&ee.current.focus()}else K&&(X(!1),E==null||E(n,!1)),b&&p&&(b.style.position="",b.style.zIndex="",b.classList.remove("tutorial-highlight-target"));return()=>{oe&&p&&(oe.style.position="",oe.style.zIndex="",oe.classList.remove("tutorial-highlight-target")),te.current&&(E==null||E(n,!1))}},[e,l,f,p,a,r,n,E,K,b]);const z=()=>{h(n)};if(!e||!K)return null;const de=()=>{!g&&h&&z()};return A.jsxs(A.Fragment,{children:[(p||f==="center")&&A.jsx("div",{className:_||"fixed inset-0 bg-slate-950/80 backdrop-blur-xl z-[10000]",onClick:de}),A.jsxs("div",{ref:ee,style:{...V,backgroundColor:"rgba(109, 40, 217, 0.9)"},className:`fixed p-3 sm:p-4 backdrop-blur-lg text-slate-100 rounded-lg shadow-2xl z-[10002] border border-violet-500/70 transform transition-opacity duration-300 ease-in-out ${K?"opacity-100 animate-fadeIn":"opacity-0"}`,role:"dialog","aria-labelledby":`tutorial-title-${n}`,"aria-describedby":`tutorial-text-${n}`,tabIndex:-1,children:[a&&A.jsx("h3",{id:`tutorial-title-${n}`,className:"text-base sm:text-lg md:text-xl font-bold text-sky-300 mb-1.5 sm:mb-2",children:a}),A.jsx("p",{id:`tutorial-text-${n}`,className:"text-xs sm:text-sm md:text-base leading-relaxed text-slate-200 mb-3 sm:mb-4",children:r}),A.jsxs("div",{className:"flex flex-col xs:flex-row justify-between items-center gap-2",children:[A.jsx("button",{onClick:z,className:"w-full xs:w-auto bg-sky-500 hover:bg-sky-400 text-white font-semibold py-1.5 px-3 sm:py-2 sm:px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-sky-300 focus:ring-offset-2 focus:ring-offset-violet-700 border border-sky-400/80 text-xs sm:text-sm",children:y}),g&&v&&A.jsx("button",{onClick:v,className:"w-full xs:w-auto text-[10px] xs:text-xs text-violet-300 hover:text-violet-200 py-1.5 px-2 sm:py-2 sm:px-3 rounded-md transition-colors duration-200 hover:bg-violet-600/70",children:"Skip All Tutorials"})]})]})]})},QR=({isOpen:n,onClose:e,evidenceList:l,selectedEvidenceId:a,onSelectEvidence:r,showTutorial:f,onDismissTutorial:h,apiKeyAvailable:p,onTutorialVisibilityChange:y,onSkipAllTutorials:g})=>{if(!n)return null;const v=l.find(I=>I.id===a),[_,E]=Y.useState(!1);Y.useEffect(()=>{E(!1)},[v]);const b=()=>{E(!0)};return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"evidence-modal-title",children:A.jsxs("div",{id:"evidence-modal-content",className:"glassmorphic-surface p-3 sm:p-4 md:p-6 rounded-xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col border border-violet-500/50",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"evidence-modal-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-violet-400",children:"🔍 Clue Checker"}),A.jsx("button",{onClick:e,className:"text-slate-400 hover:text-violet-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors","aria-label":"Close clue checker",children:"×"})]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4 flex-grow overflow-hidden min-h-0",children:[A.jsxs("div",{className:"md:w-1/3 bg-slate-800/50 backdrop-blur-sm p-2 sm:p-3 rounded-lg border border-slate-700/60 overflow-y-auto h-48 md:h-auto",children:[A.jsx("h3",{className:"text-base sm:text-lg font-semibold text-violet-300 mb-2 sm:mb-3 sticky top-0 bg-slate-800/80 backdrop-blur-sm pb-1.5 sm:pb-2 z-10",children:"Clues We Have:"}),l.length===0?A.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"No clues yet!"}):A.jsx("ul",{className:"space-y-1.5 sm:space-y-2",children:l.map(I=>A.jsx("li",{children:A.jsxs("button",{className:`w-full text-left p-2 sm:p-3 rounded-md transition-all duration-200 text-xs sm:text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-slate-800 ${a===I.id?"bg-violet-600/80 text-white shadow-lg scale-102 sm:scale-105 border-violet-500":"bg-slate-700/60 hover:bg-violet-500/50 hover:text-white border-slate-600"} border`,onClick:()=>r(I.id),"aria-pressed":a===I.id,children:[I.title," ",A.jsxs("span",{className:"text-[10px] xs:text-xs opacity-70 block capitalize",children:["(",I.type.replace("_"," "),")"]})]})},I.id))})]}),A.jsx("div",{className:"md:w-2/3 bg-slate-800/50 backdrop-blur-sm p-3 sm:p-4 rounded-lg border border-slate-700/60 overflow-y-auto h-64 md:h-auto",children:v?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-violet-300 mb-1.5 sm:mb-2",children:v.title}),A.jsxs("p",{className:"text-xs sm:text-sm text-slate-400 mb-1 capitalize",children:["Type of clue: ",v.type.replace("_"," ")]}),A.jsx("p",{className:"text-slate-200 mb-3 sm:mb-4 whitespace-pre-wrap leading-relaxed text-xs sm:text-sm md:text-base",children:v.description}),(v.type==="graph"||v.type==="image")&&(v.content.startsWith("https://")?_?A.jsxs("div",{className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-red-600/70 my-2 sm:my-3 shadow-md bg-red-200/10 p-4 text-center",children:[A.jsx("p",{className:"text-red-700 font-semibold",children:"Image Preview Unavailable"}),A.jsxs("p",{className:"text-xs text-red-600",children:["Could not load image from: ",A.jsx("br",{}),A.jsx("span",{className:"break-all",children:v.content})]})]}):A.jsx("img",{src:v.content,alt:v.title,className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-slate-600/70 my-2 sm:my-3 shadow-md bg-slate-200/10 p-1",onError:b}):v.content.trim().toLowerCase().startsWith("<svg")?A.jsx("div",{className:"w-full max-w-full sm:max-w-md mx-auto h-auto rounded-lg border border-slate-600/70 my-2 sm:my-3 shadow-md p-1 sm:p-2 bg-slate-800/30 flex justify-center items-center overflow-hidden",style:{minHeight:"100px",maxHeight:"400px"},children:A.jsx("div",{dangerouslySetInnerHTML:{__html:v.content},className:"w-full h-full object-contain max-h-[380px]"})}):A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700",children:A.jsxs("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed font-mono text-[10px] xs:text-xs sm:text-sm",children:['Raw content: "',v.content,'"']})})),v.type==="data_table"&&A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700 max-h-60 sm:max-h-72 overflow-y-auto",children:A.jsx("pre",{className:"text-[10px] xs:text-xs sm:text-sm text-slate-300 whitespace-pre-wrap",children:JSON.stringify(JSON.parse(v.content),null,2)})}),(v.type==="document"||v.type==="statement"||v.type==="video_snippet")&&A.jsx("div",{className:"bg-slate-900/70 p-2 sm:p-3 rounded-md my-2 sm:my-3 border border-slate-700",children:A.jsx("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed text-xs sm:text-sm md:text-base",children:v.content})}),v.isFlawed&&A.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-red-900/40 backdrop-blur-sm border border-red-700/60 rounded-lg shadow-inner",children:[A.jsx("h4",{className:"font-semibold text-red-300 text-sm sm:text-base",children:"Hmm, something's fishy..."}),A.jsx("p",{className:"text-red-200 text-xs sm:text-sm leading-relaxed",children:v.flawDescription})]})]}):A.jsx("p",{className:"text-slate-400 text-center flex items-center justify-center h-full text-base sm:text-lg",children:"Pick a clue from the list to see it!"})})]}),A.jsx("button",{onClick:e,className:"mt-4 sm:mt-6 w-full sm:w-auto self-center bg-violet-600 hover:bg-violet-700/80 text-white font-semibold py-2 sm:py-2.5 px-5 sm:px-6 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-violet-400 focus:ring-offset-2 focus:ring-offset-slate-800 text-sm sm:text-base border border-violet-500/70",children:"Done Looking at Clues"}),f&&h&&A.jsx(pn,{tutorialId:W.EVIDENCE_MODAL_INTRO,isActive:f,targetSelector:"#evidence-modal-content",title:"Clue Checker",text:"Here you can look at all the clues. Pick a clue from the list on the left to see more about it on the right. See if any clues are tricky!",position:"center",onDismiss:h,highlightTarget:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:y,showSkipAllButton:!0,onSkipAll:g})]})})},WR=({isOpen:n,onClose:e,onSubmitProof:l,isLoading:a,showTutorial:r,onDismissTutorial:f,onTutorialVisibilityChange:h,onSkipAllTutorials:p})=>{const[y,g]=Y.useState("");if(!n)return null;const v=()=>{y.trim()&&!a&&l(y)};return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"proof-board-title",children:A.jsxs("div",{id:"proof-board-modal-content",className:"glassmorphic-surface p-4 sm:p-5 md:p-6 rounded-xl shadow-2xl max-w-2xl w-full border border-emerald-500/50 max-h-[95vh] sm:max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"proof-board-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-emerald-400",children:"💡 My Story Board"}),A.jsx("button",{onClick:e,disabled:a,className:"text-slate-400 hover:text-emerald-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors disabled:opacity-50","aria-label":"Close story board",children:"×"})]}),A.jsx("p",{className:"text-slate-300 mb-3 sm:mb-4 text-xs sm:text-sm md:text-base leading-relaxed",children:"Tell your story here to help your friend! Say why they are good and not naughty. You can use Clue names (like Picture A)."}),A.jsx("textarea",{value:y,onChange:_=>g(_.target.value),placeholder:`For example:
1. The Rule Book (Clue C) says lines should be straight.
2. Picture B has some mixed-up numbers. If we fix them, the line is straight!
3. Picture A is a tricky drawing.
4. So, my friend Straighty the Line is good and straight!`,className:"w-full h-48 sm:h-56 md:h-60 p-2.5 sm:p-3 bg-slate-800/60 text-slate-100 border border-slate-600/70 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none shadow-inner text-xs sm:text-sm md:text-base leading-relaxed flex-grow backdrop-blur-sm",disabled:a,"aria-label":"Tell your story here"}),A.jsxs("div",{className:"mt-4 sm:mt-6 flex flex-col xs:flex-row justify-end space-y-2 xs:space-y-0 xs:space-x-3",children:[A.jsx("button",{onClick:e,disabled:a,className:"px-4 py-2 sm:px-5 sm:py-2.5 bg-slate-600/70 hover:bg-slate-500/70 text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg border border-slate-500/60 text-xs sm:text-sm",children:"Cancel"}),A.jsx("button",{onClick:v,disabled:!y.trim()||a,className:"px-5 py-2 sm:px-6 sm:py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg flex items-center justify-center border border-emerald-500/80 text-xs sm:text-sm",children:a?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 sm:mr-3 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Telling The Judge..."]}):"Tell The Judge!"})]}),r&&f&&A.jsx(pn,{tutorialId:W.PROOF_BOARD_MODAL_INTRO,isActive:r,targetSelector:"#proof-board-modal-content",title:"Tell Your Story",text:"This is your Story Board. Type why your friend is good. Use easy words and talk about the clues you found!",position:"center",onDismiss:f,highlightTarget:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:h,showSkipAllButton:!0,onSkipAll:p})]})})},hs=({heading:n,subheading:e})=>A.jsxs("div",{className:"flex flex-col justify-center items-center p-4 sm:p-6 my-4","aria-live":"polite","aria-busy":"true",children:[A.jsxs("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-dashed rounded-full animate-spin border-sky-500",children:[" ",A.jsx("div",{className:"w-full h-full rounded-full border-4 border-dashed animate-spin-reverse border-sky-300 opacity-75"})," "]}),A.jsx("p",{className:"mt-3 sm:mt-4 text-base sm:text-lg md:text-xl font-semibold text-sky-300 tracking-wider text-center",children:n})," ",A.jsx("p",{className:"text-xs sm:text-sm text-slate-400 text-center",children:e})]}),pi=["irrelevant","not relevant","unrelated","doesn't apply","off-topic","doesn't address the point","fails to address","not pertinent"],jR=({caseData:n,onConcludeCase:e,apiKeyAvailable:l,isTutorialStepComplete:a,markTutorialStepAsComplete:r,allTutorialsSkipped:f,currentLevel:h,onSkipAll:p})=>{const[y,g]=Y.useState(re.TRIAL_INTRO),[v,_]=Y.useState([]),[E,b]=Y.useState(!1),[I,V]=Y.useState(null),[q,ee]=Y.useState(!1),[K,X]=Y.useState(null),[te,z]=Y.useState(!1),[de,pe]=Y.useState(""),[oe,ae]=Y.useState(!1),[Z,Ce]=Y.useState(!1),[Be,Ve]=Y.useState(0),[Ee,Re]=Y.useState(n.caseDurationMinutes*60),U=Y.useRef(null),[$,me]=Y.useState(new Set),Le=Y.useRef(e),x=Y.useRef(null),G=Y.useRef(y),J=Y.useRef(a),L=Y.useRef(null),ne=Y.useRef(g),Oe=Y.useCallback((se,Se)=>{_(Te=>[...Te,{speaker:se,text:Se,timestamp:Date.now()}]),V(se)},[]);Y.useEffect(()=>{x.current=Oe},[Oe]),Y.useEffect(()=>{Le.current=e},[e]),Y.useEffect(()=>{G.current=y},[y]),Y.useEffect(()=>{J.current=a},[a]),Y.useEffect(()=>{ne.current=g},[g]);const ce=Y.useCallback((se,Se)=>{me(Te=>{const nt=new Set(Te);return Se?nt.add(se):nt.delete(se),nt})},[]),He=Y.useCallback(se=>h===1&&!f&&!a(se),[h,f,a]);Y.useEffect(()=>{L.current=He},[He]);const Me=se=>new Promise(Se=>setTimeout(Se,se));Y.useEffect(()=>{Re(n.caseDurationMinutes*60)},[n.caseDurationMinutes,n.id]),Y.useEffect(()=>{const se=(y===re.PLAYER_ACTION||y===re.PLAYER_OBJECTION_INPUT)&&!E;if($.size>0){U.current&&(clearInterval(U.current),U.current=null);return}return se&&Ee>0?U.current||(U.current=window.setInterval(()=>{Re(Se=>{var Te;return Se<=1?(U.current&&clearInterval(U.current),U.current=null,G.current!==re.VERDICT&&((Te=x.current)==null||Te.call(x,F.NARRATOR,"Oh no! Time's up!"),Le.current("The Judge says time ran out! Better luck next time!","timeup")),0):Se-1})},1e3)):U.current&&(clearInterval(U.current),U.current=null),()=>{U.current&&(clearInterval(U.current),U.current=null)}},[y,E,Ee,$]),Y.useEffect(()=>{const se=y===re.PLAYER_ACTION&&l&&!E;Ve(Se=>se&&Se%2===0||!se&&Se%2===1?Se+1:Se)},[y,l,E]);const Q=Y.useRef(!1);Y.useEffect(()=>{(async()=>{var Se,Te,nt,Ke,Rt,ht,Ye;if(!(y!==re.TRIAL_INTRO||!l||Q.current)){if(Q.current=!0,!l&&v.length===0){(Se=x.current)==null||Se.call(x,F.NARRATOR,Wu+" The game can't fully work like this. Some characters can't talk!"),Q.current=!1;return}if((Te=L.current)!=null&&Te.call(L,W.COURTROOM_WELCOME)){Q.current=!1;return}if(v.filter(rt=>rt.speaker===F.NARRATOR&&rt.text.startsWith("Let's start the game")).length===0&&((nt=x.current)==null||nt.call(x,F.NARRATOR,`Let's start the game for: ${n.title}! The ${F.JUDGE} is here to listen.`),await Me(1200)),(Ke=L.current)!=null&&Ke.call(L,W.COURTROOM_CHARACTERS)){Q.current=!1;return}if(v.filter(rt=>rt.speaker===F.JUDGE&&rt.text.includes("you can start.")).length===0&&((Rt=x.current)==null||Rt.call(x,F.JUDGE,`Okay everyone, quiet please! We're going to talk about ${n.clientName}. ${F.PROSECUTOR}, you can start.`),await Me(1800)),(ht=L.current)!=null&&ht.call(L,W.COURTROOM_DIALOGUE_BOX)){Q.current=!1;return}if(J.current(W.COURTROOM_DIALOGUE_BOX)&&((Ye=L.current)!=null&&Ye.call(L,W.COURTROOM_TIMER_INTRO))){Q.current=!1;return}ne.current(re.PROSECUTOR_ARGUMENT)}})()},[y,n.title,n.clientName,l,a,He,v.length]),Y.useEffect(()=>{y!==re.TRIAL_INTRO&&(Q.current=!1)},[y]),Y.useEffect(()=>{var Te,nt,Ke,Rt;if(((Te=L.current)==null?void 0:Te.call(L,W.COURTROOM_WELCOME))||((nt=L.current)==null?void 0:nt.call(L,W.COURTROOM_CHARACTERS))&&J.current(W.COURTROOM_WELCOME)||((Ke=L.current)==null?void 0:Ke.call(L,W.COURTROOM_DIALOGUE_BOX))&&J.current(W.COURTROOM_CHARACTERS)||((Rt=L.current)==null?void 0:Rt.call(L,W.COURTROOM_TIMER_INTRO))&&J.current(W.COURTROOM_DIALOGUE_BOX))return;(async()=>{var ht;if(y===re.PROSECUTOR_ARGUMENT&&l){b(!0),V(F.PROSECUTOR);const Ye=v.filter(Ae=>Ae.speaker===F.PROSECUTOR).length===0;let rt="The player is waiting for your next argument or reaction.";const en=v.slice(-4),Pt=en.find(Ae=>Ae.speaker===F.DEFENSE_PLAYER&&(Ae.text.toLowerCase().startsWith("judge, here's why my friend is good:")||Ae.text.toLowerCase().startsWith("wait, judge!"))),Ot=en.find(Ae=>Ae.speaker===F.JUDGE),We=en.find(Ae=>Ae.speaker===F.NARRATOR&&(Ae.text.includes("Judge found your argument irrelevant")||Ae.text.includes("Judge found issues with your mathematical reasoning")||Ae.text.includes("Judge didn't find your objection strong enough")));if(Pt&&Ot&&We){const Ae=Pt.text.substring(Pt.text.indexOf(":")+1).trim();We.text.includes("irrelevant")?rt=`The Defense Counsel just made an argument that the Judge found completely irrelevant! They said: "${Ae.substring(0,Math.min(70,Ae.length))}...". What's your take on their irrelevant distraction, Prosecutor? Press your advantage and reiterate the mathematical facts of the case!`:We.text.includes("issues with your mathematical reasoning")?rt=`The Defense Counsel just made a mathematically flawed argument! The Judge pointed out issues. They said: "${Ae.substring(0,Math.min(70,Ae.length))}...". Prosecutor, emphasize their error and strengthen your case based on correct mathematics!`:We.text.includes("Judge didn't find your objection strong enough")&&(rt=`The Defense Counsel just made an objection which the Judge did not find strong enough to alter the course of the trial. They said: "${Ae.substring(0,Math.min(70,Ae.length))}...". Prosecutor, continue with your argument, re-emphasizing the mathematical facts.`)}const Tt=Ye?n.initialProsecutionArgument:await JR(n,rt,v.map(Ae=>`${Ae.speaker}: ${Ae.text}`).join(`
`));(ht=x.current)==null||ht.call(x,F.PROSECUTOR,Tt),b(!1),await Me(1e3),ne.current(re.CO_COUNSEL_ADVICE)}})()},[y,n,l,v]),Y.useEffect(()=>{var Te,nt,Ke,Rt;if(((Te=L.current)==null?void 0:Te.call(L,W.COURTROOM_WELCOME))||((nt=L.current)==null?void 0:nt.call(L,W.COURTROOM_CHARACTERS))&&J.current(W.COURTROOM_WELCOME)||((Ke=L.current)==null?void 0:Ke.call(L,W.COURTROOM_DIALOGUE_BOX))&&J.current(W.COURTROOM_CHARACTERS)||((Rt=L.current)==null?void 0:Rt.call(L,W.COURTROOM_TIMER_INTRO))&&J.current(W.COURTROOM_DIALOGUE_BOX))return;(async()=>{var ht;if(y===re.CO_COUNSEL_ADVICE&&l){b(!0),V(F.CO_COUNSEL);const Ye=v.filter(pt=>pt.speaker===F.PROSECUTOR),rt=Ye.length>0?Ye[Ye.length-1].text:"The Silly Prosecutor just said something.",en=v.filter(pt=>pt.speaker===F.CO_COUNSEL).length===0;let Pt=`The ${F.PROSECUTOR} said: "${rt}". What should we do, Super Helper?`;const Ot=v.slice(-5),We=Ot.find(pt=>pt.speaker===F.DEFENSE_PLAYER&&(pt.text.toLowerCase().startsWith("judge, here's why my friend is good:")||pt.text.toLowerCase().startsWith("wait, judge!"))),Tt=Ot.find(pt=>pt.speaker===F.JUDGE),Ae=Ye.length>0&&(Ye[Ye.length-1].text.toLowerCase().includes("irrelevant")||Ye[Ye.length-1].text.toLowerCase().includes("distraction")||Ye[Ye.length-1].text.toLowerCase().includes("flawed")||Ye[Ye.length-1].text.toLowerCase().includes("incorrect")||Ye[Ye.length-1].text.toLowerCase().includes("failed attempt"));We&&Tt&&Ae&&(Tt.text.toLowerCase().includes("irrelevant")?Pt=`Captain, your last argument was found irrelevant by the Judge, and the Prosecutor is capitalizing on it. The Prosecutor just said: "${rt}". We *must* get back on track! What's a focused, *relevant* mathematical point we can make about "${n.accusation}" using concepts like ${n.keyConcepts.join(", ")}?`:Pt=`Captain, the Judge found issues with our last mathematical argument (or it wasn't strong enough), and the Prosecutor is pouncing on it: "${rt}". Let's carefully review the math for "${n.accusation}" related to ${n.keyConcepts.join(", ")}. Where could the error be, or how can we make a stronger point?`);const Rn=en?n.initialCoCounselHint:await ZR(n,Pt,v.map(pt=>`${pt.speaker}: ${pt.text}`).join(`
`));(ht=x.current)==null||ht.call(x,F.CO_COUNSEL,Rn),b(!1),await Me(1e3),ne.current(re.PLAYER_ACTION),V(null)}})()},[y,n,l,v]),Y.useEffect(()=>{$R()},[n.id]);const at=se=>{var Se,Te;switch(se){case"evidence_terminal":ee(!0),n.evidence.length>0&&!K&&X(n.evidence[0].id),(Se=L.current)!=null&&Se.call(L,W.EVIDENCE_MODAL_INTRO)&&ae(!0);break;case"proof_board":z(!0),(Te=L.current)!=null&&Te.call(L,W.PROOF_BOARD_MODAL_INTRO)&&Ce(!0);break;case"objection_system":g(re.PLAYER_OBJECTION_INPUT);break}},lt=async()=>{var Ot,We,Tt,Ae,Rn,pt,ft;if(!de.trim()||!l)return;(Ot=L.current)!=null&&Ot.call(L,W.COURTROOM_OBJECTION_INPUT)&&r(W.COURTROOM_OBJECTION_INPUT),(We=x.current)==null||We.call(x,F.DEFENSE_PLAYER,`Wait, Judge! ${de}`),b(!0),V(F.JUDGE);const se=de;pe("");const Se=v.filter(je=>je.speaker===F.PROSECUTOR),Te=Se.length>0?Se[Se.length-1].text:"what the Silly Prosecutor just said",nt=await Wp(n,se,`The Defense Counsel objects to "${Te}" with the reason: "${se}"`,h);(Tt=x.current)==null||Tt.call(x,F.JUDGE,nt),await Me(1500);const Ke=nt.toLowerCase(),Rt=["sound mathematical argument","application is correct","that explains it","that is correct","proves the point","valid reasoning","accurately identifies","well argued","convincing","successfully demonstrates","i agree","persuasive","clearly shows","evidence supports this","mathematically sound and relevant","decisive point"],ht=["not sure","doesn't help","not quite","confusing","doesn't make sense","still not clear","incorrect","flaw","fails to demonstrate","misses the point","mathematically unsound","not convinced","insufficient","error in reasoning","overruled","i don't see the issue","prosecutor may continue","not relevant here"];let Ye=!1;for(const je of Rt)if(Ke.includes(je)&&!pi.some(Fn=>Ke.includes(Fn))&&!ht.some(Fn=>Ke.includes(Fn))){Ye=!0;break}if(Rt.some(je=>Ke.includes(je))&&(!pi.some(je=>Ke.includes(je))&&!ht.some(je=>Ke.includes(je))&&(Ye=!0),(Ke.includes("overruled")||Ke.includes("not relevant here")||pi.some(je=>Ke.includes(je)))&&(Ye=!1)),Ye){(Ae=x.current)==null||Ae.call(x,F.JUDGE,`This objection is so compelling, it clarifies the entire matter! ${n.innocentVerdictIfPlayerSucceeds}`),await Me(1200),(Rn=x.current)==null||Rn.call(x,F.NARRATOR,"Incredible! Your sharp objection has won the case!"),b(!1),V(null),ne.current(re.VERDICT),await Me(1e3),Le.current(n.innocentVerdictIfPlayerSucceeds,"normal");return}const rt=["sustained","you have a point","that's a fair objection","i agree with the defense","point taken"],en=["overruled","i don't see the issue","prosecutor may continue","not relevant here","disagree"];let Pt=!1;rt.some(je=>Ke.includes(je))&&!en.some(je=>Ke.includes(je))&&!pi.some(je=>Ke.includes(je))&&(Pt=!0),b(!1),V(null),await Me(1e3),Pt?((pt=x.current)==null||pt.call(x,F.NARRATOR,"Your objection was noted and makes a good point! It's your turn to act again."),ne.current(re.PLAYER_ACTION)):((ft=x.current)==null||ft.call(x,F.NARRATOR,"The Judge didn't find your objection strong enough to change the course. The Prosecutor continues."),ne.current(re.PROSECUTOR_ARGUMENT))},Dt=async se=>{var rt,en,Pt,Ot,We,Tt,Ae,Rn,pt;if((rt=L.current)!=null&&rt.call(L,W.PROOF_BOARD_MODAL_INTRO)&&r(W.PROOF_BOARD_MODAL_INTRO),(en=x.current)==null||en.call(x,F.DEFENSE_PLAYER,`Judge, here's why my friend is good: ${se}`),z(!1),b(!0),V(F.JUDGE),!l){(Pt=x.current)==null||Pt.call(x,F.JUDGE,"About your story: Because of a sleepy computer, I can't decide for sure. But you tried your best!"),b(!1),V(null),(Ot=x.current)==null||Ot.call(x,F.NARRATOR,"The Judge is having trouble hearing due to a technical issue. Please try presenting your argument again when the connection is restored."),ne.current(re.PLAYER_ACTION);return}const Se=await Wp(n,se,"You (The Hero) are telling the final story to help your friend.",h);(We=x.current)==null||We.call(x,F.JUDGE,`About your story: ${Se}`),await Me(2200);const Te=Se.toLowerCase();let nt=!1,Ke=!1,Rt=!1;const ht=["not sure","doesn't help","not quite","confusing","doesn't make sense","still not clear","incorrect","flaw","fails to demonstrate","misses the point","mathematically unsound","not convinced","insufficient","error in reasoning"],Ye=["sound mathematical argument","application is correct","that explains it","that is correct","proves the point","valid reasoning","accurately identifies","well argued","convincing","successfully demonstrates","i agree","persuasive","clearly shows","evidence supports this","mathematically sound and relevant"];for(const ft of Ye)if(Te.includes(ft)&&!pi.some(je=>Te.includes(je))&&!ht.some(je=>Te.includes(je))){nt=!0;break}if(Ye.some(ft=>Te.includes(ft))&&(!pi.some(ft=>Te.includes(ft))&&!ht.some(ft=>Te.includes(ft))&&(nt=!0),pi.some(ft=>Te.includes(ft))&&(nt=!1)),nt){const ft=n.innocentVerdictIfPlayerSucceeds;(Tt=x.current)==null||Tt.call(x,F.JUDGE,`Okay, I've thought about it... ${ft}`),b(!1),ne.current(re.VERDICT),V(null),await Me(2e3),Le.current(ft,"normal");return}for(const ft of pi)if(Te.includes(ft)){Ke=!0;break}if(Ke){(Ae=x.current)==null||Ae.call(x,F.NARRATOR,"The Judge found your argument irrelevant to the case! The Silly Prosecutor gets another chance to speak. Try to make your next argument directly answer the accusation about the math!"),b(!1),V(null),await Me(2500),ne.current(re.PROSECUTOR_ARGUMENT);return}for(const ft of ht)if(Te.includes(ft)){Rt=!0;break}if(Rt){(Rn=x.current)==null||Rn.call(x,F.NARRATOR,"The Judge found issues with your mathematical reasoning. The Silly Prosecutor will respond. Try to address the mathematical error or explain your point more clearly!"),b(!1),V(null),await Me(2500),ne.current(re.PROSECUTOR_ARGUMENT);return}(pt=x.current)==null||pt.call(x,F.NARRATOR,"The Judge seems unconvinced by your argument or needs more clarity. The Silly Prosecutor gets to speak. Try to refine your mathematical explanation or present a stronger point!"),b(!1),V(null),await Me(2500),ne.current(re.PROSECUTOR_ARGUMENT)};xh.map(se=>({id:se.tutorialId,target:`[data-tool-id="${se.id}"]`,text:`Use the ${se.name} ${se.icon} to ${se.description.toLowerCase().replace(".","")}.`})).find(se=>He(se.id));const Vt=se=>{const Se=Math.floor(se/60),Te=se%60;return`${Se}:${Te<10?"0":""}${Te}`};return A.jsxs("div",{className:"courtroom-gradient-bg flex-grow flex flex-col p-2 sm:p-3 md:p-4 relative w-full overflow-hidden",children:[A.jsx("div",{id:"timer-display-area","data-tutorial-target-id":"courtroom-timer",className:"absolute top-2 sm:top-3 right-2 sm:right-4 glassmorphic-surface p-2 sm:p-2.5 rounded-lg shadow-xl border border-amber-500/50 z-10",children:A.jsx("p",{className:"text-amber-300 text-lg sm:text-xl md:text-2xl font-bold tracking-wider tabular-nums",children:Vt(Ee)})}),A.jsxs("div",{id:"character-display-area",className:"grid grid-cols-2 sm:grid-cols-4 gap-1.5 sm:gap-2 md:gap-3 mb-2 sm:mb-3 mt-1 sm:mt-0",children:[A.jsx(cs,{role:F.JUDGE,isSpeaking:I===F.JUDGE}),A.jsx(cs,{role:F.PROSECUTOR,isSpeaking:I===F.PROSECUTOR}),A.jsx(cs,{role:F.CO_COUNSEL,isSpeaking:I===F.CO_COUNSEL}),A.jsx(cs,{role:F.CLIENT,isSpeaking:I===F.CLIENT})]}),A.jsx("div",{id:"dialogue-box-area",className:"mb-3 sm:mb-4 flex-grow min-h-0",children:A.jsx(KR,{dialogues:v,currentSpeaker:I})}),E&&A.jsx("div",{className:"py-4",children:A.jsx(hs,{heading:"Deliberating...",subheading:"The court is processing the information."})}),!E&&l&&(y===re.PLAYER_ACTION||y===re.PLAYER_OBJECTION_INPUT)&&A.jsxs("div",{id:"player-actions-area","data-tutorial-target-id":"player-actions-area",className:"glassmorphic-surface p-2.5 sm:p-3 md:p-4 rounded-xl shadow-lg border border-slate-700/60",children:[A.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-semibold text-emerald-400 mb-2 sm:mb-3 text-center",children:"Your Turn!"}),y===re.PLAYER_ACTION&&A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:xh.map(se=>A.jsxs("button",{"data-tool-id":se.id,onClick:()=>at(se.id),className:"w-full bg-sky-600/50 hover:bg-sky-500/60 backdrop-blur-sm text-white font-semibold py-2.5 sm:py-3 px-3 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 flex items-center justify-center space-x-1.5 sm:space-x-2 text-xs sm:text-sm md:text-base border border-sky-500/70",title:se.description,disabled:E,children:[A.jsx("span",{className:"text-lg sm:text-xl",children:se.icon}),A.jsx("span",{children:se.name})]},se.id))}),y===re.PLAYER_OBJECTION_INPUT&&A.jsxs("div",{className:"flex flex-col items-center space-y-2.5 sm:space-y-3",children:[A.jsx("textarea",{id:"objection-textarea","data-tutorial-target-id":"objection-textarea",value:de,onChange:se=>pe(se.target.value),placeholder:"State your objection clearly... (focus on the math!)",className:"w-full max-w-xl p-2 sm:p-2.5 bg-slate-800/70 text-slate-100 border border-slate-600/80 rounded-lg focus:ring-2 focus:ring-amber-500 shadow-inner backdrop-blur-sm text-xs sm:text-sm",rows:3,"aria-label":"State your objection",disabled:E}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full max-w-xl justify-center sm:justify-end",children:[A.jsx("button",{onClick:()=>{g(re.PLAYER_ACTION)},disabled:E,className:"bg-slate-600/70 hover:bg-slate-500/70 text-white font-semibold py-2 px-4 sm:py-2.5 sm:px-5 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg disabled:opacity-50 border border-slate-500/60 text-xs sm:text-sm","aria-label":"Cancel objection",children:"Never Mind"}),A.jsx("button",{onClick:lt,disabled:!de.trim()||E,className:"bg-red-600/70 hover:bg-red-500/70 text-white font-bold py-2 px-4 sm:py-2.5 sm:px-5 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg border border-red-500/60 text-xs sm:text-sm",children:"Object!"})]})]})]}),!l&&!E&&A.jsxs("div",{className:"glassmorphic-surface bg-red-800/30 p-3 sm:p-4 rounded-lg shadow-xl border border-red-600/50 text-center",children:[A.jsx("p",{className:"text-lg sm:text-xl font-semibold text-red-300 mb-2",children:Wu}),A.jsx("p",{className:"text-slate-200 text-sm sm:text-base mb-3",children:"The AI characters can't participate without the API Key. Please notify an administrator."}),A.jsx("button",{onClick:()=>Le.current("Game Over - API Key missing.","normal"),className:"mt-2 bg-amber-500/70 hover:bg-amber-600/70 text-slate-900 font-bold py-2 sm:py-2.5 px-4 sm:px-5 rounded-lg shadow-md hover:shadow-lg transition-colors border border-amber-400/60 text-sm sm:text-base",children:"End Game"})]}),h===1&&!f&&A.jsxs(A.Fragment,{children:[He(W.COURTROOM_WELCOME)&&y===re.TRIAL_INTRO&&v.length===0&&A.jsx(pn,{tutorialId:W.COURTROOM_WELCOME,isActive:!0,targetSelector:()=>document.querySelector(".courtroom-gradient-bg"),title:"Welcome to the Courtroom!",text:"The game is starting! Listen to what everyone says and look at the clues.",position:"center",onDismiss:()=>r(W.COURTROOM_WELCOME),onSkipAll:p,showSkipAllButton:!0,highlightTarget:!1,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce}),He(W.COURTROOM_CHARACTERS)&&y===re.TRIAL_INTRO&&v.some(se=>se.speaker===F.NARRATOR&&se.text.startsWith("Let's start the game"))&&A.jsx(pn,{tutorialId:W.COURTROOM_CHARACTERS,isActive:!0,targetSelector:"#character-display-area",title:"Who's Who?",text:"These are the characters. The one talking will light up!",position:"bottom",onDismiss:()=>r(W.COURTROOM_CHARACTERS),onSkipAll:p,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),He(W.COURTROOM_DIALOGUE_BOX)&&y===re.TRIAL_INTRO&&v.some(se=>se.speaker===F.JUDGE&&se.text.includes("you can start."))&&A.jsx(pn,{tutorialId:W.COURTROOM_DIALOGUE_BOX,isActive:!0,targetSelector:"#dialogue-box-area",title:"Talking Box!",text:"Everyone's words show up here. Read what they say!",position:"top",onDismiss:()=>r(W.COURTROOM_DIALOGUE_BOX),onSkipAll:p,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),He(W.COURTROOM_TIMER_INTRO)&&y===re.TRIAL_INTRO&&a(W.COURTROOM_DIALOGUE_BOX)&&A.jsx(pn,{tutorialId:W.COURTROOM_TIMER_INTRO,isActive:!0,targetSelector:"#timer-display-area",title:"Time is Ticking!",text:"Watch the timer! You need to solve the case before it runs out. It starts when it's your turn!",position:"center",onDismiss:()=>r(W.COURTROOM_TIMER_INTRO),onSkipAll:p,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),Be>=3&&He(W.COURTROOM_PLAYER_ACTIONS_INTRO)&&y===re.PLAYER_ACTION&&a(W.COURTROOM_TIMER_INTRO)&&A.jsx(pn,{tutorialId:W.COURTROOM_PLAYER_ACTIONS_INTRO,isActive:!0,targetSelector:"[data-tutorial-target-id='player-actions-area']",title:"Your Turn!",text:"Now it's your turn! Use the buttons below.",position:"top",onDismiss:()=>r(W.COURTROOM_PLAYER_ACTIONS_INTRO),onSkipAll:p,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0}),He(W.COURTROOM_OBJECTION_INPUT)&&y===re.PLAYER_OBJECTION_INPUT&&A.jsx(pn,{tutorialId:W.COURTROOM_OBJECTION_INPUT,isActive:!0,targetSelector:"[data-tutorial-target-id='objection-textarea']",title:"Say 'Wait a Minute!'",text:"Type why you think the Silly Prosecutor is wrong. Use easy words!",position:"top",onDismiss:()=>r(W.COURTROOM_OBJECTION_INPUT),onSkipAll:p,showSkipAllButton:!0,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",onVisibilityChange:ce,highlightTarget:!0})]}),A.jsx(QR,{isOpen:q,onClose:()=>{ee(!1),ae(!1)},evidenceList:n.evidence,selectedEvidenceId:K,onSelectEvidence:X,apiKeyAvailable:l,showTutorial:oe&&He(W.EVIDENCE_MODAL_INTRO),onDismissTutorial:()=>{r(W.EVIDENCE_MODAL_INTRO),ae(!1)},onTutorialVisibilityChange:ce,onSkipAllTutorials:p}),A.jsx(WR,{isOpen:te,onClose:()=>{z(!1),Ce(!1)},onSubmitProof:Dt,isLoading:E,showTutorial:Z&&He(W.PROOF_BOARD_MODAL_INTRO),onDismissTutorial:()=>{r(W.PROOF_BOARD_MODAL_INTRO),Ce(!1)},onTutorialVisibilityChange:ce,onSkipAllTutorials:p})]})},Qu=({currentLevel:n,onToggleLearningsModal:e,showLearningsTutorial:l,onDismissLearningsTutorial:a,learningsCount:r,currentUser:f,onLogout:h,onHeaderAuthAction:p})=>A.jsxs("header",{className:"py-3 px-4 sm:py-4 sm:px-6 bg-slate-900/70 backdrop-blur-md shadow-lg border-b border-slate-700/50 sticky top-0 z-40 glassmorphic-surface",children:[A.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:justify-between sm:items-center w-full",children:[A.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight mb-3 sm:mb-0 text-center sm:text-left",children:A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-violet-500",children:"Algebradiction"})}),A.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3 md:space-x-4 mt-2 sm:mt-0",children:[f&&A.jsxs(A.Fragment,{children:[A.jsxs("button",{id:"my-learnings-button",onClick:e,className:`w-full sm:w-auto px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center justify-center space-x-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 glassmorphic-surface hover:bg-slate-700/60 ${r>0?"border-sky-500/70 text-sky-300 hover:shadow-sky-500/30":"border-slate-600/80 text-slate-300 hover:shadow-slate-500/20"} shadow-md hover:shadow-lg`,"aria-label":"Open my learnings",children:[A.jsx("span",{role:"img","aria-hidden":"true",className:"text-base sm:text-lg",children:"📖"}),A.jsx("span",{className:"hidden sm:inline ml-1",children:"Learnings"})]}),A.jsxs("div",{className:"text-center sm:text-right",children:[" ",A.jsxs("p",{className:"text-xs sm:text-sm text-slate-400 truncate max-w-[200px] sm:max-w-[180px] md:max-w-none",children:["Welcome, ",f,"!"]}),A.jsxs("p",{className:"text-base sm:text-lg font-bold text-amber-400",children:["Level: ",n]})]}),A.jsx("button",{onClick:h,className:"w-full sm:w-auto px-2 py-1.5 sm:px-3 sm:py-2 bg-red-600/70 backdrop-blur-sm hover:bg-red-500/70 text-white rounded-lg text-xs sm:text-sm font-semibold transition-colors duration-200 shadow-md hover:shadow-lg border border-red-500/50","aria-label":"Logout",children:"Logout"})]}),!f&&A.jsx("button",{onClick:p,className:"w-full sm:w-auto px-3 py-2 bg-violet-600/70 backdrop-blur-sm hover:bg-violet-500/70 text-white rounded-lg text-sm sm:text-base font-semibold transition-colors duration-200 shadow-md hover:shadow-lg border border-violet-500/50",children:"Login / Sign Up"})]})]}),f&&l&&A.jsx(pn,{tutorialId:W.HEADER_MY_LEARNINGS,isActive:!0,targetSelector:"#my-learnings-button",title:"Your Knowledge Book!",text:"This is your 'My Learnings' book. After winning a case, new things you've learned about math will show up here. Click it to see what you know!",position:"bottom-right",onDismiss:a,overlayClassName:"bg-slate-950/80 backdrop-blur-xl",highlightTarget:!0})]}),eM=({isOpen:n,onClose:e,learnings:l})=>{const[a,r]=Y.useState({});if(!n)return null;const f=y=>{r(g=>({...g,[y]:!g[y]}))},h=l.reduce((y,g)=>(y[g.level]||(y[g.level]=[]),y[g.level].push(g),y),{}),p=Object.keys(h).map(Number).sort((y,g)=>y-g);for(const y in h)h[y].sort((g,v)=>g.timestamp-v.timestamp);return A.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center p-2 sm:p-4 z-50 transition-opacity duration-300 ease-in-out animate-fadeIn",role:"dialog","aria-modal":"true","aria-labelledby":"learnings-modal-title",onClick:e,children:A.jsxs("div",{className:"glassmorphic-surface p-4 sm:p-5 md:p-6 rounded-xl shadow-2xl max-w-xl w-full max-h-[95vh] sm:max-h-[85vh] flex flex-col border border-sky-500/50",onClick:y=>y.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-slate-700/80",children:[A.jsx("h2",{id:"learnings-modal-title",className:"text-xl sm:text-2xl md:text-3xl font-bold text-sky-400",children:"📖 My Learnings"}),A.jsx("button",{onClick:e,className:"text-slate-400 hover:text-sky-400 text-2xl sm:text-3xl font-light rounded-full p-1 leading-none hover:bg-slate-700/50 transition-colors","aria-label":"Close my learnings",children:"×"})]}),A.jsx("div",{className:"flex-grow overflow-y-auto pr-1 sm:pr-2 space-y-2.5 sm:space-y-3",children:l.length===0?A.jsx("p",{className:"text-slate-400 text-center py-8 sm:py-10 text-sm sm:text-base",children:"Your knowledge book is empty for now. Win cases to fill it with amazing math learnings!"}):p.map(y=>A.jsxs("div",{className:"border border-slate-700/70 rounded-lg overflow-hidden bg-slate-800/40 backdrop-blur-sm",children:[A.jsxs("button",{onClick:()=>f(y),className:"w-full flex justify-between items-center p-2.5 sm:p-3 bg-slate-700/50 hover:bg-slate-600/60 transition-colors text-left focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1 focus:ring-offset-slate-800","aria-expanded":!!a[y],"aria-controls":`learnings-level-${y}`,children:[A.jsxs("span",{className:"font-semibold text-base sm:text-lg text-sky-300",children:["Level ",y," Learnings"]}),A.jsx("span",{className:`transform transition-transform duration-200 text-sky-400 text-xl sm:text-2xl ${a[y]?"rotate-180":"rotate-0"}`,children:"▼"})]}),a[y]&&A.jsx("div",{id:`learnings-level-${y}`,className:"p-2.5 sm:p-3 bg-slate-800/30",children:A.jsx("ul",{className:"list-disc list-inside space-y-1.5 sm:space-y-2 text-slate-300",children:h[y].map((g,v)=>A.jsxs("li",{className:"pl-1 sm:pl-2 leading-relaxed text-xs sm:text-sm md:text-base",children:[g.text,A.jsxs("p",{className:"text-[10px] xs:text-xs text-slate-500 ml-3 sm:ml-4",children:["Learned on: ",new Date(g.timestamp).toLocaleDateString()]})]},`${y}-${v}-${g.timestamp}`))})})]},y))}),A.jsx("button",{onClick:e,className:"mt-4 sm:mt-6 w-full sm:w-auto self-center bg-sky-600 hover:bg-sky-700/90 text-white font-semibold py-2 sm:py-2.5 px-5 sm:px-6 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2 focus:ring-offset-slate-800 border border-sky-500/70 text-sm sm:text-base",children:"Close"})]})})},tM=()=>{const[n,e]=Y.useState(null),[l,a]=Y.useState(re.AUTH),[r,f]=Y.useState("login"),[h,p]=Y.useState(null),[y,g]=Y.useState(null),[v,_]=Y.useState(!0),[E,b]=Y.useState(!1),[I,V]=Y.useState(!1),[q,ee]=Y.useState(1),[K,X]=Y.useState(null),[te,z]=Y.useState(null),[de,pe]=Y.useState(new Set),[oe,ae]=Y.useState(!1),[Z,Ce]=Y.useState([]),[Be,Ve]=Y.useState(!1);Y.useEffect(()=>{_(!0);const Q=localStorage.getItem(Bo);Q?JSON.parse(localStorage.getItem(ss)||"{}")[Q]?e(Q):(localStorage.removeItem(Bo),e(null),a(re.AUTH),f("login")):(e(null),a(re.AUTH),f("login"))},[]),Y.useEffect(()=>{if(n){z(null);const Q=wt($u,n),at=localStorage.getItem(Q);ee(at?parseInt(at,10):1);const lt=wt(Zu,n),Dt=localStorage.getItem(lt);if(Dt)try{const Se=JSON.parse(Dt);Array.isArray(Se)&&(Se.length===0||typeof Se[0]=="object"&&"level"in Se[0])?Ce(Se):(localStorage.removeItem(lt),Ce([]))}catch{localStorage.removeItem(lt),Ce([])}else Ce([]);const kt=wt(as,n),Vt=localStorage.getItem(kt);if(Vt)try{pe(new Set(JSON.parse(Vt)))}catch{localStorage.removeItem(kt),pe(new Set)}else pe(new Set);const se=wt(Ju,n);ae(localStorage.getItem(se)==="true"),l===re.AUTH&&a(re.GENERATING_CASE)}else ee(1),Ce([]),pe(new Set),ae(!1),p(null),g(null),f("login"),l!==re.AUTH&&a(re.AUTH)},[n,l]);const Ee=Y.useCallback(Q=>{n&&pe(at=>{const lt=new Set(at);return lt.add(Q),localStorage.setItem(wt(as,n),JSON.stringify(Array.from(lt))),lt})},[n]),Re=Y.useCallback(()=>{if(!n)return;const Q=Object.values(W);pe(new Set(Q)),localStorage.setItem(wt(as,n),JSON.stringify(Q)),localStorage.setItem(wt(Ju,n),"true"),ae(!0)},[n]),U=Y.useCallback(Q=>!n||oe||q>1&&Q!==W.HEADER_MY_LEARNINGS||Q===W.HEADER_MY_LEARNINGS&&(oe||q>2&&de.has(Q))?!0:de.has(Q),[de,oe,q,n]);Y.useLayoutEffect(()=>{const Q=document.querySelector("header");Q&&document.documentElement.style.setProperty("--header-height",`${Q.offsetHeight}px`)},[l,n]);const $=Q=>Q<=l0?8:Q<=o0?9:10,me=Y.useCallback(async Q=>{if(n){if(!v){X(Wu+" Cannot generate new cases."),b(!1);return}b(!0),X(null);try{const at=$(Q),lt=await FR(Q,at,n);p(lt),g(null),a(re.CASE_BRIEFING)}catch(at){console.error("Failed to generate case:",at),X(`Oops! The case files got stuck. (${at instanceof Error?at.message:"Unknown error"}). Try refreshing?`),a(re.GENERATING_CASE)}finally{b(!1)}}},[v,n]);Y.useEffect(()=>{n&&l===re.GENERATING_CASE&&!E&&!h&&!K&&me(q)},[l,E,h,q,me,K,n]);const Le=Y.useCallback(()=>{h&&n&&(q===1&&!oe&&!de.has(W.CASE_BRIEFING_PROCEED_BUTTON)&&Ee(W.CASE_BRIEFING_PROCEED_BUTTON),a(re.TRIAL_INTRO))},[h,Ee,oe,q,de,n]),x=Y.useCallback((Q,at)=>{if(!n)return;g(Q),a(re.VERDICT);const lt=h&&Q===h.innocentVerdictIfPlayerSucceeds,Dt=q;if(at!=="timeup"&&lt&&h){const kt=new Set;h.keyConcepts.forEach(se=>{kt.add(`Key Concept from "${h.title}": ${se}.`)});const Vt=h.evidence.find(se=>se.isFlawed);Vt&&Vt.flawDescription&&kt.add(`Understood from "${h.title}": ${Vt.flawDescription}`),Ce(se=>{const Se=[...se];return kt.forEach(Te=>{Se.some(nt=>nt.level===Dt&&nt.text===Te)||Se.push({level:Dt,text:Te,timestamp:Date.now()})}),localStorage.setItem(wt(Zu,n),JSON.stringify(Se)),Se})}lt&&ee(kt=>{const Vt=kt+1;return localStorage.setItem(wt($u,n),Vt.toString()),Vt})},[h,q,n]),G=()=>{n&&(p(null),g(null),a(re.GENERATING_CASE))},J=Y.useCallback(Q=>n?q===1&&!oe&&!de.has(Q):!1,[q,oe,de,n]),L=Y.useCallback(()=>n?q===2&&Z.some(Q=>Q.level===1)&&!oe&&!de.has(W.HEADER_MY_LEARNINGS):!1,[q,Z,oe,de,n]),ne=async(Q,at)=>{V(!0),z(null),await new Promise(kt=>setTimeout(kt,300));const Dt=JSON.parse(localStorage.getItem(ss)||"{}")[Q];Dt&&Dt.passwordHash===at?(e(Q),localStorage.setItem(Bo,Q)):z("Invalid username or password."),V(!1)},Oe=async(Q,at)=>{V(!0),z(null),await new Promise(Dt=>setTimeout(Dt,300));let lt=JSON.parse(localStorage.getItem(ss)||"{}");if(lt[Q]){z("Username already exists. Please choose another or login."),V(!1);return}lt[Q]={username:Q,passwordHash:at},localStorage.setItem(ss,JSON.stringify(lt)),localStorage.setItem(wt($u,Q),"1"),localStorage.setItem(wt(Zu,Q),JSON.stringify([])),localStorage.setItem(wt(as,Q),JSON.stringify([])),localStorage.setItem(wt(Ju,Q),"false"),localStorage.setItem(wt(eg,Q),"0"),localStorage.setItem(wt(tg,Q),"0"),localStorage.setItem(wt(ng,Q),"0"),e(Q),localStorage.setItem(Bo,Q),V(!1)},ce=()=>{e(null),localStorage.removeItem(Bo),a(re.AUTH),f("login")},He=()=>{f(Q=>Q==="login"?"signup":"login"),z(null)},Me=()=>{l!==re.AUTH?(a(re.AUTH),f("login"),z(null)):He()};return l===re.AUTH&&n?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 p-4 text-center",children:A.jsx(hs,{heading:"Loading Your Profile...",subheading:"Please wait."})}):l===re.AUTH&&!n?A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(Qu,{currentLevel:q,onToggleLearningsModal:()=>Ve(Q=>!Q),showLearningsTutorial:!1,onDismissLearningsTutorial:()=>{},learningsCount:0,currentUser:null,onLogout:ce,onHeaderAuthAction:Me}),A.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center w-full p-4 overflow-y-auto min-h-0",children:[" ",A.jsx(XR,{mode:r,onToggleMode:He,onLogin:ne,onSignUp:Oe,authError:te,isLoading:I})]})]}):!n&&l!==re.AUTH?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-950 p-4 text-center",children:A.jsx(hs,{heading:"Redirecting to Login...",subheading:"Please wait."})}):!v&&l===re.GENERATING_CASE&&K&&n?A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(Qu,{currentLevel:q,onToggleLearningsModal:()=>Ve(Q=>!Q),showLearningsTutorial:L(),onDismissLearningsTutorial:()=>Ee(W.HEADER_MY_LEARNINGS),learningsCount:Z.length,currentUser:n,onLogout:ce,onHeaderAuthAction:Me}),A.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center w-full p-4 overflow-y-auto min-h-0",children:[" ",A.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center max-w-lg glassmorphic-surface rounded-xl border-red-500/50",children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-red-400 mb-4",children:"Critical Error"}),A.jsx("p",{className:"text-lg sm:text-xl text-slate-200 mb-6",children:K}),A.jsx("p",{className:"text-sm sm:text-md text-slate-400",children:"Please ensure the API key is correctly configured and refresh the application."})]})]})]}):A.jsxs("div",{className:"flex flex-col flex-grow min-h-0 bg-slate-950 text-slate-200",children:[" ",A.jsx(Qu,{currentLevel:q,onToggleLearningsModal:()=>Ve(Q=>!Q),showLearningsTutorial:L(),onDismissLearningsTutorial:()=>Ee(W.HEADER_MY_LEARNINGS),learningsCount:Z.length,currentUser:n,onLogout:ce,onHeaderAuthAction:Me}),A.jsxs("main",{className:"flex-grow flex flex-col w-full overflow-y-auto min-h-0",children:[" ",E&&l===re.GENERATING_CASE&&n&&A.jsxs("div",{className:"flex flex-col flex-grow items-center justify-center text-center p-4 sm:p-8",children:[A.jsx(hs,{heading:`Summoning Case Files for Level ${q}...`,subheading:"The court clerk is searching diligently."}),K&&A.jsx("p",{className:"text-red-400 mt-4 text-sm",children:K})]}),!E&&l===re.GENERATING_CASE&&K&&n&&A.jsx("div",{className:"flex flex-col flex-grow items-center justify-center text-center p-4 sm:p-8",children:A.jsxs("div",{className:"glassmorphic-surface p-6 md:p-8 rounded-xl border-red-500/50",children:[A.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-red-400 mb-3",children:"Case Generation Error"}),A.jsx("p",{className:"text-slate-300 mb-4 max-w-md",children:K}),A.jsx("button",{onClick:()=>me(q),className:"bg-sky-600 hover:bg-sky-700/90 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-colors text-base border border-sky-500/70",children:"Try Again"})]})}),l===re.CASE_BRIEFING&&h&&!y&&n&&A.jsxs("div",{id:"case-briefing-panel",className:"w-full max-w-3xl mx-auto p-4 sm:p-6 md:p-8 glassmorphic-surface rounded-xl shadow-xl my-4 sm:my-6 animate-fadeIn border-violet-500/50",children:[A.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-violet-400 mb-2 text-center",children:['Case Briefing: "',h.title,'"']}),A.jsxs("p",{className:"text-xs sm:text-sm text-center text-slate-400 mb-4 sm:mb-6",children:["(Level ",q," - ",h.classLevel,")"]}),A.jsxs("div",{className:"space-y-3 sm:space-y-4 text-slate-200 text-sm sm:text-base",children:[A.jsxs("p",{children:[A.jsx("strong",{className:"text-sky-400 font-semibold",children:"Your Friend:"})," ",h.clientName," - ",h.clientDescription]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-red-400 font-semibold",children:"The Problem:"})," ",h.accusation]}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-amber-400 font-semibold",children:"The Silly Prosecutor Says:"}),' "',h.initialProsecutionArgument,'"']}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-emerald-400 font-semibold",children:"Your Super Helper Suggests:"}),' "',h.initialCoCounselHint,'"']}),A.jsxs("p",{children:[A.jsx("strong",{className:"text-violet-300 font-semibold",children:"Key Ideas to Think About:"})," ",h.keyConcepts.join(", "),"."]}),A.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 italic mt-3 text-center",children:["You'll have ",h.caseDurationMinutes," minute",h.caseDurationMinutes!==1?"s":""," to solve this once the trial starts!"]})]}),A.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:A.jsx("button",{id:"proceed-to-trial-button",onClick:Le,className:"bg-violet-600 hover:bg-violet-700/90 text-white font-bold py-2.5 sm:py-3 px-6 sm:px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-base sm:text-lg border border-violet-500/70",children:"Let's Go to Court!"})}),J(W.CASE_BRIEFING_INTRO)&&A.jsx(pn,{tutorialId:W.CASE_BRIEFING_INTRO,isActive:!0,targetSelector:"#case-briefing-panel",title:"Time for a New Case!",text:"Read all about your new case here. See who your friend is, what the Silly Prosecutor says, and get a hint from your Super Helper!",position:"center",onDismiss:()=>Ee(W.CASE_BRIEFING_INTRO),highlightTarget:!0,showSkipAllButton:!0,onSkipAll:Re,overlayClassName:"bg-slate-950/70 backdrop-blur-lg"}),J(W.CASE_BRIEFING_PROCEED_BUTTON)&&de.has(W.CASE_BRIEFING_INTRO)&&A.jsx(pn,{tutorialId:W.CASE_BRIEFING_PROCEED_BUTTON,isActive:!0,targetSelector:"#proceed-to-trial-button",title:"Ready to Start?",text:"When you've read everything, click this button to go to the courtroom and help your friend!",position:"bottom",onDismiss:()=>Ee(W.CASE_BRIEFING_PROCEED_BUTTON),highlightTarget:!0,showSkipAllButton:!0,onSkipAll:Re,overlayClassName:"bg-slate-950/70 backdrop-blur-lg"})]}),l!==re.AUTH&&l!==re.GENERATING_CASE&&l!==re.CASE_BRIEFING&&l!==re.VERDICT&&h&&n&&A.jsx(jR,{caseData:h,onConcludeCase:x,apiKeyAvailable:v,isTutorialStepComplete:U,markTutorialStepAsComplete:Ee,allTutorialsSkipped:oe,currentLevel:q,onSkipAll:Re}),l===re.VERDICT&&y&&n&&A.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 sm:p-6 md:p-8 glassmorphic-surface rounded-xl shadow-2xl my-4 sm:my-8 text-center animate-fadeIn border-2 border-amber-500/60",children:[A.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold mb-3 sm:mb-4",children:[A.jsx("span",{className:"text-amber-400",children:"Case "}),A.jsx("span",{className:"text-slate-100",children:"Closed!"})]}),A.jsx("div",{className:"my-4 sm:my-6 p-3 sm:p-4 bg-slate-800/60 backdrop-blur-sm rounded-lg shadow-inner border border-slate-700/50",children:A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-amber-300 font-semibold",children:y})}),h&&y===h.innocentVerdictIfPlayerSucceeds&&A.jsx("p",{className:"text-emerald-400 text-md sm:text-lg mb-5 sm:mb-6 animate-pulse",children:"🎉 You did it! Your friend is safe! You leveled up! 🎉"}),h&&y!==h.innocentVerdictIfPlayerSucceeds&&A.jsxs("p",{className:"text-red-400 text-md sm:text-lg mb-5 sm:mb-6",children:["😢 Oh no! Better luck next time. You'll stay at Level ",q,"."]}),A.jsxs("button",{onClick:G,className:"bg-emerald-600 hover:bg-emerald-700/90 text-white font-bold py-2.5 sm:py-3 px-6 sm:px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 text-base sm:text-lg border border-emerald-500/70",children:["Start Next Case (Level ",(h&&y===h.innocentVerdictIfPlayerSucceeds,q),")"]})]})]}),n&&A.jsx(eM,{isOpen:Be,onClose:()=>Ve(!1),learnings:Z})]})},wg=document.getElementById("root");if(!wg)throw new Error("Could not find root element to mount to");const nM=t0.createRoot(wg);nM.render(A.jsx(Zv.StrictMode,{children:A.jsx(tM,{})}));
